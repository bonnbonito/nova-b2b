{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA,WAAW,qBAAqB;AAChC;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,qBAAqB;AAChC;AACA,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACO;AACP,iCAAiC;AACjC;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,qBAAqB;AAChC;AACA,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACO;AACP,iCAAiC;AACjC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,WAAW,qBAAqB;AAChC;AACA,WAAW,QAAQ;AACnB,YAAY,MAAM;AAClB;AACO;AACP,iCAAiC;AACjC;AACA;;;;;;;;;;;;;;;;;;;;;;AChKiD;AACT;AACa;AACC;AAE/C,MAAMM,WAAW,GAAGA,CAAA,KAAM;EAChC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,+CAAQ,CAAC,KAAK,CAAC;EACzC,MAAM,CAACO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;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC5BiC;AACF;AACK;AACJ;AAChC,wBAAwB,6CAAgB,yBAAyB,QAAQ,gDAAmB,CAAC,6CAAY,EAAE,+CAAQ,GAAG,WAAW,mBAAmB,gDAAO,EAAE,MAAM;AACnK,+BAA+B,6CAAY;AAC3C,iEAAe,iBAAiB,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACNK;AACP;AAC2B;AACH;AACP;AACuB;AAChE;AACP;AACA;AACO,oCAAoC;AAC3C;AACA;AACA;AACA,qCAAqC;AACrC,oCAAoC,iDAAiD,sBAAsB,0CAA0C,qBAAqB;AAC1K;AACA;AACO;AACP,6BAA6B,yCAAY;AACzC,wBAAwB,yCAAY;AACpC,qBAAqB,yCAAY;AACjC,aAAa,2CAAc;AAC3B,gBAAgB,2CAAc,eAAe,OAAO,qEAAc,KAAK;AACvE,oBAAoB,yCAAY;AAChC,IAAI,4CAAe;AACnB;AACA,KAAK;AACL,IAAI,4CAAe;AACnB;AACA;AACA,0BAA0B,oDAAa;AACvC,4CAA4C,6DAA6D;AACzG;AACA;AACA,gDAAgD,gEAAgE;AAChH;AACA;AACA;AACA,KAAK;AACL,4BAA4B,8CAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,sEAAuB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,sEAAuB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2DAAY;AAC3B,KAAK;AACL,wBAAwB,8CAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,4FAA4F;AACvK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qCAAqC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,uBAAuB,8CAAiB;AACxC,sBAAsB;AACtB;AACA;AACA,0FAA0F,qBAAqB;AAC/G,SAAS;AACT,KAAK;AACL,2BAA2B,8CAAiB;AAC5C;AACA;AACA,KAAK;AACL,sBAAsB,8CAAiB;AACvC;AACA,KAAK;AACL,0BAA0B,8CAAiB;AAC3C;AACA,KAAK;AACL,IAAI,4CAAe;AACnB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,0DAA0D,yDAAU;AACpE,8DAA8D,yDAAU;AACxE,kEAAkE,yDAAU;AAC5E;AACA,2DAA2D,wBAAwB;AACnF,iEAAiE,yDAAU;AAC3E,qEAAqE,yDAAU;AAC/E,yEAAyE,yDAAU;AACnF;AACA,KAAK;AACL;AACA,YAAY,gDAAmB,CAAC,2CAAc;AAC9C,gBAAgB,gDAAmB,UAAU,2BAA2B;AACxE,0BAA0B,gDAAmB,CAAC,oEAAe,IAAI,mBAAmB;AACpF;;;;;;;;;;;;;;;;;;;;;;ACjJyC;AACV;AAC4D;AAC3C;AACX;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,6CAAgB;AACnC,cAAc,yCAAY;AAC1B,aAAa,2CAAc;AAC3B;AACA;AACA;AACA,KAAK;AACL,gXAAgX,6CAAM;AACtX;AACA,uBAAuB,8DAAY;AACnC,yBAAyB,+CAAQ,CAAC,+CAAQ,GAAG;AAC7C,YAAY,gDAAmB,CAAC,2CAAc;AAC9C,oBAAoB,gDAAmB,YAAY,SAAS,8CAAS,wKAAwK;AAC7O,wBAAwB,+CAAkB,CAAC,2CAAc,iBAAiB,+CAAQ,CAAC,+CAAQ,GAAG,qBAAqB,mBAAmB,OAAO,gDAAmB,YAAY,+CAAQ,GAAG,oBAAoB,yCAAyC;AACpP,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iFAAkB;AACjC,eAAe,iFAAkB;AACjC;AACwB;;;;;;;;;;;;;;;;ACnCxB;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,sCAAsC,iBAAiB;;;;;;;;;;;;;;;;;AClB9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,gDAAgD;AACzC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC/FkD;AAC3C,gBAAgB,gEAAmB;;;;;;;;;;;;;;;;;;;ACDE;AACO;AACd;AACrC,iEAAe,0DAAa,CAAC,8CAAS,EAAE,4DAAmB,CAAC,EAAC;;;;;;;;;;;;;;;;;ACHjB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACO;AACP,mBAAmB,yDAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACf+B;AACmB;AAClD;AACA;AACA,SAAS,sBAAsB;AAC/B;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACO;AACP,gBAAgB,+DAAmB;AACnC;AACA,QAAQ,4CAAe;AACvB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;;;;ACrB6C;AACK;AACN;;;;;;;;;;;;;;;;;ACFP;AACrC;AACA;AACA;AACA;AACA;AACA,gBAAgB,mDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;AC/CA;AACA;AACA,WAAW,WAAW;AACtB;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACrBwC;AACE;AAC1C;AACA;AACA,WAAW,eAAe;AAC1B,aAAa,kBAAkB,8CAA8C;AAC7E;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA;AACA,iDAAiD;AACjD,sBAAsB,OAAO;AAC7B;AACA;AACO;AACP,WAAW,uDAAc,6CAA6C,qCAAqC,OAAO,qDAAS,kBAAkB,IAAI;AACjJ;;;;;;;;;;;;;;;;;;AClBiC;AACjC;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACO;AACP,cAAc,+CAAQ,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK,IAAI;AACT;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACtCyC;AACV;AAC/B;AACA,qCAAqC,6CAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gDAAmB,SAAS,+CAAQ,GAAG;AAClD;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;;;;ACjBiC;AACjC;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,sDAAsD,oBAAoB;AAC1E;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,eAAe;AACpD,sCAAsC,gBAAgB;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACO;AACP,iCAAiC;AACjC;AACA;AACA;AACO;AACP,8BAA8B;AAC9B;AACA,qBAAqB,+CAAQ,GAAG,yBAAyB;AACzD;AACA;;;;;;;;;;;;;;;;AC7EA;AACA,iEAAe;AACf;AACA,CAAC;;;;;;;;;;;;;;;ACHD,iEAAe,cAAc,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,UAAU,GAAG,yCAAyC;;;;;;;;;;;;;;;ACApI;AACA;AACA;AACA;AACA;AACe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;ACjBqC;AACrC;AACA;AACA;AACA;;AAEA;;AAEA,gBAAgB,SAAS;AACzB;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;;AAEA,OAAO,wDAAQ;AACf;AACA;;AAEA;AACA;;AAEA,iEAAe,SAAS;;;;;;;;;;;;;;;;;;AChCS;AACN;AACsB;;AAEjD;AACA,MAAM,kDAAM;AACZ,WAAW,kDAAM;AACjB;;AAEA;AACA,iDAAiD,+CAAG,KAAK;;AAEzD;AACA,mCAAmC;;AAEnC;AACA;;AAEA,oBAAoB,QAAQ;AAC5B;AACA;;AAEA;AACA;;AAEA,SAAS,8DAAe;AACxB;;AAEA,iEAAe,EAAE;;;;;;;;;;;;;;;;AC5Bc;;AAE/B;AACA,qCAAqC,iDAAK;AAC1C;;AAEA,iEAAe,QAAQ;;;;;;;;;;;ACNvB;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAe;AACf;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbsU;AAChR;;AAEtD;AACA;AACA;AACA;AACA,IAAI;AACJ,mBAAmB,+DAAW;AAC9B,wBAAwB,oEAAgB;AACxC,sBAAsB,iEAAa;AACnC,eAAe,2DAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gEAAY;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,kBAAkB,4BAA4B;AAC9C;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,EAAE,4DAAQ;AACd,wBAAwB,oEAAgB;AACxC;AACA;AACA,6BAA6B,oEAAgB;AAC7C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,4BAA4B,oEAAgB;AAC5C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM,EAAE,4DAAQ;AAChB;AACA;AACA;AACA,0BAA0B,oEAAgB;AAC1C;AACA;AACA;AACA;AACA,iBAAiB,oEAAgB;AACjC,mBAAmB,iEAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,uDAAG;AAC1B,uBAAuB,uDAAG;;AAE1B;AACA;AACA;AACA;AACA;AACA,mBAAmB,yDAAK;;AAExB;AACA;AACA;AACA;AACA,qDAAqD,gEAAY;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,CAAC;;AAED;AACA,mGAAmG,gEAAY,qEAAqE,gEAAY,oEAAoE,2DAAO;AAC3Q;AACA;AACA,aAAa,gEAAY,8CAA8C,iFAA6B;AACpG;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,4BAA4B,0DAAU;AACtC;AACA;AACA,QAAQ,EAAE,4DAAQ;AAClB,4EAA4E,0DAAU;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qEAAiB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,2DAAO;AAChD;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,gEAAY;AACtC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,MAAM,gEAAY;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,EAAE,4DAAQ;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2DAAO;AAC1B,8BAA8B,2DAAO;AACrC;AACA,sGAAsG,wEAAoB,sBAAsB,yEAAqB;AACrK;AACA,mCAAmC,6EAAyB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qEAAiB;AACvC;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,qDAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ,EAAE,4DAAQ;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,uDAAG;AAClB,eAAe,uDAAG;AAClB,eAAe,uDAAG;AAClB,eAAe,uDAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,4BAA4B,oEAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,EAAE,4DAAQ;AAClB;AACA;AACA,uBAAuB,oEAAgB;AACvC,4BAA4B,oEAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,+DAAW;AACzB;AACA;AACA,0BAA0B,2DAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,2DAAO;AACpC,2BAA2B,uDAAG;AAC9B,0BAA0B,uDAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,eAAe,2DAAO;AACtB,oBAAoB,gEAAY;AAChC,qBAAqB,+DAAW;AAChC;AACA;AACA,mBAAmB,4DAAQ;;AAE3B;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ,EAAE,4DAAQ;AAClB;AACA;AACA;AACA;AACA;AACA,wBAAwB,+DAAW,CAAC,2DAAO;AAC3C,uBAAuB,mEAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,yDAAK;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yDAAK;AAC9B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ,EAAE,4DAAQ;AAClB;AACA;AACA;AACA;AACA,wBAAwB,+DAAW;AACnC,uBAAuB,mEAAe;AACtC;AACA;AACA,wBAAwB,4DAAQ;AAChC;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,2DAAO;AAC7D;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,wBAAwB;AACxB;AACA,QAAQ,EAAE,4DAAQ;AAClB;AACA,mBAAmB,2DAAO;AAC1B,wBAAwB,gEAAY;AACpC,sBAAsB,+DAAW;AACjC;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,uDAAG;AACnD,QAAQ;AACR;AACA,iDAAiD,uDAAG;AACpD;AACA;AACA,qBAAqB,uDAAG;AACxB,qBAAqB,uDAAG;AACxB,qBAAqB,uDAAG;AACxB,qBAAqB,uDAAG;AACxB;AACA,iFAAiF,uDAAG;AACpF,UAAU;AACV,mFAAmF,uDAAG;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEsH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACl/B3B;AACmC;AACpD;AACqN;AACjO;;AAE9D;AACA,cAAc,wEAAgB;AAC9B;AACA;AACA;AACA;AACA,oBAAoB,qEAAa;AACjC;AACA;AACA,yBAAyB,yDAAK,2BAA2B,yDAAK;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,iEAAS;AACnB;;AAEA;AACA;AACA,OAAO,qEAAa;AACpB,WAAW,gEAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,eAAe,yDAAK;AACpB,eAAe,yDAAK;;AAEpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,gEAAY;AAC3C;AACA,cAAc,iEAAS;AACvB,OAAO,gEAAQ;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,iEAAS;AAC5E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gEAAY;AAC1B;AACA;AACA,UAAU,iEAAS;AACnB;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,2HAA2H,gEAAY;AACvI;AACA;AACA;AACA;AACA;AACA,gBAAgB,iEAAS;AACzB,sCAAsC,iEAAS,iBAAiB,iEAAS;AACzE;AACA;AACA;AACA;AACA,kBAAkB,wEAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iEAAS;AAC/B;AACA;AACA,SAAS,oEAAgB;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,kCAAkC,qEAAa;AAC/C,0BAA0B,0EAAkB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,gEAAY;AAC1B,kBAAkB,gEAAY;AAC9B;AACA,QAAQ,mEAAW,6BAA6B,yEAAiB;AACjE,eAAe,qEAAa;AAC5B;AACA,QAAQ,qEAAa;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,0EAAkB,kBAAkB,qEAAa;AAChF;;AAEA;AACA;AACA;AACA,eAAe,0EAAkB;AACjC,iBAAiB,qEAAa;AAC9B;AACA,gBAAgB,uDAAG;AACnB,iBAAiB,uDAAG;AACpB;AACA;AACA,MAAM,wEAAgB;AACtB,SAAS,uDAAG;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,iEAAS;AACvB,eAAe,0EAAkB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gEAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qEAAa,gCAAgC,gEAAY;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,2BAA2B,0EAAkB;AAC7C,IAAI,SAAS,iEAAS;AACtB;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,oEAAgB;AACzB;AACA;AACA,qBAAqB,qEAAa;AAClC,kCAAkC,iEAAS,gBAAgB,6EAAqB;AAChF;AACA;AACA,SAAS,wEAAgB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4EAAoB,kCAAkC,iEAAS,QAAQ,mEAAW;AACjG;AACA,yBAAyB,wEAAgB;AACzC,qCAAqC,qEAAa;;AAElD;AACA,SAAS,iEAAS,kBAAkB,6EAAqB;AACzD,0BAA0B,wEAAgB;AAC1C,oCAAoC,yEAAiB;AACrD;AACA;AACA;AACA,kTAAkT,yEAAiB;AACnU;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,kBAAkB,qEAAa;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,kBAAkB,uDAAG;AACrB,oBAAoB,uDAAG;AACvB,qBAAqB,uDAAG;AACxB,mBAAmB,uDAAG;AACtB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC,qEAAa;AAC/C,0BAA0B,0EAAkB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gEAAY;AAC9B;AACA,QAAQ,mEAAW,6BAA6B,yEAAiB;AACjE,eAAe,qEAAa;AAC5B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO,qEAAa,aAAa,wEAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,iEAAS;AAC1B,OAAO,qEAAa;AACpB;AACA;AACA;AACA,yBAAyB,sEAAc,kBAAkB,wEAAgB;AACzE;AACA;AACA,uBAAuB,mEAAW,6BAA6B,mEAAW,6BAA6B,wEAAgB,yCAAyC,yEAAiB;AACjL;AACA;AACA,yBAAyB,0EAAkB;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,wEAAgB;AACzB;;AAEA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,0EAAkB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,yDAAK;AAC1B,uBAAuB,yDAAK;AAC5B,wBAAwB,yDAAK;AAC7B,sBAAsB,yDAAK;AAC3B;AACA;AACA;AACA,iBAAiB,uDAAG,IAAI,uDAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,0EAA0E,4EAAoB,wBAAwB,4EAAoB;AAC1I;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,kEAAiB;AAC1B;AACA;AACA,GAAG;AACH;;AAEiD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvlBjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEyW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3HzW;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEmT;;;;;;;;;;;;;;;;AC/HnT,4FAA4F,6DAA6D,IAAI;AAC7J;AACA;AACA;AACA;AACA;;;;;AAK2E;AAC3E;;;;;;;;;;;;;;;;;;ACXwD;;;AAGxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kDAAkB;AAC7B;;;;;AAKgI;AAChI;;;;;;;;;;;;;;;;;;AC9B+J;;;AAG/J;AACA,kCAAkC,oDAAoB;AACtD;AACA,gBAAgB,kCAAkC,SAAS;AAC3D;AACA,sBAAsB,8CAAc;AACpC;AACA,6BAA6B,oDAAoB;AACjD;AACA,SAAS;AACT;AACA;AACA,wBAAwB,iDAAiB;AACzC;AACA,iEAAiE;AACjE,6BAA6B,aAAa,2BAA2B,kBAAkB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,oDAAoB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iDAAiD;AACrE,oHAAoH;AACpH;AACA,0BAA0B,8CAAc;AACxC;AACA,iCAAiC,oDAAoB;AACrD;AACA,aAAa;AACb;AACA;AACA;AACA,4BAA4B,iDAAiB;AAC7C;AACA,qEAAqE;AACrE,iCAAiC,aAAa,2BAA2B,kBAAkB;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,oDAAoB;AACrD,SAAS;AACT;AACA;AACA,mBAAmB,8CAAc;AACjC,+BAA+B,UAAU;AACzC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iEAAiE,4CAA4C;AAC7G;AACA;AACA;AACA;AACA,0DAA0D,UAAU;AACpE;AACA;AACA;AACA;AACA,aAAa,IAAI;AACjB,mBAAmB,8CAAc;AACjC,+BAA+B,oBAAoB;AACnD,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKoI;AACpI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;AACA;AACA;AACA,KAAK,gBAAgB,oDAAoB,CAAC,gFAAuB,EAAE,8EAAoC;AACvG;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA,gEAAgE,iDAAiB;AACjF,YAAY,+CAA+C;AAC3D;AACA,yBAAyB,oDAAoB,CAAC,gEAAgB,KAAK,8EAAoC;AACvG;AACA,KAAK;AACL;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gEAAgE,iDAAiB;AACjF,YAAY,qDAAqD;AACjE;AACA,yBAAyB,oDAAoB,CAAC,gEAAgB,IAAI,8EAAoC;AACtG;AACA,KAAK;AACL;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gEAAgE,iDAAiB;AACjF,YAAY,+CAA+C;AAC3D;AACA,yBAAyB,oDAAoB,CAAC,gEAAgB,SAAS,8EAAoC;AAC3G;AACA,KAAK;AACL;AACA,iBAAiB,yEAA2B;AAC5C;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,6FAA6F,sEAAoB;AACjH;AACA;AACA;AACA,CAAC;AACD,8CAA8C,mBAAmB;AACjE;AACA,yBAAyB,gCAAgC,kBAAkB,8BAA8B;;AAEzG,4BAA4B,8BAA8B;;AAE1D,4EAA4E,6BAA6B;AACzG,IAAI,gDAAgB;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,wDAAwD;AAC5G;AACA,6EAA6E,UAAU,QAAQ,EAAE,uCAAuC;AACxI,IAAI,gDAAgB;AACpB;AACA,qLAAqL,8DAA8D;AACnP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAK0gC;AAC1gC;;;;;;;;;;;;;;;;;;;;;;;;;;AC5WsF;AACoK;AAClK;AACmD;AACpD;AACE;AACM;;;;;;;;;AAS/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,oDAAoB;AACxF;AACA;AACA;AACA,CAAC;AACD,gEAAgE,iDAAiB;AACjF;AACA,YAAY,kQAAkQ;AAC9Q,oBAAoB,iDAAiB;AACrC,6BAA6B,+CAAe;AAC5C;AACA,sBAAsB,+CAAe,GAAG;AACxC,yBAAyB,6EAAsB;AAC/C;AACA;AACA;AACA;AACA,iBAAiB;AACjB,4HAA4H;AAC5H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,oFAAuB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,gDAAgB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,gDAAgB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI,gDAAgB;AACpB,yCAAyC;AACzC;AACA;AACA;AACA;AACA,KAAK;AACL,yBAAyB,oDAAoB,CAAC,gEAAgB,MAAM,8EAAoC,GAAG;AAC3G;AACA;AACA;AACA;AACA,SAAS;AACT,wBAAwB,yEAA2B;AACnD,uBAAuB,yEAA2B;AAClD,8BAA8B,yEAA2B;AACzD,KAAK;AACL,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gEAAgE,iDAAiB;AACjF,oBAAoB,iDAAiB;AACrC,gBAAgB,6CAAa;AAC7B,yBAAyB,6EAAsB;AAC/C,IAAI,gDAAgB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,yBAAyB,oDAAoB,CAAC,gEAAgB,MAAM,8EAAoC,GAAG;AAC3G;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,qCAAqC,gFAAqB;AAC1D,wCAAwC,6CAAa;AACrD,2BAA2B,6CAAa,OAAO;AAC/C,IAAI,gDAAgB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,kBAAkB;AAClB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,gFAAqB;AACpD,sCAAsC,6CAAa;AACnD,IAAI,gDAAgB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,qBAAqB;AAC1G;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,kBAAkB,sFAAkC;AACpD;AACA;AACA;AACA;;;;;AAKoP;AACpP;;;;;;;;;;;;;;;;;;;AC1RoD;;;AAGpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,gDAAgB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,4CAA4C,YAAY,iBAAiB;AACzE;AACA;AACA;;;;;AAKkL;AAClL;;;;;;;;;;;;;;;;;;;;;;ACtCsF;AAC+H;AAC9H;AACf;AACiB;;;;;;;AAOzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,iDAAiB;AACjF,YAAY,sJAAsJ;AAClK,uCAAuC,+CAAe;AACtD,6BAA6B,gFAAqB;AAClD,+BAA+B,gFAAqB;AACpD,kCAAkC,6CAAa;AAC/C,yBAAyB,6EAAsB;AAC/C;AACA,uBAAuB,6CAAa;AACpC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK,WAAW;AAChB,IAAI,gDAAgB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA,iBAAiB;AACjB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI,gDAAgB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,QAAQ;AACR,0BAA0B,kDAAkB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,qBAAqB;AACrB,kBAAkB;AAClB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,yBAAyB,oDAAoB,CAAC,gEAAgB,MAAM,8EAAoC;AACxG;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,4DAA4D,0BAA0B,IAAI;AAC1F;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FAA8F;AAC9F;AACA;AACA;AACA;AACA,KAAK;AACL,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gDAAgD,aAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,0BAA0B,IAAI;AAC9E;AACA;AACA,iEAAiE;AACjE;AACA;AACA,SAAS,GAAG;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKoH;AACpH;;;;;;;;;;;;;;;;;;;ACnSsC;AACsD;;;;AAI5F,yCAAyC,yLAAY;AACrD;AACA;AACA;AACA,wBAAwB,2CAAqB,sCAAsC;AACnF,IAAI,kFAAsB;AAC1B;AACA;AACA,KAAK;AACL;AACA;AACA,6CAA6C,GAAG;AAChD;;;;;AAK4D;AAC5D;;;;;;;;;;;;;;;;;;;;;ACvBsF;AACO;AACrD;AACgC;;;;;;AAMxE;AACA;AACA;AACA,gEAAgE,iDAAiB;AACjF;AACA,YAAY,gOAAgO;AAC5O,qCAAqC,mDAA4B,eAAe,oDAAoB,CAAC,gEAAgB,MAAM,8EAAoC,GAAG;AAClK;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA,CAAC;AACD;;;;;AAKgH;AAChH;;;;;;;;;;;;;;;;;;;;AC5BgP;AACxL;AAC+B;AACK;;;;;;;AAO5F;AACA,WAAW,iDAAiB;AAC5B;AACA;AACA,KAAK;AACL;;;AAGA;AACA,YAAY,yCAAyC;AACrD;AACA;AACA;AACA,KAAK,IAAI,2CAAe;AACxB,gBAAgB,6EAAsB;AACtC;AACA,4DAA4D,mDAAmB;AAC/E;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,6BAA6B,+CAAe;AAC5C,sBAAsB,6CAAa,GAAG;AACtC,2BAA2B,6CAAa;AACxC,iCAAiC,6CAAa;AAC9C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL,IAAI,gDAAgB;AACpB;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI,kFAAsB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,IAAI,kFAAsB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oDAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,kDAAkB;AAC/B;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;;AAK+D;AAC/D;;;;;;;;;;;;;;;;;;;;;;AC1IsF;AACsC;AACpE;AACC;;;;;;AAMzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,+BAA+B,iDAAiB;AAChD,gBAAgB,uCAAuC;AACvD,+BAA+B,sDAAW;AAC1C,QAAQ,gDAAgB;AACxB;AACA,SAAS;AACT,6BAA6B,oDAAoB,OAAO,8EAAoC,GAAG;AAC/F;AACA,SAAS;AACT,KAAK;AACL,oCAAoC,KAAK;AACzC;AACA;AACA;AACA;AACA,CAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;A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ACrI,0BAA0B,MAAM,iBAAiB,YAAY;AAC7D,qBAAqB;AACrB,4BAA4B;AAC5B,2BAA2B;AAC3B,0BAA0B;AAC1B;;AAEO;AACP;AACA,eAAe,6CAA6C,UAAU,sDAAsD,cAAc;AAC1I,wBAAwB,6BAA6B,oBAAoB,uCAAuC,kBAAkB;AAClI;;AAEO;AACP;AACA;AACA,yGAAyG,uFAAuF,cAAc;AAC9M,qBAAqB,8BAA8B,gDAAgD,wDAAwD;AAC3J,2CAA2C,sCAAsC,UAAU,mBAAmB,IAAI;AAClH;;AAEO;AACP,+BAA+B,uCAAuC,YAAY,KAAK,OAAO;AAC9F;AACA;;AAEA;AACA,wCAAwC,4BAA4B;AACpE,CAAC;AACD;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,2CAA2C;AAC3C;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,8CAA8C;AACnE;AACA;AACA,qBAAqB,aAAa;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,SAAS,gBAAgB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAC;;;;;;;UCjXF;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA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","sources":["webpack://nova-quote/./node_modules/aria-hidden/dist/es2015/index.js","webpack://nova-quote/./src/scripts/DeleteQuote.js","webpack://nova-quote/./src/scripts/Dropdown.js","webpack://nova-quote/./src/scripts/EditableText.js","webpack://nova-quote/./src/scripts/FontsDropdown.js","webpack://nova-quote/./src/scripts/ModalSave.js","webpack://nova-quote/./src/scripts/Prices.js","webpack://nova-quote/./src/scripts/PricesView.js","webpack://nova-quote/./src/scripts/QuoteView.js","webpack://nova-quote/./src/scripts/Sidebar.js","webpack://nova-quote/./src/scripts/SidebarNoPrice.js","webpack://nova-quote/./src/scripts/Signage.js","webpack://nova-quote/./src/scripts/UploadFiles.js","webpack://nova-quote/./src/scripts/UploadFont.js","webpack://nova-quote/./src/scripts/products/acrylic/LaserCutAcrylic/ColorOptions.js","webpack://nova-quote/./src/scripts/products/acrylic/LaserCutAcrylic/LaserCutAcrylic.js","webpack://nova-quote/./src/scripts/products/acrylic/LaserCutAcrylic/components/Letters.js","webpack://nova-quote/./src/scripts/products/acrylic/LaserCutAcrylic/components/Logo.js","webpack://nova-quote/./src/scripts/products/acrylic/LayeredAcrylic/LayeredAcrylic.js","webpack://nova-quote/./src/scripts/products/acrylic/LayeredAcrylic/components/Logo.js","webpack://nova-quote/./src/scripts/products/acrylic/MetalLaminate/MetalLaminate.js","webpack://nova-quote/./src/scripts/products/acrylic/MetalLaminate/components/Letters.js","webpack://nova-quote/./src/scripts/products/acrylic/MetalLaminate/components/Logo.js","webpack://nova-quote/./src/scripts/products/acrylic/UvPrintedAcrylic/UvPrintedAcrylic.js","webpack://nova-quote/./src/scripts/products/acrylic/UvPrintedAcrylic/components/Logo.js","webpack://nova-quote/./src/scripts/products/custom/CustomProject.js","webpack://nova-quote/./src/scripts/products/custom/components/Logo.js","webpack://nova-quote/./src/scripts/products/metal-channel/TrimLessBackLit/TrimLessBackLit.js","webpack://nova-quote/./src/scripts/products/metal-channel/TrimLessBackLit/components/Letters.js","webpack://nova-quote/./src/scripts/products/metal-channel/TrimLessFrontAndBackLit/TrimLessFrontAndBackLit.js","webpack://nova-quote/./src/scripts/products/metal-channel/TrimLessFrontAndBackLit/components/Letters.js","webpack://nova-quote/./src/scripts/products/metal-channel/TrimLessFrontLit/TrimLessFrontLit.js","webpack://nova-quote/./src/scripts/products/metal-channel/TrimLessFrontLit/components/Letters.js","webpack://nova-quote/./src/scripts/products/metal-channel/metalChannelOptions.js","webpack://nova-quote/./src/scripts/products/metal/FabricatedStainless/FabricatedStainless.js","webpack://nova-quote/./src/scripts/products/metal/FabricatedStainless/components/Letters.js","webpack://nova-quote/./src/scripts/products/metal/FabricatedStainless/components/Logo.js","webpack://nova-quote/./src/scripts/products/metal/LaserCutAluminum/LaserCutAluminum.js","webpack://nova-quote/./src/scripts/products/metal/LaserCutAluminum/components/Letters.js","webpack://nova-quote/./src/scripts/products/metal/LaserCutAluminum/components/Logo.js","webpack://nova-quote/./src/scripts/products/metal/LaserCutStainless/LaserCutStainless.js","webpack://nova-quote/./src/scripts/products/metal/LaserCutStainless/components/Letters.js","webpack://nova-quote/./src/scripts/products/metal/LaserCutStainless/components/Logo.js","webpack://nova-quote/./src/scripts/products/metal/metalOptions.js","webpack://nova-quote/./src/scripts/products/pvc/PVCMetalLaminate/PVCMetalLaminate.js","webpack://nova-quote/./src/scripts/products/pvc/PVCMetalLaminate/components/Letters.js","webpack://nova-quote/./src/scripts/products/pvc/PVCMetalLaminate/components/Logo.js","webpack://nova-quote/./src/scripts/products/pvc/PVCPainted/PVCPainted.js","webpack://nova-quote/./src/scripts/products/pvc/PVCPainted/components/Letters.js","webpack://nova-quote/./src/scripts/products/pvc/PVCPainted/components/Logo.js","webpack://nova-quote/./src/scripts/products/pvc/PVCUv/PVCUv.js","webpack://nova-quote/./src/scripts/products/pvc/PVCUv/components/Logo.js","webpack://nova-quote/./src/scripts/products/pvc/pvcOptions.js","webpack://nova-quote/./src/scripts/svg/Icons.js","webpack://nova-quote/./src/scripts/utils/ClickOutside.js","webpack://nova-quote/./src/scripts/utils/ColorOptions.js","webpack://nova-quote/./src/scripts/utils/ConvertJson.js","webpack://nova-quote/./src/scripts/utils/FontOptions.js","webpack://nova-quote/./src/scripts/utils/Pricing.js","webpack://nova-quote/./src/scripts/utils/QuoteFunctions.js","webpack://nova-quote/./src/scripts/utils/SignageOptions.js","webpack://nova-quote/./src/scripts/utils/uploadFunctions.js","webpack://nova-quote/./node_modules/classnames/index.js","webpack://nova-quote/./node_modules/get-nonce/dist/es2015/index.js","webpack://nova-quote/./node_modules/react-tooltip/dist/react-tooltip.min.css","webpack://nova-quote/./src/index.css","webpack://nova-quote/./node_modules/react-remove-scroll-bar/dist/es2015/component.js","webpack://nova-quote/./node_modules/react-remove-scroll-bar/dist/es2015/constants.js","webpack://nova-quote/./node_modules/react-remove-scroll-bar/dist/es2015/index.js","webpack://nova-quote/./node_modules/react-remove-scroll-bar/dist/es2015/utils.js","webpack://nova-quote/./node_modules/react-remove-scroll/dist/es2015/Combination.js","webpack://nova-quote/./node_modules/react-remove-scroll/dist/es2015/SideEffect.js","webpack://nova-quote/./node_modules/react-remove-scroll/dist/es2015/UI.js","webpack://nova-quote/./node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js","webpack://nova-quote/./node_modules/react-remove-scroll/dist/es2015/handleScroll.js","webpack://nova-quote/./node_modules/react-remove-scroll/dist/es2015/medium.js","webpack://nova-quote/./node_modules/react-remove-scroll/dist/es2015/sidecar.js","webpack://nova-quote/./node_modules/react-style-singleton/dist/es2015/component.js","webpack://nova-quote/./node_modules/react-style-singleton/dist/es2015/hook.js","webpack://nova-quote/./node_modules/react-style-singleton/dist/es2015/index.js","webpack://nova-quote/./node_modules/react-style-singleton/dist/es2015/singleton.js","webpack://nova-quote/./node_modules/use-callback-ref/dist/es2015/assignRef.js","webpack://nova-quote/./node_modules/use-callback-ref/dist/es2015/useMergeRef.js","webpack://nova-quote/./node_modules/use-callback-ref/dist/es2015/useRef.js","webpack://nova-quote/./node_modules/use-sidecar/dist/es2015/exports.js","webpack://nova-quote/./node_modules/use-sidecar/dist/es2015/medium.js","webpack://nova-quote/./node_modules/uuid/dist/esm-browser/native.js","webpack://nova-quote/./node_modules/uuid/dist/esm-browser/regex.js","webpack://nova-quote/./node_modules/uuid/dist/esm-browser/rng.js","webpack://nova-quote/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://nova-quote/./node_modules/uuid/dist/esm-browser/v4.js","webpack://nova-quote/./node_modules/uuid/dist/esm-browser/validate.js","webpack://nova-quote/external window \"React\"","webpack://nova-quote/external window \"ReactDOM\"","webpack://nova-quote/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://nova-quote/./node_modules/@floating-ui/core/dist/floating-ui.core.mjs","webpack://nova-quote/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","webpack://nova-quote/./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","webpack://nova-quote/./node_modules/@floating-ui/utils/dom/dist/floating-ui.utils.dom.mjs","webpack://nova-quote/./node_modules/@radix-ui/primitive/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-compose-refs/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-context/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-dialog/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-focus-guards/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-focus-scope/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-id/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-portal/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-presence/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-primitive/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-slot/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-use-escape-keydown/dist/index.mjs","webpack://nova-quote/./node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs","webpack://nova-quote/./node_modules/react-tooltip/dist/react-tooltip.min.mjs","webpack://nova-quote/./node_modules/tslib/tslib.es6.mjs","webpack://nova-quote/webpack/bootstrap","webpack://nova-quote/webpack/runtime/compat get default export","webpack://nova-quote/webpack/runtime/create fake namespace object","webpack://nova-quote/webpack/runtime/define property getters","webpack://nova-quote/webpack/runtime/hasOwnProperty shorthand","webpack://nova-quote/webpack/runtime/make namespace object","webpack://nova-quote/webpack/runtime/nonce","webpack://nova-quote/./src/index.js"],"sourcesContent":["var getDefaultParent = function (originalTarget) {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n    return sampleTarget.ownerDocument.body;\n};\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = function (node) {\n    return node && (node.host || unwrapHost(node.parentNode));\n};\nvar correctTargets = function (parent, targets) {\n    return targets\n        .map(function (target) {\n        if (parent.contains(target)) {\n            return target;\n        }\n        var correctedTarget = unwrapHost(target);\n        if (correctedTarget && parent.contains(correctedTarget)) {\n            return correctedTarget;\n        }\n        console.error('aria-hidden', target, 'in not contained inside', parent, '. Doing nothing');\n        return null;\n    })\n        .filter(function (x) { return Boolean(x); });\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @param {String} [controlAttribute] - html Attribute to control\n * @return {Undo} undo command\n */\nvar applyAttributeToOthers = function (originalTarget, parentNode, markerName, controlAttribute) {\n    var targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var elementsToKeep = new Set();\n    var elementsToStop = new Set(targets);\n    var keep = function (el) {\n        if (!el || elementsToKeep.has(el)) {\n            return;\n        }\n        elementsToKeep.add(el);\n        keep(el.parentNode);\n    };\n    targets.forEach(keep);\n    var deep = function (parent) {\n        if (!parent || elementsToStop.has(parent)) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function (node) {\n            if (elementsToKeep.has(node)) {\n                deep(node);\n            }\n            else {\n                var attr = node.getAttribute(controlAttribute);\n                var alreadyHidden = attr !== null && attr !== 'false';\n                var counterValue = (counterMap.get(node) || 0) + 1;\n                var markerValue = (markerCounter.get(node) || 0) + 1;\n                counterMap.set(node, counterValue);\n                markerCounter.set(node, markerValue);\n                hiddenNodes.push(node);\n                if (counterValue === 1 && alreadyHidden) {\n                    uncontrolledNodes.set(node, true);\n                }\n                if (markerValue === 1) {\n                    node.setAttribute(markerName, 'true');\n                }\n                if (!alreadyHidden) {\n                    node.setAttribute(controlAttribute, 'true');\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    elementsToKeep.clear();\n    lockCount++;\n    return function () {\n        hiddenNodes.forEach(function (node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute(controlAttribute);\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            // clear\n            counterMap = new WeakMap();\n            counterMap = new WeakMap();\n            uncontrolledNodes = new WeakMap();\n            markerMap = {};\n        }\n    };\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-aria-hidden'; }\n    var targets = Array.from(Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    // we should not hide ariaLive elements - https://github.com/theKashey/aria-hidden/issues/10\n    targets.push.apply(targets, Array.from(activeParentNode.querySelectorAll('[aria-live]')));\n    return applyAttributeToOthers(targets, activeParentNode, markerName, 'aria-hidden');\n};\n/**\n * Marks everything except given node(or nodes) as inert\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var inertOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-inert-ed'; }\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    return applyAttributeToOthers(originalTarget, activeParentNode, markerName, 'inert');\n};\n/**\n * @returns if current browser supports inert\n */\nexport var supportsInert = function () {\n    return typeof HTMLElement !== 'undefined' && HTMLElement.prototype.hasOwnProperty('inert');\n};\n/**\n * Automatic function to \"suppress\" DOM elements - _hide_ or _inert_ in the best possible way\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var suppressOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-suppressed'; }\n    return (supportsInert() ? inertOthers : hideOthers)(originalTarget, parentNode, markerName);\n};\n","import * as Dialog from '@radix-ui/react-dialog';\r\nimport React, { useState } from 'react';\r\nimport { CloseIcon, LoadingIcon } from './svg/Icons';\r\nimport { processQuote } from './utils/QuoteFunctions';\r\n\r\nexport const DeleteQuote = () => {\r\n\tconst [error, setError] = useState(false);\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [label, setLabel] = useState(\"Yes I'm Sure\");\r\n\tconst [isDeleted, setIsDeleted] = useState(false);\r\n\r\n\tconst handleDeleteQuote = async (event) => {\r\n\t\tevent.preventDefault(); // Prevent default form submission\r\n\t\tsetIsLoading(true);\r\n\t\tsetLabel('Deleting...');\r\n\t\t// Form submission logic here\r\n\t\ttry {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('nonce', NovaQuote.nonce);\r\n\t\t\tformData.append('quote_id', NovaQuote.current_quote_id);\r\n\t\t\tformData.append('action', 'delete_quote');\r\n\t\t\tformData.append('role', NovaQuote.user_role[0]);\r\n\r\n\t\t\tconst data = await processQuote(formData);\r\n\r\n\t\t\tif (data.status === 'success') {\r\n\t\t\t\tsetLabel('Deleted');\r\n\t\t\t\tsetIsDeleted(true);\r\n\t\t\t\twindow.location.replace(NovaQuote.mockup_account_url);\r\n\t\t\t} else {\r\n\t\t\t\talert('Error');\r\n\t\t\t}\r\n\t\t\tconsole.log(data);\r\n\t\t} catch (err) {\r\n\t\t\t// Handle errors\r\n\t\t\tconsole.log(err);\r\n\t\t\tsetError('Failed to delete quote. Please try again.');\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Dialog.Root open={open} onOpenChange={setOpen}>\r\n\t\t\t\t<Dialog.Trigger asChild>\r\n\t\t\t\t\t<button className=\"border-nova-light border-solid rounded px-4 py-3 border font-title text-nova-gray uppercase text-xs bg-white inline-block hover:text-white hover:bg-red-600 w-full text-center cursor-pointer disabled:cursor-not-allowed\">\r\n\t\t\t\t\t\tDELETE QUOTE\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Dialog.Trigger>\r\n\t\t\t\t<Dialog.Portal>\r\n\t\t\t\t\t<Dialog.Overlay className=\"bg-black/50 data-[state=open]:animate-overlayShow fixed inset-0 z-[50]\" />\r\n\t\t\t\t\t<Dialog.Content className=\"data-[state=open]:animate-contentShow fixed top-[50%] left-[50%] max-h-[85vh] w-[90vw] max-w-[550px] translate-x-[-50%] translate-y-[-50%] rounded-[6px] bg-white p-[25px] shadow-[hsl(206_22%_7%_/_35%)_0px_10px_38px_-10px,_hsl(206_22%_7%_/_20%)_0px_10px_20px_-15px] focus:outline-none z-[51]\">\r\n\t\t\t\t\t\t<Dialog.Title className=\"m-0 font-title uppercase font-medium text-lg text-center\">\r\n\t\t\t\t\t\t\tDelete Quote\r\n\t\t\t\t\t\t</Dialog.Title>\r\n\t\t\t\t\t\t<Dialog.Description className=\"mt-[10px] mb-5 text-[15px] leading-normal\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\tclass=\"text-gray-400 dark:text-gray-500 w-11 h-11 mb-3.5 mx-auto\"\r\n\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t\td=\"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z\"\r\n\t\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{isDeleted ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<p class=\"mb-4 text-gray-500 text-center\">Deleted</p>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<p class=\"mb-4 text-gray-500 text-center\">\r\n\t\t\t\t\t\t\t\t\t\tAre you sure you want to delete this quote?\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div class=\"flex justify-center items-center space-x-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Dialog.Close asChild>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"py-2 px-3 border border-solid text-sm font-medium text-gray-500 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tNo, cancel\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</Dialog.Close>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDeleteQuote}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"py-2 px-3 text-sm font-medium text-center text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-900\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Dialog.Description>\r\n\t\t\t\t\t\t<Dialog.Close asChild>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"text-nova-gray absolute top-[10px] right-[10px] inline-flex h-[25px] w-[25px] appearance-none items-center justify-center focus:shadow-[0_0_0_2px] focus:outline-none border cursor-pointer\"\r\n\t\t\t\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Dialog.Close>\r\n\t\t\t\t\t</Dialog.Content>\r\n\t\t\t\t</Dialog.Portal>\r\n\t\t\t</Dialog.Root>\r\n\t\t</>\r\n\t);\r\n};\r\n","export default function Dropdown({\r\n\ttitle,\r\n\tonChange,\r\n\toptions,\r\n\tvalue,\r\n\tstyle,\r\n\tonlyValue,\r\n}) {\r\n\tconst selectClass = value || onlyValue ? 'text-black' : 'text-[#dddddd]';\r\n\treturn (\r\n\t\t<div className=\"px-[1px]\">\r\n\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t{title}\r\n\t\t\t</label>\r\n\t\t\t<select\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={`border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] ${selectClass}`}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t\tvalue={value}\r\n\t\t\t>\r\n\t\t\t\t{!onlyValue && <option value=\"\">CHOOSE OPTION</option>}\r\n\t\t\t\t{options}\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { Tooltip } from 'react-tooltip';\r\n\r\nexport default function EditableText({ id, text, onChange }) {\r\n\tconst [label, setLabel] = useState(text);\r\n\tconst [editing, setEditing] = useState(false);\r\n\r\n\tconst handleOnChange = (e) => {\r\n\t\tsetLabel(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {}, [label]);\r\n\r\n\tfunction handleOnCancel() {\r\n\t\tconsole.log('Cancelling');\r\n\t\tsetEditing(!editing);\r\n\t\tsetLabel(text);\r\n\t}\r\n\r\n\tconst CancelIcon = () => (\r\n\t\t<div\r\n\t\t\tonClick={handleOnCancel}\r\n\t\t\tdata-tooltip-id={id}\r\n\t\t\tdata-tooltip-content={'Cancel'}\r\n\t\t\tclassName=\"cursor-pointer\"\r\n\t\t>\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\tstroke=\"red\"\r\n\t\t\t\tclass=\"w-6 h-6\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\td=\"M6 18L18 6M6 6l12 12\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t);\r\n\r\n\tfunction handleOnSave() {\r\n\t\tsetEditing(!editing);\r\n\t\tonChange(label);\r\n\t}\r\n\r\n\tconst SaveIcon = () => (\r\n\t\t<div\r\n\t\t\tonClick={handleOnSave}\r\n\t\t\tdata-tooltip-id={id}\r\n\t\t\tdata-tooltip-content={'Save'}\r\n\t\t\tclassName=\"cursor-pointer\"\r\n\t\t>\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\tstroke-width=\"1.5\"\r\n\t\t\t\tstroke=\"#008000\"\r\n\t\t\t\tclass=\"w-6 h-6\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\td=\"M4.5 12.75l6 6 9-13.5\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst EditIcon = () => (\r\n\t\t<div\r\n\t\t\tonClick={() => setEditing(!editing)}\r\n\t\t\tdata-tooltip-id={id}\r\n\t\t\tdata-tooltip-content={'Edit Project Name'}\r\n\t\t>\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\tstrokeWidth={1.5}\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tclassName=\"w-5 h-5 cursor-pointer\"\r\n\t\t\t\taria-label={editing ? 'Confirm changes' : 'Edit label'}\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\td=\"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t\t<Tooltip id={id} />\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{editing ? (\r\n\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"uppercase\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={label}\r\n\t\t\t\t\t\tonChange={handleOnChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{label.length > 0 && <SaveIcon />}\r\n\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t<h3 className=\"signage-title uppercase mb-0\">{text}</h3>\r\n\t\t\t\t\t<EditIcon />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useRef, useState } from 'react';\r\nimport useOutsideClick from './utils/ClickOutside';\r\nimport { fontDefaultOptions } from './utils/FontOptions';\r\n\r\nexport default function FontsDropdown({\r\n\tfont,\r\n\thandleSelectFont,\r\n\tfontRef,\r\n\topenFont,\r\n\tsetOpenFont,\r\n\tsetOpenColor,\r\n}) {\r\n\tconst handleCustomFontSelection = () => {\r\n\t\t// TODO: Add your logic here for custom font selection\r\n\t\tconsole.log('Custom font selected');\r\n\t\thandleSelectFont('Custom font');\r\n\t\tsetOpenFont(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"px-[1px] relative\" ref={fontRef}>\r\n\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\tFONT\r\n\t\t\t</label>\r\n\t\t\t<div\r\n\t\t\t\tclassName={`flex px-2 items-center select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\tfont ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t}`}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetOpenFont((prev) => !prev);\r\n\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t}}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tfontFamily: font === 'Custom font' ? '' : font,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"truncate\">{font === '' ? 'CHOOSE OPTION' : font}</div>\r\n\t\t\t</div>\r\n\t\t\t{openFont && (\r\n\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t{/* Custom Font Option */}\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm font-title\"\r\n\t\t\t\t\t\tonClick={handleCustomFontSelection}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t- Custom Font\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<h5 class=\"p-2 pb-0\">Popular Fonts</h5>\r\n\r\n\t\t\t\t\t\t{fontDefaultOptions.popular_fonts.split(',').map((popularfont) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={`p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm ${\r\n\t\t\t\t\t\t\t\t\t\tpopularfont === font && 'bg-slate-200'\r\n\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontFamily: popularfont }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\thandleSelectFont(popularfont);\r\n\t\t\t\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t- {popularfont}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t<h5 class=\"p-2 pb-0\">Fonts</h5>\r\n\t\t\t\t\t\t{fontDefaultOptions.fonts.split(',').map((regFont) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={`p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm ${\r\n\t\t\t\t\t\t\t\t\t\tregFont === font && 'bg-slate-200'\r\n\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontFamily: regFont }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\thandleSelectFont(regFont);\r\n\t\t\t\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t- {regFont}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import * as Dialog from '@radix-ui/react-dialog';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { CloseIcon, LoadingIcon } from './svg/Icons';\r\nimport { processQuote } from './utils/QuoteFunctions';\r\nimport { checkAndCreateFolder, renameFolder } from './utils/uploadFunctions';\r\n\r\nfunction ModalSave({\r\n\tsignage,\r\n\taction,\r\n\tbtnClass,\r\n\tlabel,\r\n\trequired,\r\n\ttempFolder,\r\n\tstorage,\r\n\tisLoading,\r\n\tsetIsLoading,\r\n}) {\r\n\tconst [submitted, setSubmitted] = useState(false);\r\n\tconst [submitting, setSubmitting] = useState(false);\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [error, setError] = useState({});\r\n\tconst [quoteID, setQuoteID] = useState('');\r\n\tconst [title, setTitle] = useState(() =>\r\n\t\tNovaQuote.current_quote_title ? NovaQuote.current_quote_title : ''\r\n\t);\r\n\tconst formRef = useRef(null);\r\n\tconst inputRef = useRef(null);\r\n\r\n\tconst totalUsdPrice = signage.reduce(\r\n\t\t(acc, item) => acc + parseFloat(item.usdPrice),\r\n\t\t0\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (required && required.length > 0) {\r\n\t\t\tlet htmlString = '';\r\n\r\n\t\t\trequired.forEach((missing) => {\r\n\t\t\t\tif (missing.missingFields.length > 0) {\r\n\t\t\t\t\thtmlString += `<strong class=\"uppercase\">${missing.title}</strong>\\n<ul>\\n`;\r\n\r\n\t\t\t\t\t// Add each missing field as a list item\r\n\t\t\t\t\tmissing.missingFields.forEach((field) => {\r\n\t\t\t\t\t\thtmlString += `    <li>${field}</li>\\n`;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Close the unordered list for this item\r\n\t\t\t\t\thtmlString += '</ul>\\n';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (htmlString) {\r\n\t\t\t\tsetError({\r\n\t\t\t\t\ttype: 'missing',\r\n\t\t\t\t\tmessage: htmlString,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetError('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (\r\n\t\t\t\tNovaQuote.user_role[0] === 'pending' &&\r\n\t\t\t\t(action === 'update-processing' || action === 'processing')\r\n\t\t\t) {\r\n\t\t\t\tsetError({\r\n\t\t\t\t\ttype: 'not_approved',\r\n\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t'Error: Your account is not yet approved. You cannot submit a quotation yet.',\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetError(''); // No error\r\n\t\t\t}\r\n\t\t}\r\n\t}, [signage]);\r\n\r\n\tconst loadingStatus = () => {\r\n\t\tif (isLoading) {\r\n\t\t\treturn <LoadingIcon text=\"Saving...\" />;\r\n\t\t} else {\r\n\t\t\treturn label;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleTitleChange = (e) => {\r\n\t\tsetTitle(e.target.value);\r\n\t};\r\n\r\n\tconst toProcessingMessage = () => {\r\n\t\treturn `\r\n    <div class=\"mb-4\">\r\n      <p class=\"font-bold mb-4\">QUOTE REQUEST RECEIVED.</p>\r\n\t  <p class=\"font-bold mb-0\">Process:</p>\r\n\t  <ol class=\"mb-4\">\r\n\t\t<li>We'll review your order before finalizing the price.</li>\r\n\t\t<li>For updates, please check your email or visit QUOTED (in MOCKUPS) within 1 business day.</li>\r\n\t\t<li>After getting a quote, add the product to your cart and go to the CART page.</li>\r\n\t\t<li>Next, proceed to CHECKOUT to pay.</li>\r\n\t  </ol>\r\n\t  <p class=\"font-bold mb-0\">What's next?</p>\r\n\t  <strong>Go to Mockups:</strong> View all your sign mockups.<br>\r\n\t  <strong>Create New Mockup:</strong> Create a new design.</p>\r\n    </div>\r\n  `;\r\n\t};\r\n\r\n\tconst updateMessageHtml = () => {\r\n\t\treturn `\r\n    <div class=\"mb-4\">\r\n      <p class=\"font-bold mb-4\">UPDATED ORDER QUOTE DRAFT</p>\r\n\t  <p class=\"mb-4\">You can still edit this project before sending it to us for the final quotation. Find your saved draft in the <strong>MOCKUPS</strong> section under <strong>DRAFTS</strong>.</p>\r\n\t  <p class=\"font-bold mb-0\">What's next?</p>\r\n\t  <p><strong>Go to Mockups:</strong> View all your sign mockups.<br>\r\n\t  <strong>Create New Mockup:</strong> Create a new design.<br>\r\n\t  <strong>Continue Editing:</strong> Edit current mockup.</p>\r\n    </div>\r\n  `;\r\n\t};\r\n\r\n\tconst saveDraftMessageHtml = () => {\r\n\t\treturn `\r\n    <div class=\"mb-4\">\r\n      <p class=\"font-bold mb-4\">PROJECT IS SAVED AS A DRAFT</p>\r\n\t  <p class=\"mb-4\">You can edit your saved draft anytime before submitting a quote. Access your saved work in <strong><a href=\"${NovaQuote.mockup_drafts_url}\">DRAFTS</a></strong> (in MOCKUPS).</p>\r\n\t  <p class=\"font-bold mb-0\">What's next?</p>\r\n\t  <p><strong>Go to Mockups:</strong> View all your sign mockups.<br>\r\n\t  <strong>Create New Mockup:</strong> Create a new design.<br>\r\n\t  <strong>Continue Editing:</strong> Edit current mockup.</p>\r\n\r\n    </div>\r\n  `;\r\n\t};\r\n\r\n\tconst handleFormSubmit = async (event) => {\r\n\t\tevent.preventDefault(); // Prevent default form submission\r\n\t\tsetIsLoading(true);\r\n\t\tsetSubmitting(true);\r\n\r\n\t\t// Form submission logic here\r\n\t\ttry {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('nonce', NovaQuote.nonce);\r\n\t\t\tformData.append('title', title);\r\n\t\t\tformData.append('product', NovaQuote.product);\r\n\t\t\tformData.append('action', 'save_quote');\r\n\t\t\tformData.append('user_id', NovaQuote.user_id);\r\n\t\t\tformData.append('signage', JSON.stringify(signage));\r\n\t\t\tformData.append('total', totalUsdPrice.toFixed(2));\r\n\t\t\tformData.append('quote_status', 'draft');\r\n\t\t\tformData.append('currency', wcumcs_vars_data.currency);\r\n\r\n\t\t\tif (action === 'update-processing' || action === 'processing') {\r\n\t\t\t\tformData.append('quote_status', 'processing');\r\n\t\t\t}\r\n\r\n\t\t\tif (action === 'update' || action === 'update-processing') {\r\n\t\t\t\tformData.append('quote_id', NovaQuote.current_quote_id);\r\n\t\t\t\tformData.append('editing', 'edit');\r\n\t\t\t}\r\n\r\n\t\t\tconst status = await processQuote(formData);\r\n\t\t\tif (status.status === 'success') {\r\n\t\t\t\tlocalStorage.removeItem(storage);\r\n\t\t\t\tlocalStorage.removeItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\t\t\tconsole.log('renaming...');\r\n\r\n\t\t\t\t\tconst folderPath = `/NOVA-CRM/${NovaQuote.business_id}/${tempFolder}`;\r\n\t\t\t\t\tconst newPath = `/NOVA-CRM/${NovaQuote.business_id}/Q-${status.generated_id}`;\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst rename = await renameFolder(folderPath, newPath);\r\n\r\n\t\t\t\t\t\tif (rename) {\r\n\t\t\t\t\t\t\tconsole.log('updating quote field...');\r\n\r\n\t\t\t\t\t\t\tconst prevSignage = JSON.stringify(signage);\r\n\r\n\t\t\t\t\t\t\tconst updatedSignage = prevSignage.replace(\r\n\t\t\t\t\t\t\t\tnew RegExp(folderPath, 'g'),\r\n\t\t\t\t\t\t\t\tnewPath\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tconst newData = new FormData();\r\n\t\t\t\t\t\t\tnewData.append('nonce', NovaQuote.nonce);\r\n\t\t\t\t\t\t\tnewData.append('updated', updatedSignage);\r\n\t\t\t\t\t\t\tnewData.append('quote_id', status.generated_id); // Make sure to use newData here\r\n\t\t\t\t\t\t\tnewData.append('action', 'update_dropbox_path');\r\n\r\n\t\t\t\t\t\t\tconst updating = await processQuote(newData);\r\n\r\n\t\t\t\t\t\t\tif (updating.status === 'success') {\r\n\t\t\t\t\t\t\t\tconsole.log('Quote updated successfully');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.error('Error updating quote:', updating);\r\n\t\t\t\t\t\t\t\talert('Error');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.error('Renaming folder failed');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('An error occurred:', error);\r\n\t\t\t\t\t\talert('An error occurred, please try again.');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst projectFolder = `/NOVA-CRM/${NovaQuote.business_id}/Q-${status.generated_id}/FromClient`;\r\n\t\t\t\t\tconst createFolder = await checkAndCreateFolder(projectFolder);\r\n\t\t\t\t\tif (createFolder) {\r\n\t\t\t\t\t\tconsole.log('Folder created');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('An error occurred:', error);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetQuoteID(status.generated_id);\r\n\r\n\t\t\t\tconsole.log(status);\r\n\r\n\t\t\t\tsetSubmitted(true);\r\n\t\t\t} else {\r\n\t\t\t\talert('Error');\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\t// Handle errors\r\n\t\t\tsetError({\r\n\t\t\t\ttype: 'not_saved',\r\n\t\t\t\tmessage: 'Failed to save quote. Please try again.',\r\n\t\t\t});\r\n\t\t\tconsole.log(err);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Dialog.Root open={submitting ? true : open} onOpenChange={setOpen}>\r\n\t\t\t{isLoading ? (\r\n\t\t\t\t<button className={btnClass}>\r\n\t\t\t\t\t{isLoading ? 'Please wait...' : label}\r\n\t\t\t\t</button>\r\n\t\t\t) : (\r\n\t\t\t\t<Dialog.Trigger asChild>\r\n\t\t\t\t\t<button className={btnClass}>\r\n\t\t\t\t\t\t{isLoading ? 'Please wait...' : label}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Dialog.Trigger>\r\n\t\t\t)}\r\n\r\n\t\t\t<Dialog.Portal>\r\n\t\t\t\t<Dialog.Overlay className=\"bg-black/50 data-[state=open]:animate-overlayShow fixed inset-0 z-[50]\" />\r\n\t\t\t\t{!error ? (\r\n\t\t\t\t\t!submitted ? (\r\n\t\t\t\t\t\t<Dialog.Content className=\"data-[state=open]:animate-contentShow fixed top-[50%] left-[50%] max-h-[85vh] w-[90vw] max-w-[550px] translate-x-[-50%] translate-y-[-50%] rounded-[6px] bg-white p-[25px] shadow-[hsl(206_22%_7%_/_35%)_0px_10px_38px_-10px,_hsl(206_22%_7%_/_20%)_0px_10px_20px_-15px] focus:outline-none z-[51] overflow-auto\">\r\n\t\t\t\t\t\t\t<Dialog.Title className=\"m-0 font-title uppercase font-medium text-2xl\">\r\n\t\t\t\t\t\t\t\t{action === 'processing' || action === 'update-processing'\r\n\t\t\t\t\t\t\t\t\t? 'Submit Your Quote Request'\r\n\t\t\t\t\t\t\t\t\t: 'Save Your Draft'}\r\n\t\t\t\t\t\t\t</Dialog.Title>\r\n\t\t\t\t\t\t\t<Dialog.Description className=\"mt-[10px] mb-5 text-[15px] leading-normal\">\r\n\t\t\t\t\t\t\t\tPlease add a PROJECT NAME.\r\n\t\t\t\t\t\t\t</Dialog.Description>\r\n\t\t\t\t\t\t\t<form ref={formRef} onSubmit={handleFormSubmit}>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName=\"nline-flex h-[45px] w-full flex-1 items-center justify-center rounded-[4px] px-[10px] text-[15px] leading-none shadow-[0_0_0_1px] outline-none focus:shadow-[0_0_0_2px] font-title\"\r\n\t\t\t\t\t\t\t\t\tname=\"quoteTitle\"\r\n\t\t\t\t\t\t\t\t\tid=\"quoteTitle\"\r\n\t\t\t\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\t\t\tonChange={handleTitleChange}\r\n\t\t\t\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t{action === 'processing' || action === 'update-processing' ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm mt-4\">\r\n\t\t\t\t\t\t\t\t\t\t<strong>NOTE:</strong> Our team will finalize the pricing\r\n\t\t\t\t\t\t\t\t\t\tfor this order once you click Submit. You CANNOT EDIT this\r\n\t\t\t\t\t\t\t\t\t\tproject afterwards.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm mt-4\">\r\n\t\t\t\t\t\t\t\t\t\t<strong>NOTE:</strong> You can still edit this product after\r\n\t\t\t\t\t\t\t\t\t\tyou click{' '}\r\n\t\t\t\t\t\t\t\t\t\t{action === 'update' ? 'UPDATE QUOTE' : 'SAVE TO DRAFT'}. Go\r\n\t\t\t\t\t\t\t\t\t\tto MOCKUPS and select DRAFTS.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"mt-[25px] flex justify-end\">\r\n\t\t\t\t\t\t\t\t\t{title.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"block h-[35px] items-center justify-center rounded-[4px] px-[15px] font-medium leading-none focus:shadow-[0_0_0_2px] focus:outline-none background-nova-primary text-white font-title uppercase border bg-black\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{loadingStatus()}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t<Dialog.Close asChild>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"text-nova-gray absolute top-[10px] right-[10px] inline-flex h-[25px] w-[25px] appearance-none items-center justify-center focus:shadow-[0_0_0_2px] focus:outline-none border cursor-pointer\"\r\n\t\t\t\t\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Dialog.Close>\r\n\t\t\t\t\t\t</Dialog.Content>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Dialog.Content className=\"data-[state=open]:animate-contentShow fixed top-[50%] left-[50%] max-h-[85vh] w-[90vw] max-w-[550px] translate-x-[-50%] translate-y-[-50%] rounded-[6px] bg-white p-[25px] shadow-[hsl(206_22%_7%_/_35%)_0px_10px_38px_-10px,_hsl(206_22%_7%_/_20%)_0px_10px_20px_-15px] focus:outline-none z-[51] overflow-auto\">\r\n\t\t\t\t\t\t\t<Dialog.Description className=\"mt-[10px] mb-5 text-[15px] leading-normal\">\r\n\t\t\t\t\t\t\t\t{(action === 'processing' ||\r\n\t\t\t\t\t\t\t\t\taction === 'update-processing') && (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: toProcessingMessage(),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{action === 'draft' && (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: saveDraftMessageHtml() }}\r\n\t\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{action === 'update' && (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: updateMessageHtml() }}\r\n\t\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"gap-2 block justify-center sm:flex\">\r\n\t\t\t\t\t\t\t\t\t{(action === 'draft' || action === 'update') && (\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={NovaQuote.quote_url + '?qedit=1&qid=' + quoteID}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"block mb-4 text-center text-sm px-3 py-2 text-white no-underline bg-nova-primary rounded hover:bg-nova-secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tContinue Editing\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={NovaQuote.quote_url}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"block mb-4 text-center text-sm px-3 py-2 text-white no-underline bg-nova-primary rounded hover:bg-nova-secondary\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tCreate New Mockup\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${NovaQuote.mockup_account_url}`}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"block mb-4 text-center text-sm px-3 py-2 text-white no-underline bg-nova-primary rounded hover:bg-nova-secondary\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tGo to Mockups\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Dialog.Description>\r\n\t\t\t\t\t\t</Dialog.Content>\r\n\t\t\t\t\t)\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Dialog.Content className=\"data-[state=open]:animate-contentShow fixed top-[50%] left-[50%] max-h-[85vh] w-[90vw] max-w-[550px] translate-x-[-50%] translate-y-[-50%] rounded-[6px] bg-white p-[25px] shadow-[hsl(206_22%_7%_/_35%)_0px_10px_38px_-10px,_hsl(206_22%_7%_/_20%)_0px_10px_20px_-15px] focus:outline-none z-[51] overflow-auto\">\r\n\t\t\t\t\t\t<Dialog.Description className=\"mt-[10px] mb-5 text-[15px] leading-normal\">\r\n\t\t\t\t\t\t\t{error.type === 'missing' && (\r\n\t\t\t\t\t\t\t\t<h5 className=\"font-title mb-4 uppercase\">Missing Values:</h5>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: error.message }} />\r\n\t\t\t\t\t\t</Dialog.Description>\r\n\t\t\t\t\t\t<Dialog.Close asChild>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"text-nova-gray absolute top-[10px] right-[10px] inline-flex h-[25px] w-[25px] appearance-none items-center justify-center focus:shadow-[0_0_0_2px] focus:outline-none border cursor-pointer\"\r\n\t\t\t\t\t\t\t\taria-label=\"Close\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Dialog.Close>\r\n\t\t\t\t\t</Dialog.Content>\r\n\t\t\t\t)}\r\n\t\t\t</Dialog.Portal>\r\n\t\t</Dialog.Root>\r\n\t);\r\n}\r\n\r\nexport default ModalSave;\r\n","import React from 'react';\r\n\r\nexport default function Prices({ item }) {\r\n\tconst currency = wcumcs_vars_data.currency;\r\n\tconst price = currency === 'USD' ? item.usdPrice : item.cadPrice;\r\n\treturn (\r\n\t\t<div className=\"block\">\r\n\t\t\t<div className=\"flex justify-between py-2 font-title uppercase md:tracking-[1.6px]\">\r\n\t\t\t\t{item.title}\r\n\t\t\t\t{price > 0 && (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{currency}${Number(price).toLocaleString()}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{item.letters && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tTEXT\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">{item.letters}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.font && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tFONT\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">{item.font}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.fontFileUrl && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tCUSTOM FONT\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">\r\n\t\t\t\t\t\t<a href={item.fontFileUrl} target=\"_blank\">\r\n\t\t\t\t\t\t\t{item.fontFileName}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.metal && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tMETAL\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.metal}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.thickness && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tTHICKNESS\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm uppercase\">\r\n\t\t\t\t\t\t{item.thickness.thickness}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.metalDepth && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tMETAL DEPTH\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm uppercase\">\r\n\t\t\t\t\t\t{item.metalDepth.thickness}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.acrylicThickness && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tACRYLIC THICKNESS\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm uppercase\">\r\n\t\t\t\t\t\t{item.acrylicThickness.thickness}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.metalThickness && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tMETAL THICKNESS\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm uppercase\">\r\n\t\t\t\t\t\t{item.metalThickness.thickness}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.depth?.depth && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tMETAL DEPTH\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm uppercase\">{item.depth.depth}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.letterHeight && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tLETTER HEIGHT\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">\r\n\t\t\t\t\t\t{item.letterHeight}\"\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.backLitFinishing && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tFINISHING\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.backLitFinishing}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.backLitMetalFinish && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tMETAL FINISH\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.backLitMetalFinish}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.faceReturnColor?.name && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tFACE & RETURN COLOR\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.faceReturnColor?.name}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.width && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tLOGO WIDTH\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">{item.width}\"</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{item.height && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tLOGO HEIGHT\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">{item.height}\"</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.metalFinish && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tFINISHING\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.metalFinish}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.stainLessMetalFinish && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tMETAL FINISH\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.stainLessMetalFinish}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.stainlessSteelPolished && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tSTEEL POLISH\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.stainlessSteelPolished}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.layers && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tLAYERS\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm uppercase\">{item.layers}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.metalLaminate && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tMETAL LAMINATE\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.metalLaminate}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.pvcBaseColor?.name && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tPVC BASE COLOR\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.pvcBaseColor?.name}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.acrylicBase?.name && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tACRYLIC BASE\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.acrylicBase.name}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.printPreference && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tPRINT PREFERENCE\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">\r\n\t\t\t\t\t\t{item.printPreference}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.color?.name && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tCOLOR\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.color?.name}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.returnColor?.name && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tRETURN COLOR\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.returnColor?.name}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.baseColor && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tBASE COLOR\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">{item.baseColor}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.customColor && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tCUSTOM COLOR\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.customColor}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.finishing && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tFINISHING\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.finishing}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.metalColor?.name && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tCOLOR\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.metalColor?.name}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.metalCustomColor && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tCUSTOM COLOR\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.metalCustomColor}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.ledLightColor && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tLED LIGHT COLOR\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.ledLightColor}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.acrylicReveal && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tACRYLIC REVEAL\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.acrylicReveal}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.frontAcrylicCover && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tFRONT ACRYLIC COVER\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.frontAcrylicCover}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.vinylWhite?.name && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\t3M VINYL\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">\r\n\t\t\t\t\t\t{item.vinylWhite?.name} - [{item.vinylWhite?.code}]\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.waterproof && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tENVIRONMENT\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.waterproof}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.mounting && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tMOUNTING\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.mounting}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.metalFinishing && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tMETAL FINISHING\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.metalFinishing}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.studLength && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tSTUD LENGTH\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.studLength}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{item.spacerStandoffDistance && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tSTANDOFF SPACE\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.spacerStandoffDistance}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{item.installation && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tINSTALLATION\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.installation}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{item.pieces && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tPIECES\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.pieces}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{item.sets && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tQUANTITY\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm\">{item.sets}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{item.comments && item.comments.trim() && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">{item.comments}</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{item.fileUrl && !item.files && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tFILE\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">\r\n\t\t\t\t\t\t<a href={item.fileUrl} target=\"_blank\">\r\n\t\t\t\t\t\t\t{item.fileName}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{item.fileNames?.length > 0 && item.fileUrls?.length > 0 && (\r\n\t\t\t\t<div className=\"grid grid-cols-2 gap-4 py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tFILES\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">\r\n\t\t\t\t\t\t{item.fileUrls.map((fileUrl, index) => (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<a href={fileUrl} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t{item.fileNames[index]}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t{index < item.fileUrls?.length - 1 ? ', ' : ''}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{item.description && (\r\n\t\t\t\t<div className=\"block py-[2px] mb-1\">\r\n\t\t\t\t\t<div className=\"text-left font-title md:tracking-[1.4px] text-sm\">\r\n\t\t\t\t\t\tDESCRIPTION\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-left text-sm break-words\">\r\n\t\t\t\t\t\t{item.description}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useRef } from 'react';\r\n\r\nexport default function PricesView({ item }) {\r\n\tconst currency = wcumcs_vars_data.currency;\r\n\tconst price = currency === 'USD' ? item.usdPrice : item.cadPrice;\r\n\tconst style = {\r\n\t\tmargin: '0',\r\n\t\tfontSize: '50px',\r\n\t\twhiteSpace: 'nowrap',\r\n\t\toverflow: 'hidden',\r\n\t\tfontFamily: item.font,\r\n\t\tcolor: item.color?.color || '#000000',\r\n\t\ttextShadow: '0px 0px 1px rgba(0, 0, 0, 1)',\r\n\t\twordBreak: 'break-all',\r\n\t\tlineHeight: '1.6',\r\n\t\tpadding: '0 10px 20px 10px',\r\n\t};\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tif (!headlineRef.current) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '50px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [item.type]);\r\n\r\n\treturn (\r\n\t\t<div className=\"pb-8 mb-8 border-b-nova-light border-b\">\r\n\t\t\t{item.type === 'letters' && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md exclude-from-pdf max-w-[834px]\">\r\n\t\t\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\t\t\tstyle={style}\r\n\t\t\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{item.letters}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-xs text-[#5E5E5E] mb-8 mt-1 pl-2\">\r\n\t\t\t\t\t\tPreview Image. Actual product color may differ.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"block\">\r\n\t\t\t\t<div className=\"flex justify-between py-2 font-title uppercase\">\r\n\t\t\t\t\t{item.title}{' '}\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{price > 0 &&\r\n\t\t\t\t\t\t\t`${currency}$${parseFloat(price).toFixed(2).toLocaleString()}`}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{item.letters && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">TEXT</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.letters}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.font && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">FONT</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">{item.font}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.fontFileUrl && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">CUSTOM FONT</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t<a href={item.fontFileUrl} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t{item.fontFileName}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.metal && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">METAL</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.metal}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.metalThickness?.thickness && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">METAL THICKNESS</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] uppercase\">\r\n\t\t\t\t\t\t\t{item.metalThickness.thickness}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.metalDepth?.thickness && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">METAL DEPTH</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] uppercase\">\r\n\t\t\t\t\t\t\t{item.metalDepth.thickness}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.thickness?.thickness && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">THICKNESS</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] uppercase\">\r\n\t\t\t\t\t\t\t{item.thickness.thickness}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.acrylicThickness?.thickness && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">\r\n\t\t\t\t\t\t\tACRYLIC THICKNESS\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] uppercase\">\r\n\t\t\t\t\t\t\t{item.acrylicThickness.thickness}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.depth?.depth && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">METAL DEPTH</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] uppercase\">\r\n\t\t\t\t\t\t\t{item.depth.depth}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.width && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">LOGO WIDTH</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.width}\"\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.height && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">LOGO HEIGHT</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.height}\"\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.layers && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">LAYERS</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.layers}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.letterHeight && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">LETTER HEIGHT</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.letterHeight}\"\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.backLitFinishing && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">FINISHING</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.backLitFinishing}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.backLitMetalFinish && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">METAL FINISH</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.backLitMetalFinish}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.faceReturnColor?.name && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">\r\n\t\t\t\t\t\t\tFACE & RETURN COLOR\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.faceReturnColor?.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.printPreference && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">PRINT PREFERENCE</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.printPreference}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.metalLaminate && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">METAL LAMINATE</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.metalLaminate}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.pvcBaseColor?.name && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">PVC BASE COLOR</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.pvcBaseColor?.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.metalFinish?.name && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">METAL FINISH</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.metalFinish?.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.acrylicBase?.name && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">ACRYLIC BASE</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.acrylicBase.name}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{typeof item.metalFinish !== 'object' && item.metalFinish && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">FINISHING</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.metalFinish}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.color?.name && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">COLOR</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.color?.name}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.returnColor?.name && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">RETURN COLOR</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.returnColor?.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.baseColor && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">BASE COLOR</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.baseColor}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.customColor && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">CUSTOM COLOR</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.customColor}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.ledLightColor && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">LED LIGHT COLOR</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.ledLightColor}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.acrylicReveal && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">ACRYLIC REVEAL</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.acrylicReveal}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.frontAcrylicCover && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">\r\n\t\t\t\t\t\t\tFRONT ACRYLIC COVER\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.frontAcrylicCover}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.vinylWhite?.name && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">3M VINYL</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.vinylWhite?.name} - [{item.vinylWhite?.code}]\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.finishing && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">FINISHING</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.finishing}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.stainLessMetalFinish && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">METAL FINISH</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.stainLessMetalFinish}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.metalColor?.name && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">COLOR</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.metalColor?.name}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.metalCustomColor && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">CUSTOM COLOR</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.metalCustomColor}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.waterproof && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">ENVIRONMENT</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.waterproof}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.mounting && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">MOUNTING</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.mounting}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{item.studLength && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">STUD LENGTH</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.studLength}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.spacerStandoffDistance && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">STANDOFF SPACE</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.spacerStandoffDistance}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.metalFinishing && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">METAL FINISHING</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.metalFinishing}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.stainlessSteelPolished && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">\r\n\t\t\t\t\t\t\tSTAINLESS STEEL POLISH\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">\r\n\t\t\t\t\t\t\t{item.stainlessSteelPolished}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.installation && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">INSTALLATION</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.installation}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.pieces && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">PIECES/CUTOUTS</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.pieces}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.sets && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">QUANTITY</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px]\">{item.sets}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.comments && item.comments.trim() && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">COMMENTS</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.comments}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.description && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">DESCRIPTION</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.description}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.fileUrl && item.fileUrls?.length == 0 && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">FILE</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t<a href={item.fileUrl} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t{item.fileName}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{item.fileNames?.length > 0 && item.fileUrls?.length > 0 && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-[160px_1fr] py-[2px] items-center gap-5\">\r\n\t\t\t\t\t\t<div className=\"text-left text-xs font-title\">FILES</div>\r\n\t\t\t\t\t\t<div className=\"text-left text-[14px] break-words\">\r\n\t\t\t\t\t\t\t{item.fileUrls.map((fileUrl, index) => (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<a href={fileUrl} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t{item.fileNames[index]}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t{index < item.fileUrls?.length - 1 ? ', ' : ''}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { DeleteQuote } from './DeleteQuote';\r\nimport PricesView from './PricesView';\r\n\r\nconst decodeHTML = (html) => {\r\n\tlet txt = document.createElement('textarea');\r\n\ttxt.innerHTML = html;\r\n\treturn txt.value;\r\n};\r\n\r\nexport default function QuoteView() {\r\n\tconst NovaAccount = NovaMyAccount.quote;\r\n\tconst taxRate = NovaMyAccount.tax_rate;\r\n\tconst currency = wcumcs_vars_data.currency;\r\n\tconst signage = NovaMyAccount.quote ? JSON.parse(NovaAccount.data) : null;\r\n\tconst quoteRef = useRef(null);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [isDownloading, setIsDownloading] = useState(false);\r\n\tconst [isHovered, setIsHovered] = useState(false);\r\n\tconst [addedToCart, setAddedToCart] = useState(NovaQuote.is_added_to_cart);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!NovaAccount || Object.keys(NovaAccount).length === 0) {\r\n\t\t\twindow.location.href = NovaQuote.mockup_account_url;\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst addToCart = () => {\r\n\t\tif (addedToCart) return;\r\n\t\tsetIsLoading(true);\r\n\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('action', 'to_checkout');\r\n\t\tformData.append('quote', NovaAccount.ID);\r\n\t\tformData.append('nonce', NovaMyAccount.nonce);\r\n\t\tformData.append('role', NovaQuote.user_role[0]);\r\n\t\tformData.append('nova_product', NovaQuote.nova_quote_product.ID);\r\n\t\tformData.append(\r\n\t\t\t'product',\r\n\t\t\tNovaAccount.product_name\r\n\t\t\t\t? decodeHTML(NovaAccount.product_name)\r\n\t\t\t\t: 'Custom Project'\r\n\t\t);\r\n\t\tformData.append('product_id', NovaQuote.generated_product_id);\r\n\t\tformData.append('product_line', NovaAccount.product_line?.ID);\r\n\r\n\t\tfetch(NovaMyAccount.ajax_url, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tcredentials: 'same-origin',\r\n\t\t\theaders: {\r\n\t\t\t\t'Cache-Control': 'no-cache',\r\n\t\t\t},\r\n\t\t\tbody: formData,\r\n\t\t})\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\tif (data.code == 2) {\r\n\t\t\t\t\tconst cartTotal = document.querySelector('.header-cart-total');\r\n\t\t\t\t\tcartTotal.innerText = parseInt(cartTotal.innerText) + 1;\r\n\r\n\t\t\t\t\tsetAddedToCart(true);\r\n\r\n\t\t\t\t\tlet event = new Event('added_to_cart');\r\n\t\t\t\t\t//document.body.dispatchEvent(event);\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t\talert('Added to cart');\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(data.error);\r\n\t\t\t\t\tlocation.reload(true);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => console.error('Error:', error));\r\n\t};\r\n\r\n\tconst quotePrice = NovaAccount?.final_price\r\n\t\t? parseFloat(NovaAccount.final_price)\r\n\t\t: 0;\r\n\tconst exchangeRate = 1.3;\r\n\tconst finalPrice =\r\n\t\tcurrency === 'USD' ? quotePrice : quotePrice * exchangeRate;\r\n\r\n\tconst flatRate = currency === 'USD' ? 14.75 : 14.75 * exchangeRate;\r\n\r\n\tconst standardRate = parseFloat((finalPrice * 0.075).toFixed(2));\r\n\r\n\tconst estimatedShipping =\r\n\t\tquotePrice > 0 ? Math.max(flatRate, standardRate) : 0;\r\n\r\n\tconst tax = taxRate ? parseFloat((taxRate.tax_rate / 100).toFixed(2)) : 0;\r\n\tconst taxCompute = parseFloat((finalPrice * tax).toFixed(2));\r\n\r\n\tconst estimatedTotal = parseFloat(\r\n\t\t(finalPrice + estimatedShipping + taxCompute).toFixed(2)\r\n\t);\r\n\r\n\tconst downloadFile = NovaAccount?.ID\r\n\t\t? `/${NovaAccount.business_id}-INV-Q-${NovaAccount.ID}-${currency}.pdf`\r\n\t\t: null;\r\n\r\n\treturn (\r\n\t\tNovaAccount && (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"flex pb-4 mb-4 border-b justify-between\">\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref={NovaQuote.mockup_account_url}\r\n\t\t\t\t\t\tclassName=\"border-nova-light rounded px-4 py-3 border font-title text-nova-gray uppercase text-xs bg-white inline-flex items-center hover:text-black hover:bg-nova-light\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t Back To Mockups\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t{NovaAccount?.quote_status?.value === 'ready' && (\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={downloadFile && NovaQuote.invoice_url + downloadFile}\r\n\t\t\t\t\t\t\tclassName={`rounded px-4 py-3 border ${\r\n\t\t\t\t\t\t\t\t!isDownloading\r\n\t\t\t\t\t\t\t\t\t? 'border-nova-light font-title text-nova-primary bg-white'\r\n\t\t\t\t\t\t\t\t\t: 'border-gray-300 text-gray-500 bg-gray-100'\r\n\t\t\t\t\t\t\t} text-xs inline-block hover:text-white hover:bg-nova-primary w-[160px] text-center cursor-pointer`}\r\n\t\t\t\t\t\t\tdisabled={isDownloading}\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{isDownloading ? 'Downloading...' : 'DOWNLOAD PDF'}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-[1fr_160px] gap-4\">\r\n\t\t\t\t\t<div id=\"quoteDiv\" ref={quoteRef} className=\"pb-6\">\r\n\t\t\t\t\t\t<div className=\"flex gap-2 items-center mb-4 \">\r\n\t\t\t\t\t\t\t<h6 className=\"m-0 text-nova-primary\">\r\n\t\t\t\t\t\t\t\tSTATUS:{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-sm font-normal font-thin\">\r\n\t\t\t\t\t\t\t\t\t{NovaAccount?.quote_status?.label}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mb-10 block\">\r\n\t\t\t\t\t\t\t<h4 className=\"uppercase\">\r\n\t\t\t\t\t\t\t\tQUOTE ID: Q-{NovaAccount?.ID.padStart(4, '0')}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex gap-2 items-center\">\r\n\t\t\t\t\t\t\t<h6 className=\"leading-[2] m-0\">INITIAL QUOTE REQUESTED ON:</h6>{' '}\r\n\t\t\t\t\t\t\t<span className=\"text-sm\">{NovaAccount?.published}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex gap-2 items-center\">\r\n\t\t\t\t\t\t\t<h6 className=\"leading-[2] m-0\">LAST QUOTE SAVED:</h6>{' '}\r\n\t\t\t\t\t\t\t<span className=\"text-sm\">{NovaAccount?.updated_date}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex gap-2 items-center mb-6\">\r\n\t\t\t\t\t\t\t<h6 className=\"leading-[2] m-0\">QUOTE NAME:</h6>{' '}\r\n\t\t\t\t\t\t\t<span className=\"text-sm\">{decodeHTML(NovaAccount?.title)}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex gap-2 items-center\">\r\n\t\t\t\t\t\t\t<h6 className=\"leading-[2] m-0\">BUSINESS ID:</h6>{' '}\r\n\t\t\t\t\t\t\t<span className=\"text-sm\">\r\n\t\t\t\t\t\t\t\t{NovaAccount?.business_id ? NovaAccount?.business_id : 'None'}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex gap-2 items-center mb-6\">\r\n\t\t\t\t\t\t\t<h6 className=\"leading-[2] m-0\">COMPANY NAME:</h6>{' '}\r\n\t\t\t\t\t\t\t<span className=\"text-sm\">\r\n\t\t\t\t\t\t\t\t{NovaAccount?.company_name ? NovaAccount?.company_name : 'None'}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"flex gap-2 items-center\">\r\n\t\t\t\t\t\t\t<h6 className=\"leading-[2] m-0\">MATERIAL:</h6>{' '}\r\n\t\t\t\t\t\t\t<span className=\"text-sm\">\r\n\t\t\t\t\t\t\t\t{NovaAccount?.material ? NovaAccount?.material : 'None'}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex gap-2 items-center mb-8 pb-8 border-b-nova-light border-b\">\r\n\t\t\t\t\t\t\t<h6 className=\"leading-[2] m-0\">PRODUCT:</h6>{' '}\r\n\t\t\t\t\t\t\t<span className=\"text-sm\">\r\n\t\t\t\t\t\t\t\t{NovaAccount?.product_name\r\n\t\t\t\t\t\t\t\t\t? decodeHTML(NovaAccount?.product_name)\r\n\t\t\t\t\t\t\t\t\t: 'None'}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{signage?.map((item) => (\r\n\t\t\t\t\t\t\t<PricesView id={item.id} item={item}></PricesView>\r\n\t\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t\t{NovaAccount?.note && (\r\n\t\t\t\t\t\t\t<div className=\"block mb-4\">\r\n\t\t\t\t\t\t\t\t<h5>Note:</h5>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tid=\"novaQuoteNote\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"nova-quote-note block text-sm\"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: NovaAccount?.note }}\r\n\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<div className=\"flex justify-between gap-4\">\r\n\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t{`${\r\n\t\t\t\t\t\t\t\t\tNovaAccount?.quote_status?.value === 'ready'\r\n\t\t\t\t\t\t\t\t\t\t? 'SUBTOTAL'\r\n\t\t\t\t\t\t\t\t\t\t: 'ESTIMATED SUBTOTAL'\r\n\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t</h5>{' '}\r\n\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t{finalPrice > 0\r\n\t\t\t\t\t\t\t\t\t? `${currency}$${Number(\r\n\t\t\t\t\t\t\t\t\t\t\tfinalPrice.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t  ).toLocaleString()}`\r\n\t\t\t\t\t\t\t\t\t: 'TBD'}\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{taxRate && (\r\n\t\t\t\t\t\t\t<div className=\"flex justify-between gap-4\">\r\n\t\t\t\t\t\t\t\t<h5>{taxRate.tax_rate_name}</h5>{' '}\r\n\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t{taxCompute > 0\r\n\t\t\t\t\t\t\t\t\t\t? `${currency}$${Number(\r\n\t\t\t\t\t\t\t\t\t\t\t\ttaxCompute.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t  ).toLocaleString()}`\r\n\t\t\t\t\t\t\t\t\t\t: 'TBD'}\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<div className=\"flex justify-between gap-4\">\r\n\t\t\t\t\t\t\t<h5 className=\"flex gap-2\">\r\n\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\tstrokeWidth={1.5}\r\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-6 h-6 cursor-pointer select-none\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setIsHovered((prev) => !prev)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\t\td=\"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\tPACKAGING &amp; SHIPPING:\r\n\t\t\t\t\t\t\t</h5>{' '}\r\n\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t{estimatedShipping > 0\r\n\t\t\t\t\t\t\t\t\t? `${currency}$${Number(\r\n\t\t\t\t\t\t\t\t\t\t\testimatedShipping.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t  ).toLocaleString()}`\r\n\t\t\t\t\t\t\t\t\t: 'TBD'}\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`text-sm mb-2 ${\r\n\t\t\t\t\t\t\t\tisHovered ? 'opacity-100' : 'opacity-0'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tThe shipping cost depends on the address in your account. You can\r\n\t\t\t\t\t\t\tchange the shipping type and shipping address during checkout.\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"flex justify-between gap-4 border-b pb-14 mt-8\">\r\n\t\t\t\t\t\t\t<h4>ESTIMATED TOTAL:</h4>{' '}\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{estimatedTotal > 0\r\n\t\t\t\t\t\t\t\t\t? `${currency}$${Number(\r\n\t\t\t\t\t\t\t\t\t\t\tparseFloat(estimatedTotal).toFixed(2)\r\n\t\t\t\t\t\t\t\t\t  ).toLocaleString()}`\r\n\t\t\t\t\t\t\t\t\t: 'TBD'}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<p className=\"mt-4 text-[10px] text-[#5E5E5E]\">\r\n\t\t\t\t\t\t\tFreight charges may vary based on factors such as shipping\r\n\t\t\t\t\t\t\tdestination, package size, and delivery speed.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{NovaAccount?.quote_status.value === 'ready' && (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={`rounded mb-3 px-4 py-3 border border-nova-light font-title text-white  text-xs inline-block hover:text-white  w-full text-center uppercase ${\r\n\t\t\t\t\t\t\t\t\taddedToCart\r\n\t\t\t\t\t\t\t\t\t\t? 'bg-gray-400 cursor-not-allowed'\r\n\t\t\t\t\t\t\t\t\t\t: 'bg-nova-primary hover:bg-nova-secondary cursor-pointer'\r\n\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t\t\t\tonClick={addToCart}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t\t\t\t'Adding To Cart...'\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span className=\"tracking-[1.6px]\">\r\n\t\t\t\t\t\t\t\t\t\t{addedToCart ? 'ADDED TO CART' : 'ADD TO CART'}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<DeleteQuote />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport ModalSave from './ModalSave';\r\nimport Prices from './Prices';\r\n\r\nconst currency = wcumcs_vars_data.currency;\r\n\r\nexport default function Sidebar({\r\n\tsignage,\r\n\trequired,\r\n\ttempFolder,\r\n\tstorage,\r\n\tisLoading,\r\n\tsetIsLoading,\r\n}) {\r\n\tconst taxRateObj = NovaMyAccount.tax_rate;\r\n\t//const tax = taxRateObj ? parseFloat(taxRateObj.tax_rate / 100) : 0;\r\n\tconst tax = 0;\r\n\tconst taxRateName = taxRateObj ? taxRateObj.tax_rate_name : 'Tax';\r\n\r\n\tconst totalUsdPrice = signage.reduce(\r\n\t\t(acc, item) => acc + parseFloat(item.usdPrice),\r\n\t\t0\r\n\t);\r\n\r\n\tconst totalCadPrice = signage.reduce(\r\n\t\t(acc, item) => acc + parseFloat(item.cadPrice),\r\n\t\t0\r\n\t);\r\n\r\n\tconst totalPrice = currency === 'USD' ? totalUsdPrice : totalCadPrice;\r\n\tconst exchangeRate = 1.3;\r\n\r\n\tconst flatRate = currency === 'USD' ? 14.75 : 14.75 * exchangeRate;\r\n\r\n\tconst standardRate = totalPrice > 0 ? parseFloat(totalPrice * 0.075) : 0;\r\n\r\n\tconst estimatedShipping =\r\n\t\ttotalPrice > 0 ? parseFloat(Math.max(flatRate, standardRate)) : 0;\r\n\r\n\t//const taxCompute = parseFloat(totalPrice * tax);\r\n\tconst taxCompute = 0;\r\n\r\n\tconst estimateTotalPrice = totalPrice + estimatedShipping + taxCompute;\r\n\r\n\treturn (\r\n\t\t<div className=\"md:w-1/4 w-full mt-8 md:mt-0\">\r\n\t\t\t<div className=\"rounded-md border border-gray-200 p-4 sticky top-36\">\r\n\t\t\t\t<div className=\"w-full max-h-[calc(100vh-300px)] overflow-y-auto\">\r\n\t\t\t\t\t{signage.map((item) => (\r\n\t\t\t\t\t\t<Prices id={item.id} item={item}></Prices>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<hr className=\"mt-5\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"block mb-2\">\r\n\t\t\t\t\t<div className=\"flex justify-between pt-2 font-title uppercase md:tracking-[1.6px]\">\r\n\t\t\t\t\t\tSUBTOTAL\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{currency}${Number(totalPrice.toFixed(2)).toLocaleString()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{Number(totalPrice) > 0 && (\r\n\t\t\t\t\t\t<div className=\"flex justify-between font-title uppercase md:tracking-[1.6px]\">\r\n\t\t\t\t\t\t\tSHIPPING\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{currency}$\r\n\t\t\t\t\t\t\t\t{Number(estimatedShipping.toFixed(2)).toLocaleString()}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{tax > 0 && (\r\n\t\t\t\t\t\t<div className=\"flex justify-between font-title uppercase md:tracking-[1.6px]\">\r\n\t\t\t\t\t\t\t{taxRateName}\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{currency}${Number(taxCompute.toFixed(2)).toLocaleString()}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<div className=\"flex justify-between mt-5 mb-3\">\r\n\t\t\t\t\t<h4 className=\"text-2xl\">TOTAL:</h4>\r\n\t\t\t\t\t<h4 className=\"text-2xl\">\r\n\t\t\t\t\t\t{currency}${Number(estimateTotalPrice.toFixed(2)).toLocaleString()}\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"text-[11px] mb-5\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{tax === 0 && <li>Tax not included</li>}\r\n\t\t\t\t\t\t<li>The final quote will be ready in 24 business hours.</li>\r\n\t\t\t\t\t\t<li>Extra freight charges may apply for connected fonts.</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{signage.length > 0 &&\r\n\t\t\t\t\tNovaQuote.quote_status?.value !== 'processing' &&\r\n\t\t\t\t\tNovaQuote.quote_status?.value !== 'ready' &&\r\n\t\t\t\t\tNovaQuote.quote_status?.value !== 'archived' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{NovaQuote.is_editting === '1' ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{NovaQuote.user_role[0] !== 'pending' &&\r\n\t\t\t\t\t\t\t\t\tNovaQuote.not_author_but_admin === 'no' ? (\r\n\t\t\t\t\t\t\t\t\t\t<ModalSave\r\n\t\t\t\t\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\t\t\t\t\t\taction=\"update-processing\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Submit Quote\"\r\n\t\t\t\t\t\t\t\t\t\t\tbtnClass=\"mb-5 font-title rounded-md text-white w-full text-center bg-[#f22e00] text-sm h-[49px] hover:bg-[#ff5e3d]\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<ModalSave\r\n\t\t\t\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\t\t\t\t\taction=\"update\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Update Quote\"\r\n\t\t\t\t\t\t\t\t\t\tbtnClass=\"mb-5 font-title border border-nova-light rounded-md text-nova-gray w-full text-center bg-white text-sm h-[49px] hover:bg-nova-light hover:text-white shadow-[0_0_0_1px_rgba(0,0,0,0.3)]\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{NovaQuote.user_role[0] !== 'pending' ? (\r\n\t\t\t\t\t\t\t\t\t\t<ModalSave\r\n\t\t\t\t\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\t\t\t\t\t\taction=\"processing\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Submit Quote\"\r\n\t\t\t\t\t\t\t\t\t\t\tbtnClass=\"mb-5 font-title rounded-md text-white w-full text-center bg-[#f22e00] text-sm h-[49px] hover:bg-[#ff5e3d]\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<ModalSave\r\n\t\t\t\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\t\t\t\t\taction=\"draft\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Save to Draft\"\r\n\t\t\t\t\t\t\t\t\t\tbtnClass=\"mb-5 font-title border border-nova-light rounded-md text-nova-gray w-full text-center bg-white text-sm h-[49px] hover:bg-nova-light hover:text-white shadow-[0_0_0_1px_rgba(0,0,0,0.3)]\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"text-sm mb-4\">Quote & Draft Validity: 30 days</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport ModalSave from './ModalSave';\r\nimport Prices from './Prices';\r\n\r\nexport default function SidebarNoPrice({\r\n\tsignage,\r\n\trequired,\r\n\ttempFolder,\r\n\tstorage,\r\n\tisLoading,\r\n\tsetIsLoading,\r\n}) {\r\n\treturn (\r\n\t\t<div className=\"md:w-1/4 w-full mt-8 md:mt-0\">\r\n\t\t\t<div className=\"rounded-md border border-gray-200 p-4 sticky top-36\">\r\n\t\t\t\t<div className=\"w-full max-h-[calc(100vh-300px)] overflow-y-auto\">\r\n\t\t\t\t\t{signage.map((item) => (\r\n\t\t\t\t\t\t<Prices id={item.id} item={item}></Prices>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<hr className=\"mt-5\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"block mb-2\">\r\n\t\t\t\t\t<div className=\"flex justify-between pt-2 font-title uppercase md:tracking-[1.6px]\">\r\n\t\t\t\t\t\tSUBTOTAL\r\n\t\t\t\t\t\t<span>TBD</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<div className=\"flex justify-between my-5\">\r\n\t\t\t\t\t<h4 className=\"text-2xl\">TOTAL:</h4>\r\n\t\t\t\t\t<h4 className=\"text-2xl\">TBD</h4>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{signage.length > 0 && (\r\n\t\t\t\t\t<ModalSave\r\n\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\trequired={required}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\taction=\"processing\"\r\n\t\t\t\t\t\tlabel=\"Request Quote\"\r\n\t\t\t\t\t\tbtnClass=\"mb-5 font-title rounded-md text-white w-full text-center bg-[#f22e00] text-sm h-[49px] hover:bg-[#ff5e3d]\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Tooltip } from 'react-tooltip';\r\nimport { v4 as uuidv4 } from 'uuid'; // Make sure to import uuid\r\nimport EditableText from './EditableText';\r\nimport { ClearIcon, CollapseIcon, DuplicateIcon, TrashIcon } from './svg/Icons';\r\n\r\nexport default function Signage({\r\n\titem,\r\n\tindex,\r\n\tsignage,\r\n\tsetSignage,\r\n\tchildren,\r\n\tsetMissing,\r\n\tstorage,\r\n}) {\r\n\tconst [open, setOpen] = useState(true);\r\n\tconst [itemTitle, setItemTitle] = useState(item.title);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tfunction recountSignageTitles(updatedSignage) {\r\n\t\tconst count = {}; // Object to keep track of the count of each type\r\n\t\treturn updatedSignage.map((sign) => {\r\n\t\t\tconst currentCount = (count[sign.type] || 0) + 1;\r\n\t\t\tcount[sign.type] = currentCount;\r\n\t\t\treturn { ...sign };\r\n\t\t});\r\n\t}\r\n\r\n\tfunction removeSignage(itemToRemove) {\r\n\t\tsetSignage((currentSignage) => {\r\n\t\t\tconst updatedSignage = currentSignage.filter(\r\n\t\t\t\t(sign) => sign.id !== itemToRemove.id\r\n\t\t\t);\r\n\t\t\treturn recountSignageTitles(updatedSignage);\r\n\t\t});\r\n\t\tsetMissing((current) => {\r\n\t\t\tconst updatedMissing = current.filter(\r\n\t\t\t\t(sign) => sign.id !== itemToRemove.id\r\n\t\t\t);\r\n\t\t\treturn updatedMissing;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction duplicateSignage(item, index) {\r\n\t\tconst duplicated = {\r\n\t\t\t...item,\r\n\t\t\tid: uuidv4(),\r\n\t\t\tfilePaths: [],\r\n\t\t\tfileNames: [],\r\n\t\t\tfileUrls: [],\r\n\t\t\tfiles: [],\r\n\t\t\tfontFile: '',\r\n\t\t\tfontFileName: '',\r\n\t\t\tfontFilePath: '',\r\n\t\t\tfontFileUrl: '',\r\n\t\t};\r\n\r\n\t\tconsole.log(`Duplicate`, duplicated);\r\n\r\n\t\tsetSignage((current) => {\r\n\t\t\tconst updated = [\r\n\t\t\t\t...current.slice(0, index + 1),\r\n\t\t\t\tduplicated,\r\n\t\t\t\t...current.slice(index + 1),\r\n\t\t\t];\r\n\t\t\treturn recountSignageTitles(updated);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\ttitle: itemTitle,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst clearStorage = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetLoading(true);\r\n\t\tlocalStorage.removeItem(storage);\r\n\t\twindow.location.href = window.location.pathname;\r\n\t};\r\n\r\n\tconst updateMissingTitle = () => {\r\n\t\tsetMissing((prevMissing) => {\r\n\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t);\r\n\r\n\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\ttitle: itemTitle,\r\n\t\t\t\t};\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t}\r\n\t\t\treturn prevMissing;\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tupdateMissingTitle();\r\n\t}, [itemTitle]);\r\n\r\n\tfunction handleOnChangeTitle(value) {\r\n\t\treturn setItemTitle(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"rounded-md border border-gray-200 p-4 mb-8\">\r\n\t\t\t<div className={`flex justify-between ${open ? 'mb-4' : 'mb-0'}`}>\r\n\t\t\t\t<EditableText\r\n\t\t\t\t\tid={item.id}\r\n\t\t\t\t\ttext={item.title}\r\n\t\t\t\t\tonChange={handleOnChangeTitle}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"flex gap-6\">\r\n\t\t\t\t\t<Tooltip id={item.id} />\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"cursor-pointer\"\r\n\t\t\t\t\t\tonClick={clearStorage}\r\n\t\t\t\t\t\tdata-tooltip-id={`${item.id}`}\r\n\t\t\t\t\t\tdata-tooltip-content=\"Create from scratch\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ClearIcon loading={loading} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"cursor-pointer\"\r\n\t\t\t\t\t\tonClick={() => setOpen(!open)}\r\n\t\t\t\t\t\tdata-tooltip-id={`${item.id}`}\r\n\t\t\t\t\t\tdata-tooltip-content={open ? 'Collapse' : 'Expand'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CollapseIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"cursor-pointer\"\r\n\t\t\t\t\t\t\tonClick={() => duplicateSignage(item, index)}\r\n\t\t\t\t\t\t\tdata-tooltip-id={`${item.id}`}\r\n\t\t\t\t\t\t\tdata-tooltip-content=\"Duplicate\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DuplicateIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{signage.length > 1 && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"cursor-pointer\"\r\n\t\t\t\t\t\t\tonClick={() => removeSignage(item)}\r\n\t\t\t\t\t\t\tdata-tooltip-id={item.id}\r\n\t\t\t\t\t\t\tdata-tooltip-content=\"Delete\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TrashIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={`signage-content ${open ? 'open' : ''}`}>\r\n\t\t\t\t<div className={item.type === 'letters' ? 'overflow-hidden' : ''}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useRef, useState } from 'react';\r\n\r\nexport default function UploadFiles({\r\n\tsetFilePaths,\r\n\tfilePaths,\r\n\tsetFileUrls,\r\n\tfileUrls,\r\n\tsetFileNames,\r\n\tfileNames,\r\n\ttempFolder,\r\n\tisLoading,\r\n\tsetIsLoading,\r\n}) {\r\n\tconst fileRef = useRef(null);\r\n\tconst [accessToken, setAccessToken] = useState('');\r\n\tconst maxFiles = 5;\r\n\r\n\tconst handleButtonClick = () => {\r\n\t\tconsole.log(fileNames);\r\n\t\tif (fileNames?.length >= maxFiles) {\r\n\t\t\talert(`You can upload a maximum of ${maxFiles} files.`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfileRef.current.click();\r\n\t};\r\n\r\n\tconst handleChange = async (event) => {\r\n\t\tconst totalAllowedUploads = maxFiles - (fileNames?.length || 0); // Calculate how many more files can be uploaded\r\n\t\tif (totalAllowedUploads <= 0) {\r\n\t\t\talert(`You have reached the maximum upload limit of ${maxFiles} files.`);\r\n\t\t\tevent.target.value = ''; // Reset the file input\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst files = Array.from(event.target.files).slice(0, totalAllowedUploads); // Only take as many files as can still be uploaded\r\n\t\tif (files.length > 0) {\r\n\t\t\tfor (const file of files) {\r\n\t\t\t\tawait handleFileUpload(\r\n\t\t\t\t\tfile,\r\n\t\t\t\t\tsetFileUrls,\r\n\t\t\t\t\tsetFileNames,\r\n\t\t\t\t\tsetFilePaths,\r\n\t\t\t\t\ttempFolder\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tevent.target.value = ''; // Reset the file input after processing\r\n\t\t} else {\r\n\t\t\tconsole.log('No file to upload');\r\n\t\t}\r\n\t};\r\n\r\n\tconst getRefreshToken = async () => {\r\n\t\tconst clientId = NovaQuote.dropbox_app_key;\r\n\t\tconst clientSecret = NovaQuote.dropbox_secret;\r\n\t\tconst refreshToken = NovaQuote.dropbox_refresh_token;\r\n\r\n\t\tconst url = 'https://api.dropboxapi.com/oauth2/token';\r\n\t\tconst params = new URLSearchParams({\r\n\t\t\tgrant_type: 'refresh_token',\r\n\t\t\trefresh_token: refreshToken,\r\n\t\t\tclient_id: clientId,\r\n\t\t\tclient_secret: clientSecret,\r\n\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: params,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error('Network response was not ok');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\treturn data.access_token;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error:', error);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tconst checkAndCreateFolder = async (accessToken) => {\r\n\t\tconst folderPath = `/NOVA-CRM/${NovaQuote.business_id}/${tempFolder}/FromClient`;\r\n\r\n\t\ttry {\r\n\t\t\tlet response = await fetch(\r\n\t\t\t\t'https://api.dropboxapi.com/2/files/get_metadata',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({ path: folderPath }),\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tresponse = await fetch(\r\n\t\t\t\t'https://api.dropboxapi.com/2/files/create_folder_v2',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({ path: folderPath }),\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\tdata.error_summary || 'Unknown error during folder creation'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error:', error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst checkForExistingSharedLink = async (token, filePath) => {\r\n\t\tconst response = await fetch(\r\n\t\t\t'https://api.dropboxapi.com/2/sharing/list_shared_links',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({ path: filePath, direct_only: true }),\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tconst data = await response.json();\r\n\r\n\t\tif (!response.ok) {\r\n\t\t\tthrow new Error(data.error_summary);\r\n\t\t}\r\n\r\n\t\tif (data.links && data.links.length > 0) {\r\n\t\t\treturn data.links[0];\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t};\r\n\r\n\tconst handleFileUpload = async (\r\n\t\tfile,\r\n\t\tsetFileUrls,\r\n\t\tsetFileNames,\r\n\t\tsetFilePaths,\r\n\t\ttempFolder\r\n\t) => {\r\n\t\tsetIsLoading(true);\r\n\t\tconst token = await getRefreshToken();\r\n\r\n\t\tif (!token) {\r\n\t\t\tconsole.error('Failed to obtain access token');\r\n\t\t\tsetIsLoading(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetAccessToken(token);\r\n\t\tawait checkAndCreateFolder(token);\r\n\r\n\t\tconst dropboxArgs = {\r\n\t\t\tpath: `/NOVA-CRM/${NovaQuote.business_id}/${tempFolder}/FromClient/${file.name}`,\r\n\t\t\tmode: 'overwrite',\r\n\t\t\tautorename: false,\r\n\t\t\tmute: false,\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst uploadResponse = await fetch(\r\n\t\t\t\t'https://content.dropboxapi.com/2/files/upload',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t\t\t'Dropbox-API-Arg': JSON.stringify(dropboxArgs),\r\n\t\t\t\t\t\t'Content-Type': 'application/octet-stream',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: file,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconst uploadData = await uploadResponse.json();\r\n\t\t\tif (!uploadResponse.ok) throw new Error(uploadData.error_summary);\r\n\r\n\t\t\tsetFilePaths((prev) =>\r\n\t\t\t\tArray.isArray(prev)\r\n\t\t\t\t\t? [...prev, uploadData.path_display]\r\n\t\t\t\t\t: [uploadData.path_display]\r\n\t\t\t);\r\n\r\n\t\t\tconst existingLink = await checkForExistingSharedLink(\r\n\t\t\t\ttoken,\r\n\t\t\t\tuploadData.path_display\r\n\t\t\t);\r\n\r\n\t\t\tif (existingLink) {\r\n\t\t\t\tsetFileUrls((prev) =>\r\n\t\t\t\t\tArray.isArray(prev) ? [...prev, existingLink.url] : [existingLink.url]\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tconst sharedLinkResponse = await fetch(\r\n\t\t\t\t\t'https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t\tpath: uploadData.path_display,\r\n\t\t\t\t\t\t\tsettings: {},\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst sharedLinkData = await sharedLinkResponse.json();\r\n\t\t\t\tsetFileUrls((prev) =>\r\n\t\t\t\t\tArray.isArray(prev)\r\n\t\t\t\t\t\t? [...prev, sharedLinkData.url]\r\n\t\t\t\t\t\t: [sharedLinkData.url]\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tsetFileNames((prev) =>\r\n\t\t\t\tArray.isArray(prev) ? [...prev, uploadData.name] : [uploadData.name]\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error:', error);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRemoveFile = async (index) => {\r\n\t\tsetIsLoading(true);\r\n\t\tlet currentAccessToken = accessToken || (await getRefreshToken());\r\n\r\n\t\tif (!currentAccessToken) {\r\n\t\t\tconsole.error('Failed to obtain access token');\r\n\t\t\tsetIsLoading(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst filePath = filePaths[index];\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t'https://api.dropboxapi.com/2/files/delete_v2',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${currentAccessToken}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({ path: filePath }),\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tsetFileUrls(fileUrls.filter((_, i) => i !== index));\r\n\t\t\t\tsetFilePaths(filePaths.filter((_, i) => i !== index));\r\n\t\t\t\tsetFileNames(fileNames.filter((_, i) => i !== index));\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\tdata.error_summary || 'Unknown error during file deletion'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error:', error);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"px-[1px]\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tUPLOAD PDF/AI FILE\r\n\t\t\t\t</label>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"h-[40px] w-full py-2 px-2 text-center text-red rounded-md text-sm uppercase bg-slate-400 hover:bg-slate-600 font-title leading-[1em]\"\r\n\t\t\t\t\tonClick={handleButtonClick}\r\n\t\t\t\t\taria-label=\"Upload design file\"\r\n\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t{isLoading ? 'Please wait...' : 'Upload Design'}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\tclassName=\"hidden\"\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\taccept=\".pdf,.ai,.png,.jpg,.jpeg\"\r\n\t\t\t\t\taria-label=\"File input\"\r\n\t\t\t\t\tmultiple\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"col-span-4 mb-4\">\r\n\t\t\t\t{fileNames?.length > 0 && (\r\n\t\t\t\t\t<div className=\"grid grid-cols-1 gap-2 text-sm border p-3 bg-slate-100\">\r\n\t\t\t\t\t\t{fileNames.map((fileName, index) => (\r\n\t\t\t\t\t\t\t<div key={index} className=\"flex gap-4 items-center\">\r\n\t\t\t\t\t\t\t\t{fileName}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => handleRemoveFile(index)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useRef, useState } from 'react';\r\n\r\nexport default function UploadFont({\r\n\tsetFontFilePath,\r\n\tfontFilePath,\r\n\tsetFontFileUrl,\r\n\tsetFontFile,\r\n\tfontFileUrl,\r\n\tsetFontFileName,\r\n\ttempFolder,\r\n}) {\r\n\tconst fileRef = useRef(null);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [accessToken, setAccessToken] = useState('');\r\n\r\n\tconst handleButtonClick = () => {\r\n\t\tfileRef.current.click();\r\n\t};\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst file = event.target.files[0];\r\n\t\tif (file) {\r\n\t\t\tsetFontFile(file);\r\n\t\t\thandleFileUpload(\r\n\t\t\t\tfile,\r\n\t\t\t\tsetFontFileUrl,\r\n\t\t\t\tsetFontFileName,\r\n\t\t\t\tsetFontFilePath,\r\n\t\t\t\ttempFolder\r\n\t\t\t);\r\n\t\t\tevent.target.value = '';\r\n\t\t} else {\r\n\t\t\tconsole.log('no file to upload');\r\n\t\t}\r\n\t};\r\n\r\n\tconst getRefreshToken = async () => {\r\n\t\tconst clientId = NovaQuote.dropbox_app_key;\r\n\t\tconst clientSecret = NovaQuote.dropbox_secret;\r\n\t\tconst refreshToken = NovaQuote.dropbox_refresh_token;\r\n\r\n\t\tconst url = 'https://api.dropboxapi.com/oauth2/token';\r\n\t\tconst params = new URLSearchParams({\r\n\t\t\tgrant_type: 'refresh_token',\r\n\t\t\trefresh_token: refreshToken,\r\n\t\t\tclient_id: clientId,\r\n\t\t\tclient_secret: clientSecret,\r\n\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: params,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error('Network response was not ok');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\t\t\treturn data.access_token;\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error:', error);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction getFormattedDate() {\r\n\t\tconst today = new Date();\r\n\t\treturn today.toISOString().split('T')[0]; // Returns 'YYYY-MM-DD'\r\n\t}\r\n\r\n\tconst checkAndCreateFolder = async (accessToken) => {\r\n\t\tconst folderPath = `/NOVA-CRM/${NovaQuote.business_id}/${tempFolder}/Fonts`;\r\n\r\n\t\ttry {\r\n\t\t\t// Check if the folder exists\r\n\t\t\tlet response = await fetch(\r\n\t\t\t\t'https://api.dropboxapi.com/2/files/get_metadata',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tpath: folderPath,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconst metadata = await response.json();\r\n\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tresponse = await fetch(\r\n\t\t\t\t'https://api.dropboxapi.com/2/files/create_folder_v2',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tautorename: false,\r\n\t\t\t\t\t\tpath: folderPath,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tconsole.log('Folder created successfully:', data);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\tdata.error_summary || 'Unknown error during folder creation'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\t// Handle errors for both checking and creating the folder\r\n\t\t\tconsole.error('Error:', error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst checkForExistingSharedLink = async (token, fontFilePath) => {\r\n\t\tconst response = await fetch(\r\n\t\t\t'https://api.dropboxapi.com/2/sharing/list_shared_links',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({ path: fontFilePath, direct_only: true }), // `direct_only: true` to get direct links only\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tconst data = await response.json();\r\n\r\n\t\tif (!response.ok) {\r\n\t\t\tthrow new Error(data.error_summary);\r\n\t\t}\r\n\r\n\t\t// Check if any shared links exist for the file\r\n\t\tif (data.links && data.links.length > 0) {\r\n\t\t\treturn data.links[0]; // Return the first shared link if available\r\n\t\t}\r\n\r\n\t\treturn null; // Return null if no shared links exist\r\n\t};\r\n\r\n\tconst handleFileUpload = async (\r\n\t\tfile,\r\n\t\tsetFontFileUrl,\r\n\t\tsetFontFileName,\r\n\t\tsetFontFilePath,\r\n\t\ttempFolder\r\n\t) => {\r\n\t\tsetIsLoading(true);\r\n\t\tconst token = await getRefreshToken();\r\n\r\n\t\tif (!token) {\r\n\t\t\tconsole.error('Failed to obtain access token');\r\n\t\t\tsetIsLoading(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetAccessToken(token);\r\n\t\tawait checkAndCreateFolder(token);\r\n\r\n\t\tconst dropboxArgs = {\r\n\t\t\tpath: `/NOVA-CRM/${NovaQuote.business_id}/${tempFolder}/Fonts/${file.name}`,\r\n\t\t\tmode: 'overwrite',\r\n\t\t\tautorename: false,\r\n\t\t\tmute: false,\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst uploadResponse = await fetch(\r\n\t\t\t\t'https://content.dropboxapi.com/2/files/upload',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t\t\t'Dropbox-API-Arg': JSON.stringify(dropboxArgs),\r\n\t\t\t\t\t\t'Content-Type': 'application/octet-stream',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: file,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconst uploadData = await uploadResponse.json();\r\n\t\t\tif (!uploadResponse.ok) throw new Error(uploadData.error_summary);\r\n\r\n\t\t\tconsole.log('File updated successfully:', uploadData.path_display);\r\n\r\n\t\t\tsetFontFilePath(uploadData.path_display);\r\n\r\n\t\t\t// Check for existing shared links\r\n\t\t\tconst existingLink = await checkForExistingSharedLink(\r\n\t\t\t\ttoken,\r\n\t\t\t\tuploadData.path_display\r\n\t\t\t);\r\n\r\n\t\t\tif (existingLink) {\r\n\t\t\t\tconsole.log('Existing shared link found:', existingLink.url);\r\n\t\t\t\tsetFontFileUrl(existingLink.url); // Use the existing shared link\r\n\t\t\t} else {\r\n\t\t\t\t// Create a new shared link if none exist\r\n\t\t\t\tconst sharedLinkResponse = await fetch(\r\n\t\t\t\t\t'https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t\tpath: uploadData.path_display,\r\n\t\t\t\t\t\t\tsettings: {},\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (!sharedLinkResponse.ok) {\r\n\t\t\t\t\tconsole.error('Error response:', await sharedLinkResponse.text());\r\n\t\t\t\t\tthrow new Error(\r\n\t\t\t\t\t\t`Error creating shared link: ${sharedLinkResponse.statusText}`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst sharedLinkData = await sharedLinkResponse.json();\r\n\t\t\t\tsetFontFileUrl(sharedLinkData.url); // Use the newly created shared link\r\n\t\t\t}\r\n\r\n\t\t\tsetFontFileName(uploadData.name);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error:', error.message);\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRemoveFile = async () => {\r\n\t\tsetIsLoading(true);\r\n\t\tlet currentAccessToken = accessToken;\r\n\r\n\t\tif (!currentAccessToken) {\r\n\t\t\tconsole.log('no access token');\r\n\t\t\tconst token = await getRefreshToken();\r\n\r\n\t\t\tif (!token) {\r\n\t\t\t\tconsole.error('Failed to obtain access token');\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsetAccessToken(token);\r\n\t\t\tcurrentAccessToken = token;\r\n\t\t}\r\n\r\n\t\tconsole.log(fontFilePath);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t'https://api.dropboxapi.com/2/files/delete_v2',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${currentAccessToken}`,\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tpath: fontFilePath, // Assuming fontFileUrl contains the path of the file in Dropbox\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tconsole.log('File removed:', data);\r\n\t\t\t\tsetFontFileUrl('');\r\n\t\t\t\tsetFontFilePath('');\r\n\t\t\t\tsetFontFileName('');\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\tdata.error_summary || 'Unknown error during file deletion'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error:', error);\r\n\t\t} finally {\r\n\t\t\tif (fileRef.current) {\r\n\t\t\t\tfileRef.current.value = '';\r\n\t\t\t}\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"px-[1px]\">\r\n\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\tUPLOAD TTF/OTF File\r\n\t\t\t</label>\r\n\r\n\t\t\t{!fontFileUrl ? (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"h-[40px] w-full py-2 px-2 text-center text-red rounded-md text-sm uppercase bg-slate-400 hover:bg-slate-600 font-title leading-[1em]\"\r\n\t\t\t\t\tonClick={handleButtonClick}\r\n\t\t\t\t\taria-label=\"Upload font file\"\r\n\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t<div className=\"flex justify-center items-center\">Uploading...</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Upload Font'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t) : (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"h-[40px] w-full py-2 px-2 text-center text-red rounded-md text-sm uppercase bg-red-600 hover:bg-red-400 font-title leading-[1em]\"\r\n\t\t\t\t\tonClick={handleRemoveFile}\r\n\t\t\t\t\taria-label=\"Remove front file\"\r\n\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t>\r\n\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t<div className=\"flex justify-center items-center\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\tclass=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<circle\r\n\t\t\t\t\t\t\t\t\tclass=\"opacity-25\"\r\n\t\t\t\t\t\t\t\t\tcx=\"12\"\r\n\t\t\t\t\t\t\t\t\tcy=\"12\"\r\n\t\t\t\t\t\t\t\t\tr=\"10\"\r\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\tstroke-width=\"4\"\r\n\t\t\t\t\t\t\t\t></circle>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tclass=\"opacity-75\"\r\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n\t\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\tRemoving...\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"flex items-center justify-center\">\r\n\t\t\t\t\t\t\tRemove Font file\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\tstrokeWidth={1.5}\r\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\tclassName=\"w-5 h-5\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\td=\"M6 18L18 6M6 6l12 12\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t\t<input\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\tref={fileRef}\r\n\t\t\t\tclass=\"hidden\"\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\taccept=\".ttf,.otf,.woff,.woff2,.zip,.rar,.png,.jpg,.jpeg,.pdf,.ai\"\r\n\t\t\t\taria-label=\"Font File input\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","const colorOptions = [\r\n\t{\r\n\t\tname: 'Clear',\r\n\t\tcolor: '',\r\n\t},\r\n\t{\r\n\t\tname: 'Frosted Clear',\r\n\t\tcolor: '',\r\n\t},\r\n\t{\r\n\t\tname: 'Custom Color',\r\n\t\tcolor: '',\r\n\t},\r\n\t{\r\n\t\tname: 'White',\r\n\t\tcolor: '#ffffff',\r\n\t},\r\n\t{\r\n\t\tname: 'Black',\r\n\t\tcolor: '#000000',\r\n\t},\r\n\t{\r\n\t\tname: 'Dove Grey',\r\n\t\tcolor: '#6d6c6c',\r\n\t},\r\n\t{\r\n\t\tname: 'Grey',\r\n\t\tcolor: '#808080',\r\n\t},\r\n\t{\r\n\t\tname: 'Desert Sand',\r\n\t\tcolor: '#edc9af',\r\n\t},\r\n\t{\r\n\t\tname: 'Ivory',\r\n\t\tcolor: '#fffff0',\r\n\t},\r\n\t{\r\n\t\tname: 'Lemon Yellow',\r\n\t\tcolor: '#fffff0',\r\n\t},\r\n\t{\r\n\t\tname: 'Yellow',\r\n\t\tcolor: '#ffff00',\r\n\t},\r\n\t{\r\n\t\tname: 'Citrus Yellow',\r\n\t\tcolor: '#fef250',\r\n\t},\r\n\t{\r\n\t\tname: 'Sundance Yellow',\r\n\t\tcolor: '#ffae00',\r\n\t},\r\n\t{\r\n\t\tname: 'Schoolbus Yellow',\r\n\t\tcolor: '#e8a317',\r\n\t},\r\n\t{\r\n\t\tname: 'Orange',\r\n\t\tcolor: '#ffa500',\r\n\t},\r\n\t{\r\n\t\tname: 'Red-Orange',\r\n\t\tcolor: '#ff5349',\r\n\t},\r\n\t{\r\n\t\tname: 'Rampart Orange',\r\n\t\tcolor: '#ef5e54',\r\n\t},\r\n\t{\r\n\t\tname: 'Red',\r\n\t\tcolor: '#ff0000',\r\n\t},\r\n\t{\r\n\t\tname: 'Brick Red',\r\n\t\tcolor: '#cb4154',\r\n\t},\r\n\t{\r\n\t\tname: 'Black Cherry',\r\n\t\tcolor: '#5e0013',\r\n\t},\r\n\t{\r\n\t\tname: 'Maroon',\r\n\t\tcolor: '#800000',\r\n\t},\r\n\t{\r\n\t\tname: 'Magenta',\r\n\t\tcolor: '#ff00ff',\r\n\t},\r\n\t{\r\n\t\tname: 'Violet Toner',\r\n\t\tcolor: '#3d4d97',\r\n\t},\r\n\t{\r\n\t\tname: 'Purple',\r\n\t\tcolor: '#800080',\r\n\t},\r\n\t{\r\n\t\tname: 'Midnight Blue',\r\n\t\tcolor: '#191970',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Blue',\r\n\t\tcolor: '#00008b',\r\n\t},\r\n\t{\r\n\t\tname: 'Medium Blue',\r\n\t\tcolor: '#0000cd',\r\n\t},\r\n\t{\r\n\t\tname: 'Blue',\r\n\t\tcolor: '#0000ff',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Blue',\r\n\t\tcolor: '#add8e6',\r\n\t},\r\n\t{\r\n\t\tname: 'Marine Reef Blue',\r\n\t\tcolor: '#305279',\r\n\t},\r\n\t{\r\n\t\tname: 'Teal',\r\n\t\tcolor: '#008080',\r\n\t},\r\n\t{\r\n\t\tname: 'Safety Green',\r\n\t\tcolor: '#c6d219',\r\n\t},\r\n\t{\r\n\t\tname: 'Spring Green',\r\n\t\tcolor: '#00ff7f',\r\n\t},\r\n\t{\r\n\t\tname: 'Emerald Green',\r\n\t\tcolor: '#50c878',\r\n\t},\r\n\t{\r\n\t\tname: 'Federal Green',\r\n\t\tcolor: '#005d39',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Green',\r\n\t\tcolor: '#90ee90',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Green',\r\n\t\tcolor: '#013220',\r\n\t},\r\n\t{\r\n\t\tname: 'Hunter Green',\r\n\t\tcolor: '#355e3b',\r\n\t},\r\n\t{\r\n\t\tname: 'Brown',\r\n\t\tcolor: '#964b00',\r\n\t},\r\n];\r\n\r\nconst metalFinishColors = [\r\n\t{\r\n\t\tname: 'Stainless Steel Brushed',\r\n\t\tcolor: '#caccce',\r\n\t},\r\n\t{\r\n\t\tname: 'Stainless Steel Polished',\r\n\t\tcolor: '#caccce',\r\n\t},\r\n\t{\r\n\t\tname: 'Black Titanium Brushed',\r\n\t\tcolor: '#14130E',\r\n\t},\r\n\t{\r\n\t\tname: 'Black Titanium Polished',\r\n\t\tcolor: '#14130E',\r\n\t},\r\n\t{\r\n\t\tname: 'Gold Brushed',\r\n\t\tcolor: '#ffbf00',\r\n\t},\r\n\t{\r\n\t\tname: 'Gold Polished',\r\n\t\tcolor: '#ffbf00',\r\n\t},\r\n];\r\n\r\nconst translucentGraphicFilms = [\r\n\t{\r\n\t\tname: 'White',\r\n\t\tcolor: '#ffffff',\r\n\t},\r\n\t{\r\n\t\tname: 'Ivory',\r\n\t\tcolor: '#ded1b4',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Beige',\r\n\t\tcolor: '#c9bbae',\r\n\t},\r\n\t{\r\n\t\tname: 'Silver',\r\n\t\tcolor: '#b5b4bc',\r\n\t},\r\n\t{\r\n\t\tname: 'Gold Nugget',\r\n\t\tcolor: '#bf9152',\r\n\t},\r\n\t{\r\n\t\tname: 'Gold Metallic',\r\n\t\tcolor: '#a4896d',\r\n\t},\r\n\t{\r\n\t\tname: 'Bronze',\r\n\t\tcolor: '#b76e4b',\r\n\t},\r\n\t{\r\n\t\tname: 'Shadow Grey',\r\n\t\tcolor: '#8b858a',\r\n\t},\r\n\t{\r\n\t\tname: 'Silver Grey',\r\n\t\tcolor: '#858b91',\r\n\t},\r\n\t{\r\n\t\tname: 'Slate Grey',\r\n\t\tcolor: '#4e6478',\r\n\t},\r\n\t{\r\n\t\tname: 'Black',\r\n\t\tcolor: '#272e32',\r\n\t},\r\n\t{\r\n\t\tname: 'Duranodic',\r\n\t\tcolor: '#444041',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Brown',\r\n\t\tcolor: '#473434',\r\n\t},\r\n\t{\r\n\t\tname: 'Rust Brown',\r\n\t\tcolor: '#62322d',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Rust Brown',\r\n\t\tcolor: '#6f332a',\r\n\t},\r\n\t{\r\n\t\tname: 'Burgundy',\r\n\t\tcolor: '#781729',\r\n\t},\r\n\t{\r\n\t\tname: 'Raspberry',\r\n\t\tcolor: '#ae044b',\r\n\t},\r\n\t{\r\n\t\tname: 'Vivid Rose',\r\n\t\tcolor: '#ca0f43',\r\n\t},\r\n\t{\r\n\t\tname: 'Rose Mauve',\r\n\t\tcolor: '#d96690',\r\n\t},\r\n\t{\r\n\t\tname: 'Cardinal Red',\r\n\t\tcolor: '#b10e22',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Red',\r\n\t\tcolor: '#b40b22',\r\n\t},\r\n\t{\r\n\t\tname: 'Red',\r\n\t\tcolor: '#bf1527',\r\n\t},\r\n\t{\r\n\t\tname: 'Regal Red',\r\n\t\tcolor: '#be1632',\r\n\t},\r\n\t{\r\n\t\tname: 'Poppy Red',\r\n\t\tcolor: '#d20d1a',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Tomato Red',\r\n\t\tcolor: '#c90c15',\r\n\t},\r\n\t{\r\n\t\tname: 'Orange',\r\n\t\tcolor: '#d53b14',\r\n\t},\r\n\t{\r\n\t\tname: 'Tangerine',\r\n\t\tcolor: '#ed6c0b',\r\n\t},\r\n\t{\r\n\t\tname: 'Kumquat Orange',\r\n\t\tcolor: '#a4896d',\r\n\t},\r\n\t{\r\n\t\tname: 'Marigold',\r\n\t\tcolor: '#e59d00',\r\n\t},\r\n\t{\r\n\t\tname: 'Sunflower',\r\n\t\tcolor: '#dd9603',\r\n\t},\r\n\t{\r\n\t\tname: 'Golden Yellow',\r\n\t\tcolor: '#f0a901',\r\n\t},\r\n\t{\r\n\t\tname: 'Yellow',\r\n\t\tcolor: '#ecbf00',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Lemon Yellow',\r\n\t\tcolor: '#d3ce05',\r\n\t},\r\n\t{\r\n\t\tname: 'Brilliant Green',\r\n\t\tcolor: '#43b110',\r\n\t},\r\n\t{\r\n\t\tname: 'Lime Green',\r\n\t\tcolor: '#35b225',\r\n\t},\r\n\t{\r\n\t\tname: 'Vivid Green',\r\n\t\tcolor: '#058342',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Kelly Green',\r\n\t\tcolor: '#009a6b',\r\n\t},\r\n\t{\r\n\t\tname: 'Bright Jade Green',\r\n\t\tcolor: '#009b75',\r\n\t},\r\n\t{\r\n\t\tname: 'Green',\r\n\t\tcolor: '#026031',\r\n\t},\r\n\t{\r\n\t\tname: 'Holly Green',\r\n\t\tcolor: '#10502e',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Emerald Green',\r\n\t\tcolor: '#09502c',\r\n\t},\r\n\t{\r\n\t\tname: 'Torquioise',\r\n\t\tcolor: '#00898b',\r\n\t},\r\n\t{\r\n\t\tname: 'Teal Green',\r\n\t\tcolor: '#00788b',\r\n\t},\r\n\t{\r\n\t\tname: 'Evening Blue',\r\n\t\tcolor: '#879ac5',\r\n\t},\r\n\t{\r\n\t\tname: 'Light European Blue',\r\n\t\tcolor: '#0978bb',\r\n\t},\r\n\t{\r\n\t\tname: 'Olympic Blue',\r\n\t\tcolor: '#0478b6',\r\n\t},\r\n\t{\r\n\t\tname: 'Process Blue',\r\n\t\tcolor: '#0773c2',\r\n\t},\r\n\t{\r\n\t\tname: 'Intense Blue',\r\n\t\tcolor: '#0a5fb2',\r\n\t},\r\n\t{\r\n\t\tname: 'Bright Blue',\r\n\t\tcolor: '#0248a1',\r\n\t},\r\n\t{\r\n\t\tname: 'Bristol Blue',\r\n\t\tcolor: '#033998',\r\n\t},\r\n\t{\r\n\t\tname: 'Sultan Blue',\r\n\t\tcolor: '#062285',\r\n\t},\r\n\t{\r\n\t\tname: 'European Blue',\r\n\t\tcolor: '#152462',\r\n\t},\r\n\t{\r\n\t\tname: 'Blue',\r\n\t\tcolor: '#0e1466',\r\n\t},\r\n\t{\r\n\t\tname: 'Royal Blue',\r\n\t\tcolor: '#0e0173',\r\n\t},\r\n\t{\r\n\t\tname: 'Plum Purple',\r\n\t\tcolor: '#502960',\r\n\t},\r\n\t{\r\n\t\tname: 'Intense Magenta',\r\n\t\tcolor: '#a62579',\r\n\t},\r\n\t{\r\n\t\tname: 'Pink',\r\n\t\tcolor: '#da6bb4',\r\n\t},\r\n];\r\n\r\nexport { colorOptions, metalFinishColors, translucentGraphicFilms };\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Letters from './components/Letters';\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function LaserCutAcrylic() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'letters',\r\n\t\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tacrylicThickness: '',\r\n\t\t\t\t\tcolor: { name: '', color: '' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tfinishing: 'Matte',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tconst savedStorage = JSON.parse(localStorage.getItem(storage));\r\n\t\t\t\tif (savedStorage?.length > 0) {\r\n\t\t\t\t\tsetSignage(savedStorage);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//window.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tcomments: '',\r\n\t\tmounting: '',\r\n\t\tacrylicThickness: '',\r\n\t\twaterproof: '',\r\n\t\tfinishing: 'Matte',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tsets: 1,\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tcolor: { name: '', color: '' },\r\n\t\tcustomColor: '',\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tthickness_options: '',\r\n\t\t\t\t\tcolor: { name: '', color: '' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.type === 'letters' ? (\r\n\t\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport {\r\n\tmountingDefaultOptions,\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\tthicknessOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport { colorOptions } from '../ColorOptions';\r\nimport { QuoteContext } from '../LaserCutAcrylic';\r\n\r\nconst NovaOptions = NovaQuote.quote_options;\r\nconst NovaSingleOptions = NovaQuote.single_quote_options;\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n//const AcrylicLetterPricing = JSON.parse(NovaOptions.letter_x_logo_pricing);\r\n\r\nexport default function Letters({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\tconst [color, setColor] = useState(item.color);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.acrylicThickness\r\n\t);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [fileName, setFileName] = useState(item.fileName);\r\n\tconst [fileUrl, setFileUrl] = useState(item.fileUrl);\r\n\tconst [filePath, setFilePath] = useState(item.filePath);\r\n\tconst [file, setFile] = useState(item.file);\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [customFont, setCustomFont] = useState(item.customFont);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst [mountingOptions, setMountingOptions] = useState(\r\n\t\tmountingDefaultOptions\r\n\t);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState(\r\n\t\tNovaOptions.letters_height\r\n\t);\r\n\r\n\tconst [selectedMounting, setSelectedMounting] = useState(item.mounting);\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\r\n\tconst colorRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\r\n\tconst finishingOptions = NovaSingleOptions.finishing_options;\r\n\tconst letterPricing =\r\n\t\tNovaQuote.letter_pricing_table?.pricing_table.length > 0\r\n\t\t\t? convert_json(NovaQuote.letter_pricing_table.pricing_table)\r\n\t\t\t: [];\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (file) {\r\n\t\t\tsetFiles([file]);\r\n\t\t}\r\n\t\tif (fileName) {\r\n\t\t\tsetFileNames([fileName]);\r\n\t\t}\r\n\t\tif (filePath) {\r\n\t\t\tsetFilePaths([filePath]);\r\n\t\t}\r\n\t\tif (fileUrl) {\r\n\t\t\tsetFileUrls([fileUrl]);\r\n\t\t}\r\n\t}, [file, fileName, filePath, fileUrl]);\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\tacrylicThickness: selectedThickness,\r\n\t\t\t\t\tmounting: selectedMounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tcustomFont: customFont,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeMount = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetSelectedMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\r\n\t\tif (parseInt(target) > 11 && parseInt(selectedLetterHeight) === 1) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\r\n\t\tif (parseInt(target) === 3) {\r\n\t\t\tif (parseInt(selectedLetterHeight) > 24) {\r\n\t\t\t\tsetSelectedLetterHeight('');\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\tselectedMounting === 'Stud Mount' ||\r\n\t\t\t\tselectedMounting === 'Stud with spacer'\r\n\t\t\t) {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst handleChangePieces = (e) => {\r\n\t\tsetPieces(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\tletterPricing.length > 0 &&\r\n\t\t\tselectedLetterHeight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof\r\n\t\t) {\r\n\t\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 1];\r\n\t\t\tconst baseLetterPrice = pricingDetail[selectedThickness.value];\r\n\r\n\t\t\tlet totalLetterPrice = 0;\r\n\t\t\tconst lettersArray = letters.trim().split('');\r\n\t\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\t\tlettersArray.forEach((letter) => {\r\n\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\t// If the character is a space, set the price to 0 and skip further checks\r\n\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\t// Check for lowercase letter\r\n\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing; // 80% of the base price\r\n\t\t\t\t} else if (letter.match(/[A-Z]/)) {\r\n\t\t\t\t\t// Check for uppercase letter\r\n\t\t\t\t\t// Uppercase letters use 100% of base price, so no change needed\r\n\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\t// Check for small punctuation marks\r\n\t\t\t\t\tletterPrice *= smallPunctuations; // 30% of the base price\r\n\t\t\t\t} else if (letter.match(/[^a-zA-Z]/)) {\r\n\t\t\t\t\t// Check for symbol (not a letter or small punctuation)\r\n\t\t\t\t\t// Symbols use 100% of base price, so no change needed\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjusting for waterproof and finishing\r\n\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.1;\r\n\t\t\t\tletterPrice *= selectedFinishing === 'Gloss' ? 1.1 : 1;\r\n\r\n\t\t\t\tif (color?.name === 'Clear') {\r\n\t\t\t\t\tletterPrice *= 0.9;\r\n\t\t\t\t}\r\n\t\t\t\tif (color?.name === 'Frosted Clear') {\r\n\t\t\t\t\tletterPrice *= 0.95;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotalLetterPrice += letterPrice;\r\n\t\t\t});\r\n\r\n\t\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\r\n\t\t\t\tlet spacer =\r\n\t\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\ttotalLetterPrice += spacer;\r\n\t\t\t}\r\n\r\n\t\t\ttotalLetterPrice *= sets;\r\n\r\n\t\t\tsetUsdPrice(parseFloat(totalLetterPrice).toFixed(2));\r\n\t\t\tsetCadPrice((totalLetterPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tselectedThickness,\r\n\t\tselectedFinishing,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tcolor,\r\n\t\tsets,\r\n\t\tfont,\r\n\t\tselectedMounting,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = mountingDefaultOptions;\r\n\r\n\t\tif (selectedThickness?.value === '3') {\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.mounting_option !== 'Stud Mount' &&\r\n\t\t\t\t\toption.mounting_option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (waterproof === 'Outdoor (Waterproof)') {\r\n\t\t\tif (selectedMounting === 'Double-sided tape') {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t}\r\n\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) => option.mounting_option !== 'Double-sided tape'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetMountingOptions(newMountingOptions);\r\n\t}, [selectedThickness, waterproof, setSelectedMounting, setMountingOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add your Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\t\tif (!selectedThickness) missingFields.push('Select Acrylic Thickness');\r\n\t\tif (!color.name) missingFields.push('Select Color');\r\n\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing');\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!selectedMounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (selectedMounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tfont,\r\n\t\tcolor,\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfontFileUrl,\r\n\t\tselectedFinishing,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tletters,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\tcolor,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfilePaths,\r\n\t\tfiles,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tselectedFinishing,\r\n\t\tcustomFont,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newHeightOptions = letterPricing?.filter((item) => {\r\n\t\t\tconst value = item[selectedThickness?.value];\r\n\t\t\treturn (\r\n\t\t\t\tvalue !== '' &&\r\n\t\t\t\tvalue !== null &&\r\n\t\t\t\tvalue !== undefined &&\r\n\t\t\t\tvalue !== false &&\r\n\t\t\t\t!isNaN(value)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (newHeightOptions.length > 0) {\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: newHeightOptions[0].Height,\r\n\t\t\t\tmax: newHeightOptions[newHeightOptions.length - 1].Height,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tuseOutsideClick([colorRef, fontRef], () => {\r\n\t\tif (!openColor && !openFont) return;\r\n\t\tsetOpenColor(false);\r\n\t\tsetOpenFont(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t}, [color, font]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font === 'Custom font' ? '' : font,\r\n\t\t\t\t\t\t\tcolor: color.color,\r\n\t\t\t\t\t\t\ttextShadow: '0px 0px 1px rgba(0, 0, 0, 1)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={item.font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\tsetOpenColor={setOpenColor}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Acrylic Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={selectedLetterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tColor\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOpenColor((prev) => !prev);\r\n\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.name}\r\n\t\t\t\t\t\t\tselected={finishing.name === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeMount}\r\n\t\t\t\t\toptions={mountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.mounting_option}\r\n\t\t\t\t\t\t\tselected={option.mounting_option === selectedMounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.mounting_option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedMounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedMounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport {\r\n\tcalculateMountingOptions,\r\n\tmountingDefaultOptions,\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\tthicknessOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport { colorOptions } from '../ColorOptions';\r\nimport { QuoteContext } from '../LaserCutAcrylic';\r\n\r\nconst NovaSingleOptions = NovaQuote.single_quote_options;\r\nconst exchangeRate = 1.3;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedMounting, setSelectedMounting] = useState(item.mounting);\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.acrylicThickness\r\n\t);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [maxWidthHeight, setMaxWidthHeight] = useState(43);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\r\n\tconst [color, setColor] = useState(item.color);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\r\n\tconst colorRef = useRef(null);\r\n\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst finishingOptions = NovaSingleOptions.finishing_options;\r\n\tconst [maxWidthOptions, setMaxWidthOptions] = useState(\r\n\t\tArray.from(\r\n\t\t\t{\r\n\t\t\t\tlength: maxWidthHeight,\r\n\t\t\t},\r\n\t\t\t(_, index) => {\r\n\t\t\t\tconst val = 1 + index;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t</option>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t)\r\n\t);\r\n\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [mountingOptions, setMountingOptions] = useState(\r\n\t\tmountingDefaultOptions\r\n\t);\r\n\r\n\tconst handleOnChangeMount = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetSelectedMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = mountingDefaultOptions;\r\n\r\n\t\tif (selectedThickness?.value === '3') {\r\n\t\t\tif (\r\n\t\t\t\tselectedMounting === 'Stud Mounth' ||\r\n\t\t\t\tselectedMounting === 'Stud with spacer'\r\n\t\t\t) {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.mounting_option !== 'Stud Mount' &&\r\n\t\t\t\t\toption.mounting_option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (waterproof === 'Outdoor (Waterproof)') {\r\n\t\t\tif (selectedMounting === 'Double-sided tape') {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t}\r\n\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) => option.mounting_option !== 'Double-sided tape'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetMountingOptions(newMountingOptions);\r\n\r\n\t\tsetMaxWidthOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(maxWidthHeight) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = 1 + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\tmaxWidthHeight,\r\n\t\tsetSelectedMounting,\r\n\t\tsetMountingOptions,\r\n\t]);\r\n\r\n\tfunction handleComments(e) {\r\n\t\tsetComments(e.target.value);\r\n\t}\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\r\n\t\tif (parseInt(target) === 3) {\r\n\t\t\tif (\r\n\t\t\t\tselectedMounting === 'Stud Mount' ||\r\n\t\t\t\tselectedMounting === 'Stud with spacer'\r\n\t\t\t) {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (parseInt(selectedThickness?.value) > 3) {\r\n\t\t\tsetMaxWidthHeight(42);\r\n\t\t} else {\r\n\t\t\tsetMaxWidthHeight(23);\r\n\t\t\tif (height > 25) {\r\n\t\t\t\tsetHeight('');\r\n\t\t\t}\r\n\t\t\tif (width > 25) {\r\n\t\t\t\tsetWidth('');\r\n\t\t\t}\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tacrylicThickness: selectedThickness,\r\n\t\t\t\t\tmounting: selectedMounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tcomments,\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tselectedFinishing,\r\n\t\tfiles,\r\n\t\tsets,\r\n\t\tfilePaths,\r\n\t\tcolor,\r\n\t\tcustomColor,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}mm`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 1][height] : 0;\r\n\r\n\t\t\t\tlet multiplier = 0;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = parseFloat((computed * multiplier).toFixed(2));\r\n\t\t\t\ttotal *= selectedFinishing === 'Gloss' ? 1.1 : 1;\r\n\r\n\t\t\t\tif (color?.name === 'Clear') {\r\n\t\t\t\t\ttotal *= 0.9;\r\n\t\t\t\t}\r\n\t\t\t\tif (color?.name === 'Frosted Clear') {\r\n\t\t\t\t\ttotal *= 0.95;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total.toFixed(2)));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tsets,\r\n\t\tcolor,\r\n\t\tselectedMounting,\r\n\t]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!selectedThickness) missingFields.push('Select Acrylic Thickness');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!selectedMounting) missingFields.push('Select Mounting');\r\n\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\t\tif (selectedMounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing');\r\n\t\tif (!color.name) missingFields.push('Select Color');\r\n\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\tcomments,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfilePaths,\r\n\t\tfiles,\r\n\t\tselectedFinishing,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseOutsideClick([colorRef], () => {\r\n\t\tif (!openColor) return;\r\n\t\tsetOpenColor(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t}, [color]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Acrylic Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tColor\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOpenColor((prev) => !prev);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.name}\r\n\t\t\t\t\t\t\tselected={finishing.name === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={(e) => setWaterproof(e.target.value)}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeMount}\r\n\t\t\t\t\toptions={mountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.mounting_option}\r\n\t\t\t\t\t\t\tselected={option.mounting_option === selectedMounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.mounting_option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedMounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedMounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport const ASSEMBLY_FEES = 1.1;\r\n\r\nexport default function LayeredAcrylic() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'logo',\r\n\t\t\t\t\ttitle: 'LOGO 1',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\tacrylicThickness: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tfinishing: 'Matte',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t\tlayers: '',\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tmounting: '',\r\n\t\tacrylicThickness: '',\r\n\t\twaterproof: '',\r\n\t\tfinishing: 'Matte',\r\n\t\tdescription: '',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tlayers: '',\r\n\t\tsets: 1,\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tacrylicThickness: '',\r\n\t\t\t\t\tthickness_options: '',\r\n\t\t\t\t\tcolor: { name: '', color: '' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport {\r\n\tcalculateMountingOptions,\r\n\tdefaultFinishOptions,\r\n\tmountingDefaultOptions,\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\tthicknessOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport { ASSEMBLY_FEES, QuoteContext } from '../LayeredAcrylic';\r\n\r\nconst exchangeRate = 1.3;\r\nconst NovaSingleOptions = NovaQuote.single_quote_options;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tmissing,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedMounting, setSelectedMounting] = useState(item.mounting);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.acrylicThickness\r\n\t);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [maxWidthHeight, setMaxWidthHeight] = useState(23);\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [pieces, setPieces] = useState(item.pieces);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [description, setDescription] = useState(item.description);\r\n\tconst [layers, setLayers] = useState(item.layers);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst finishingOptions = NovaSingleOptions.finishing_options\r\n\t\t? NovaSingleOptions.finishing_options\r\n\t\t: defaultFinishOptions;\r\n\tconst [maxWidthOptions, setMaxWidthOptions] = useState(\r\n\t\tArray.from(\r\n\t\t\t{\r\n\t\t\t\tlength: maxWidthHeight,\r\n\t\t\t},\r\n\t\t\t(_, index) => {\r\n\t\t\t\tconst val = 1 + index;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t</option>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t)\r\n\t);\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [comments, setComments] = useState('');\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [mountingOptions, setMountingOptions] = useState(\r\n\t\tmountingDefaultOptions\r\n\t);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeMount = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetSelectedMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeDescription = (e) => setDescription(e.target.value);\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = mountingDefaultOptions;\r\n\r\n\t\tif (selectedThickness?.value === '3') {\r\n\t\t\tif (\r\n\t\t\t\tselectedMounting === 'Stud Mounth' ||\r\n\t\t\t\tselectedMounting === 'Stud with spacer'\r\n\t\t\t) {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.mounting_option !== 'Stud Mount' &&\r\n\t\t\t\t\toption.mounting_option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (waterproof === 'Outdoor (Waterproof)') {\r\n\t\t\tif (selectedMounting === 'Double-sided tape') {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t}\r\n\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) => option.mounting_option !== 'Double-sided tape'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetMountingOptions(newMountingOptions);\r\n\r\n\t\tsetMaxWidthOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(maxWidthHeight) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = 1 + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\tmaxWidthHeight,\r\n\t\tsetSelectedMounting,\r\n\t\tsetMountingOptions,\r\n\t]);\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (parseInt(selectedThickness?.value) > 3) {\r\n\t\t\tsetMaxWidthHeight(42);\r\n\t\t} else {\r\n\t\t\tsetMaxWidthHeight(23);\r\n\t\t\tif (height > 25) {\r\n\t\t\t\tsetHeight('');\r\n\t\t\t}\r\n\t\t\tif (width > 25) {\r\n\t\t\t\tsetWidth('');\r\n\t\t\t}\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst handleChangePieces = (e) => {\r\n\t\tsetPieces(e.target.value);\r\n\t};\r\n\r\n\tconst layersOptions = [1, 2, 3, 4, 5];\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tacrylicThickness: selectedThickness,\r\n\t\t\t\t\tmounting: selectedMounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tpieces: pieces,\r\n\t\t\t\t\tlayers: layers,\r\n\t\t\t\t\tdescription: description,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tselectedFinishing,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tpieces,\r\n\t\tdescription,\r\n\t\tlayers,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\t// Ensure width, height, and selectedThickness are provided\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}mm`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 1][height] : 0;\r\n\r\n\t\t\t\tlet multiplier = 0;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = (computed * multiplier * ASSEMBLY_FEES).toFixed(2);\r\n\t\t\t\ttotal *= selectedFinishing === 'Gloss' ? 1.1 : 1;\r\n\r\n\t\t\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total.toFixed(2)));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tsets,\r\n\t\tselectedMounting,\r\n\t]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\t\tif (!description) missingFields.push('Add Description');\r\n\t\tif (!selectedThickness) missingFields.push('Select Thickness');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\t\tif (!layers) missingFields.push('Layers');\r\n\t\tif (!waterproof) missingFields.push('Select Environment');\r\n\t\tif (!selectedMounting) missingFields.push('Select Mounting');\r\n\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (selectedMounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing Option');\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tfileUrls,\r\n\t\tcomments,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tlayers,\r\n\t\tselectedMounting,\r\n\t\tselectedThickness,\r\n\t\tdescription,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tDESCRIPTION\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"h-[160px] rounded-md text-sm\"\r\n\t\t\t\t\t\tonChange={handleOnChangeDescription}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{description}\r\n\t\t\t\t\t</textarea>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Acrylic Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Number or Layers\"\r\n\t\t\t\t\tvalue={layers}\r\n\t\t\t\t\tonChange={(e) => setLayers(e.target.value)}\r\n\t\t\t\t\toptions={layersOptions.map((layer) => (\r\n\t\t\t\t\t\t<option value={layer} selected={layer == layers}>\r\n\t\t\t\t\t\t\t{layer}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.name}\r\n\t\t\t\t\t\t\tselected={finishing.name === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={(e) => setWaterproof(e.target.value)}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeMount}\r\n\t\t\t\t\toptions={mountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.mounting_option}\r\n\t\t\t\t\t\t\tselected={option.mounting_option === selectedMounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.mounting_option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedMounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedMounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport { Letters } from './components/Letters';\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport const acrylicBaseOptions = [\r\n\t{\r\n\t\toption: 'Black',\r\n\t},\r\n\t{\r\n\t\toption: 'Custom (Pantone Code)',\r\n\t},\r\n];\r\n\r\nexport const METAL_ACRYLIC_PRICING = 1.3;\r\n\r\nexport default function MetalLaminate() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tsetSignage([\r\n\t\t\t{\r\n\t\t\t\tid: uuidv4(),\r\n\t\t\t\ttype: 'letters',\r\n\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\tletters: '',\r\n\t\t\t\tcomments: '',\r\n\t\t\t\tfont: '',\r\n\t\t\t\tmounting: '',\r\n\t\t\t\twaterproof: '',\r\n\t\t\t\tacrylicThickness: '',\r\n\t\t\t\tacrylicBase: { name: 'Black', color: '#000000' },\r\n\t\t\t\tmetalLaminate: '',\r\n\t\t\t\tletterHeight: '',\r\n\t\t\t\tusdPrice: 0,\r\n\t\t\t\tcadPrice: 0,\r\n\t\t\t\tfilePaths: [],\r\n\t\t\t\tfileNames: [],\r\n\t\t\t\tfileUrls: [],\r\n\t\t\t\tfiles: [],\r\n\t\t\t\tcustomFont: '',\r\n\t\t\t\tcustomColor: '',\r\n\t\t\t\tsets: 1,\r\n\t\t\t\tstudLength: '',\r\n\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t},\r\n\t\t]);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tcomments: '',\r\n\t\tmounting: '',\r\n\t\tacrylicThickness: '',\r\n\t\twaterproof: '',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tfontFilePath: '',\r\n\t\tfontFileName: '',\r\n\t\tfontFileUrl: '',\r\n\t\tfontFile: '',\r\n\t\tmetalLaminate: '',\r\n\t\tacrylicBase: { name: 'Black', color: '#000000' },\r\n\t\tcustomColor: '',\r\n\t\tsets: 1,\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tthickness_options: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.type === 'letters' ? (\r\n\t\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport {\r\n\tcolorOptions,\r\n\tmetalFinishColors,\r\n} from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport {\r\n\tmountingDefaultOptions,\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\tthicknessOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport { METAL_ACRYLIC_PRICING, QuoteContext } from '../MetalLaminate';\r\n\r\nconst NovaOptions = NovaQuote.quote_options;\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n//const AcrylicLetterPricing = JSON.parse(NovaOptions.letter_x_logo_pricing);\r\n\r\nexport const Letters = ({ item }) => {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [customFont, setCustomFont] = useState(item.customFont);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\tconst [acrylicBase, setAcrylicBase] = useState(item.acrylicBase);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\tconst [openAcrylicColor, setOpenAcrylicColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.acrylicThickness\r\n\t);\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [metalLaminate, setMetalLaminate] = useState(item.metalLaminate);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState(\r\n\t\tNovaOptions.letters_height\r\n\t);\r\n\r\n\tconst [mountingOptions, setMountingOptions] = useState(\r\n\t\tmountingDefaultOptions\r\n\t);\r\n\tconst [selectedMounting, setSelectedMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst [color, setColor] = useState('#000000');\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeMount = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetSelectedMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst acrylicRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\r\n\tconst letterPricing =\r\n\t\tNovaQuote.letter_pricing_table?.pricing_table.length > 0\r\n\t\t\t? convert_json(NovaQuote.letter_pricing_table.pricing_table)\r\n\t\t\t: [];\r\n\tlet perLetterPrice = 0;\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleChangeMetalLaminate = (e) => {\r\n\t\tconst selectedLaminate = metalFinishColors.find(\r\n\t\t\t(laminate) => laminate.name === e.target.value\r\n\t\t);\r\n\t\t// Assuming setMetalLaminate and setColor are state setter functions\r\n\t\tsetMetalLaminate(selectedLaminate.name);\r\n\t\tsetColor(selectedLaminate.color);\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconsole.log('updateSignage');\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\tacrylicThickness: selectedThickness,\r\n\t\t\t\t\tmounting: selectedMounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tacrylicBase: acrylicBase,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tmetalLaminate: metalLaminate,\r\n\t\t\t\t\tcustomFont: customFont,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t\tconsole.log(updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t\tif (parseInt(target) === 3 && parseInt(selectedLetterHeight) > 24) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t\tif (parseInt(target) > 11 && parseInt(selectedLetterHeight) === 1) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\tletterPricing.length === 0 ||\r\n\t\t\t!selectedLetterHeight ||\r\n\t\t\t!selectedThickness ||\r\n\t\t\t!letters\r\n\t\t) {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 1];\r\n\t\tconst baseLetterPrice = pricingDetail[selectedThickness.value];\r\n\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\tconst totalLetterPrice = letters\r\n\t\t\t.trim()\r\n\t\t\t.split('')\r\n\t\t\t.reduce((total, letter) => {\r\n\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing;\r\n\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\tletterPrice *= smallPunctuations;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.1;\r\n\t\t\t\tletterPrice *= METAL_ACRYLIC_PRICING;\r\n\t\t\t\tletterPrice *= acrylicBase?.name === 'Black' ? 1 : 1.1;\r\n\r\n\t\t\t\treturn total + letterPrice;\r\n\t\t\t}, 0);\r\n\r\n\t\tlet adjustedPrice = totalLetterPrice;\r\n\r\n\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\tconst maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\tconst spacer =\r\n\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\t\t\tadjustedPrice += parseFloat(spacer.toFixed(2));\r\n\t\t}\r\n\r\n\t\tconst finalPrice = adjustedPrice * sets;\r\n\t\tsetUsdPrice(finalPrice.toFixed(2));\r\n\t\tsetCadPrice((finalPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tselectedThickness,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tacrylicBase,\r\n\t\tsets,\r\n\t\tfont,\r\n\t\tselectedMounting,\r\n\t\tletterPricing, // Assuming letterPricing is not expected to change frequently\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = mountingDefaultOptions;\r\n\r\n\t\tif (selectedThickness?.value === '3') {\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.mounting_option !== 'Stud Mount' &&\r\n\t\t\t\t\toption.mounting_option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (waterproof === 'Outdoor (Waterproof)') {\r\n\t\t\tif (selectedMounting === 'Double-sided tape') {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t}\r\n\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) => option.mounting_option !== 'Double-sided tape'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetMountingOptions(newMountingOptions);\r\n\t}, [selectedThickness, waterproof, setSelectedMounting, setMountingOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tletters,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tacrylicBase,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tmetalLaminate,\r\n\t\tcustomFont,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tselectedMounting,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\t\tif (!selectedThickness) missingFields.push('Select Acrylic Thickness');\r\n\t\tif (!metalLaminate) missingFields.push('Select Metal Laminate');\r\n\t\tif (!acrylicBase) missingFields.push('Select Acrylic Base');\r\n\t\tif (acrylicBase?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!selectedMounting) missingFields.push('Select Mounting');\r\n\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\t\tif (selectedMounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\t\tsetMissing((prevMissing) => {\r\n\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t);\r\n\r\n\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t};\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t},\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\treturn prevMissing;\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tfont,\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t\twaterproof,\r\n\t\tselectedLetterHeight,\r\n\t\tmetalLaminate,\r\n\t\tacrylicBase,\r\n\t\tcustomColor,\r\n\t\tfontFileUrl,\r\n\t\tsets,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newHeightOptions = letterPricing?.filter((item) => {\r\n\t\t\tconst value = item[selectedThickness?.value];\r\n\t\t\treturn (\r\n\t\t\t\tvalue !== '' &&\r\n\t\t\t\tvalue !== null &&\r\n\t\t\t\tvalue !== undefined &&\r\n\t\t\t\tvalue !== false &&\r\n\t\t\t\t!isNaN(value)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (newHeightOptions.length > 0) {\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: newHeightOptions[0].Height,\r\n\t\t\t\tmax: newHeightOptions[newHeightOptions.length - 1].Height,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tuseOutsideClick([acrylicRef, fontRef], () => {\r\n\t\tif (!openFont && !openAcrylicColor) return;\r\n\t\tsetOpenAcrylicColor(false);\r\n\t\tsetOpenFont(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t\tacrylicBase?.name != 'Custom Color' && setCustomColor('');\r\n\t}, [font, acrylicBase]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font,\r\n\t\t\t\t\t\t\tcolor: color,\r\n\t\t\t\t\t\t\ttextShadow: `-1px 1px 3px ${\r\n\t\t\t\t\t\t\t\tacrylicBase?.name ? acrylicBase?.color : '#000000'\r\n\t\t\t\t\t\t\t}, 0 0 1px #000000`,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t\tsetOpenColor={() => {\r\n\t\t\t\t\t\tsetOpenAcrylicColor(false);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Acrylic Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={selectedLetterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Laminate\"\r\n\t\t\t\t\tonChange={handleChangeMetalLaminate}\r\n\t\t\t\t\toptions={metalFinishColors.map((laminate) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={laminate.name}\r\n\t\t\t\t\t\t\tselected={laminate.name === item.metalLaminate}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{laminate.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={metalLaminate}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={acrylicRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tAcrylic Base\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tacrylicBase?.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tconsole.log('Click');\r\n\t\t\t\t\t\t\tsetOpenAcrylicColor((prev) => !prev);\r\n\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tacrylicBase?.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: acrylicBase?.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{acrylicBase?.name === '' ? 'CHOOSE OPTION' : acrylicBase?.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openAcrylicColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetAcrylicBase(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenAcrylicColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeMount}\r\n\t\t\t\t\toptions={mountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.mounting_option}\r\n\t\t\t\t\t\t\tselected={option.mounting_option === selectedMounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.mounting_option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedMounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedMounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{acrylicBase?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport {\r\n\tcalculateMountingOptions,\r\n\tmountingDefaultOptions,\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\tthicknessOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\n\r\nimport { METAL_ACRYLIC_PRICING, QuoteContext } from '../MetalLaminate';\r\n\r\nimport {\r\n\tcolorOptions,\r\n\tmetalFinishColors,\r\n} from '../../../../utils/ColorOptions';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedMounting, setSelectedMounting] = useState(item.mounting);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.acrylicThickness\r\n\t);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [maxWidthHeight, setMaxWidthHeight] = useState(23);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\tconst [metalLaminate, setMetalLaminate] = useState(item.metalLaminate);\r\n\tconst [acrylicBase, setAcrylicBase] = useState(item.acrylicBase);\r\n\tconst [openAcrylicColor, setOpenAcrylicColor] = useState(false);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\tconst [maxWidthOptions, setMaxWidthOptions] = useState(\r\n\t\tArray.from(\r\n\t\t\t{\r\n\t\t\t\tlength: maxWidthHeight,\r\n\t\t\t},\r\n\t\t\t(_, index) => {\r\n\t\t\t\tconst val = 1 + index;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t</option>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t)\r\n\t);\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [comments, setComments] = useState('');\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [mountingOptions, setMountingOptions] = useState(\r\n\t\tmountingDefaultOptions\r\n\t);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeMount = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetSelectedMounting(target);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = mountingDefaultOptions;\r\n\r\n\t\tif (selectedThickness?.value === '3') {\r\n\t\t\tif (\r\n\t\t\t\tselectedMounting === 'Stud Mounth' ||\r\n\t\t\t\tselectedMounting === 'Stud with spacer'\r\n\t\t\t) {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.mounting_option !== 'Stud Mount' &&\r\n\t\t\t\t\toption.mounting_option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (waterproof === 'Outdoor (Waterproof)') {\r\n\t\t\tif (selectedMounting === 'Double-sided tape') {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t}\r\n\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) => option.mounting_option !== 'Double-sided tape'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetMountingOptions(newMountingOptions);\r\n\r\n\t\tsetMaxWidthOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(maxWidthHeight) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = 1 + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\tmaxWidthHeight,\r\n\t\tsetSelectedMounting,\r\n\t\tsetMountingOptions,\r\n\t]);\r\n\r\n\tfunction handleComments(e) {\r\n\t\tsetComments(e.target.value);\r\n\t}\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (parseInt(selectedThickness?.value) > 3) {\r\n\t\t\tsetMaxWidthHeight(42);\r\n\t\t} else {\r\n\t\t\tsetMaxWidthHeight(23);\r\n\t\t\tif (height > 25) {\r\n\t\t\t\tsetHeight('');\r\n\t\t\t}\r\n\t\t\tif (width > 25) {\r\n\t\t\t\tsetWidth('');\r\n\t\t\t}\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tconst acrylicRef = useRef(null);\r\n\r\n\tconst handleChangeMetalLaminate = (e) => {\r\n\t\tsetMetalLaminate(e.target.value);\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tacrylicThickness: selectedThickness,\r\n\t\t\t\t\tmounting: selectedMounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tmetalLaminate: metalLaminate,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tacrylicBase: acrylicBase,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetComments(item.comments);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tcomments,\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tmetalLaminate,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tacrylicBase,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}mm`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 1][height] : 0;\r\n\r\n\t\t\t\tlet multiplier = 0;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = (computed * multiplier * METAL_ACRYLIC_PRICING).toFixed(2);\r\n\t\t\t\ttotal *= acrylicBase?.name === 'Black' ? 1 : 1.1;\r\n\r\n\t\t\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total).toFixed(2));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tacrylicBase,\r\n\t\tsets,\r\n\t\tselectedMounting,\r\n\t]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!selectedThickness) missingFields.push('Select Acrylic Thickness');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\t\tif (!metalLaminate) missingFields.push('Select Metal Laminate');\r\n\t\tif (!acrylicBase) missingFields.push('Select Acrylic Base');\r\n\t\tif (acrylicBase?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!selectedMounting) missingFields.push('Select Mounting');\r\n\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\t\tif (selectedMounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\r\n\t\tsetMissing((prevMissing) => {\r\n\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t);\r\n\r\n\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t};\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\treturn [\r\n\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t},\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\treturn prevMissing;\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tselectedThickness,\r\n\t\tcomments,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\tacrylicBase,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tmetalLaminate,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfilePaths,\r\n\t\tfiles,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Acrylic Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Laminate\"\r\n\t\t\t\t\tonChange={handleChangeMetalLaminate}\r\n\t\t\t\t\toptions={metalFinishColors.map((laminate) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={laminate.name}\r\n\t\t\t\t\t\t\tselected={laminate.name === metalLaminate}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{laminate.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={metalLaminate}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={acrylicRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tAcrylic Base\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tacrylicBase?.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => setOpenAcrylicColor((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: acrylicBase.color }}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{acrylicBase?.name === '' ? 'CHOOSE OPTION' : acrylicBase?.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openAcrylicColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetAcrylicBase(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenAcrylicColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={(e) => setWaterproof(e.target.value)}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeMount}\r\n\t\t\t\t\toptions={mountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.mounting_option}\r\n\t\t\t\t\t\t\tselected={option.mounting_option === selectedMounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.mounting_option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedMounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedMounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{acrylicBase?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function UvPrintedAcrylic() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'logo',\r\n\t\t\t\t\ttitle: 'LOGO 1',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\tacrylicThickness: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tfinishing: 'Matte',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t\tprintPreference: '',\r\n\t\t\t\t\tbaseColor: 'Black',\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tcomments: '',\r\n\t\tmounting: '',\r\n\t\tacrylicThickness: '',\r\n\t\twaterproof: '',\r\n\t\tfinishing: 'Matte',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tbaseColor: 'Black',\r\n\t\tprintPreference: '',\r\n\t\tsets: 1,\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tacrylicThickness: '',\r\n\t\t\t\t\tthickness_options: '',\r\n\t\t\t\t\tcolor: { name: '', color: '' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport { QuoteContext } from '../UvPrintedAcrylic';\r\n\r\nimport {\r\n\tcalculateMountingOptions,\r\n\tmountingDefaultOptions,\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\tthicknessOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\n\r\nconst NovaSingleOptions = NovaQuote.single_quote_options;\r\nconst exchangeRate = 1.3;\r\n\r\nconst UV_PRICE = 1.05;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedMounting, setSelectedMounting] = useState(item.mounting);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.acrylicThickness\r\n\t);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [maxWidthHeight, setMaxWidthHeight] = useState(23);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\tconst [pieces, setPieces] = useState(item.pieces);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\tconst [baseColor, setBaseColor] = useState(item.baseColor);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [printPreference, setPrintPreference] = useState(item.printPreference);\r\n\tconst finishingOptions = NovaSingleOptions.finishing_options;\r\n\tconst [maxWidthOptions, setMaxWidthOptions] = useState(\r\n\t\tArray.from(\r\n\t\t\t{\r\n\t\t\t\tlength: maxWidthHeight,\r\n\t\t\t},\r\n\t\t\t(_, index) => {\r\n\t\t\t\tconst val = 1 + index;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t</option>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t)\r\n\t);\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [comments, setComments] = useState('');\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [mountingOptions, setMountingOptions] = useState(\r\n\t\tmountingDefaultOptions\r\n\t);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeMount = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetSelectedMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = mountingDefaultOptions;\r\n\r\n\t\tif (selectedThickness?.value === '3') {\r\n\t\t\tif (\r\n\t\t\t\tselectedMounting === 'Stud Mounth' ||\r\n\t\t\t\tselectedMounting === 'Stud with spacer'\r\n\t\t\t) {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.mounting_option !== 'Stud Mount' &&\r\n\t\t\t\t\toption.mounting_option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (waterproof === 'Outdoor (Waterproof)') {\r\n\t\t\tif (selectedMounting === 'Double-sided tape') {\r\n\t\t\t\tsetSelectedMounting('');\r\n\t\t\t}\r\n\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) => option.mounting_option !== 'Double-sided tape'\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetMountingOptions(newMountingOptions);\r\n\r\n\t\tsetMaxWidthOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(maxWidthHeight) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = 1 + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\tmaxWidthHeight,\r\n\t\tsetSelectedMounting,\r\n\t\tsetMountingOptions,\r\n\t]);\r\n\r\n\tfunction handleComments(e) {\r\n\t\tsetComments(e.target.value);\r\n\t}\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (parseInt(selectedThickness?.value) > 3) {\r\n\t\t\tsetMaxWidthHeight(42);\r\n\t\t} else {\r\n\t\t\tsetMaxWidthHeight(23);\r\n\t\t\tif (height > 25) {\r\n\t\t\t\tsetHeight('');\r\n\t\t\t}\r\n\t\t\tif (width > 25) {\r\n\t\t\t\tsetWidth('');\r\n\t\t\t}\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst handleChangePieces = (e) => {\r\n\t\tsetPieces(e.target.value);\r\n\t};\r\n\r\n\tconst printOptions = [\r\n\t\t{\r\n\t\t\toption: 'Print on top',\r\n\t\t},\r\n\t\t{\r\n\t\t\toption: 'Print from back layer',\r\n\t\t},\r\n\t];\r\n\r\n\tconst baseColorOptions = [\r\n\t\t{\r\n\t\t\toption: 'Black',\r\n\t\t},\r\n\t\t{\r\n\t\t\toption: 'Custom Color',\r\n\t\t},\r\n\t];\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tacrylicThickness: selectedThickness,\r\n\t\t\t\t\tmounting: selectedMounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tbaseColor: baseColor,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tprintPreference: printPreference,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetComments(item.comments);\r\n\t}, []);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!selectedThickness) missingFields.push('Thickness');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\t\tif (!printPreference) missingFields.push('Select Printing Preference');\r\n\t\tif (!baseColor) missingFields.push('Select Base Color');\r\n\t\tif (!waterproof) missingFields.push('Select Environment');\r\n\t\tif (!selectedMounting) missingFields.push('Select Mounting Option');\r\n\r\n\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (selectedMounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing Option');\r\n\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\t\tif (baseColor === 'Custom Color' && !customColor)\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color');\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tselectedFinishing,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tbaseColor,\r\n\t\tprintPreference,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tcomments,\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tcustomColor,\r\n\t\tselectedFinishing,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tprintPreference,\r\n\t\tbaseColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}mm`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 1][height] : 0;\r\n\r\n\t\t\t\tlet multiplier = 0;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = parseFloat((computed * multiplier).toFixed(2));\r\n\t\t\t\ttotal *= selectedFinishing === 'Gloss' ? 1.1 : 1;\r\n\t\t\t\ttotal *= baseColor === 'Custom Color' ? UV_PRICE : 1;\r\n\r\n\t\t\t\ttotal *= 1.2;\r\n\r\n\t\t\t\tif (selectedMounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total.toFixed(2)));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tbaseColor,\r\n\t\tselectedMounting,\r\n\t\tsets,\r\n\t]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Acrylic Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Printing Preference\"\r\n\t\t\t\t\tvalue={printPreference}\r\n\t\t\t\t\tonChange={(e) => setPrintPreference(e.target.value)}\r\n\t\t\t\t\toptions={printOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == printPreference}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Base Color\"\r\n\t\t\t\t\tvalue={baseColor}\r\n\t\t\t\t\tonChange={(e) => setBaseColor(e.target.value)}\r\n\t\t\t\t\toptions={baseColorOptions.map((option) => (\r\n\t\t\t\t\t\t<option value={option.option} selected={option.option == baseColor}>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.name}\r\n\t\t\t\t\t\t\tselected={finishing.name === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={(e) => setWaterproof(e.target.value)}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeMount}\r\n\t\t\t\t\toptions={mountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.mounting_option}\r\n\t\t\t\t\t\t\tselected={option.mounting_option === selectedMounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.mounting_option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedMounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedMounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{selectedMounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{baseColor === 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCUSTOM COLOR\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport SidebarNoPrice from '../../SidebarNoPrice';\r\nimport Signage from '../../Signage';\r\nimport { PlusIcon } from '../../svg/Icons';\r\nimport { SignageCount } from '../../utils/QuoteFunctions';\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function CustomProject() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tsetSignage([\r\n\t\t\t{\r\n\t\t\t\tid: uuidv4(),\r\n\t\t\t\ttype: 'custom',\r\n\t\t\t\ttitle: 'CUSTOM PROJECT',\r\n\t\t\t\tdescription: '',\r\n\t\t\t\tusdPrice: 0,\r\n\t\t\t\tcadPrice: 0,\r\n\t\t\t\tcustom_id: '',\r\n\t\t\t\tfilePaths: [],\r\n\t\t\t\tfileNames: [],\r\n\t\t\t\tfileUrls: [],\r\n\t\t\t\tfiles: [],\r\n\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t},\r\n\t\t]);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\ttype: 'custom',\r\n\t\ttitle: 'CUSTOM PROJECT',\r\n\t\tdescription: '',\r\n\t\tcustom_id: '',\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\targs = {\r\n\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t};\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tmissing={missing}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('custom')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD PROJECT\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<SidebarNoPrice\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport UploadFiles from '../../../UploadFiles';\r\nimport { QuoteContext } from '../CustomProject';\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tmissing,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [description, setDescription] = useState(item.description);\r\n\r\n\tconst handleOnChangeDescription = (e) => setDescription(e.target.value);\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tdescription: description,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!description) missingFields.push('Add your description');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [fileUrls, fileNames, files, filePaths, description]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tDESCRIPTION\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"h-[160px] rounded-md text-sm\"\r\n\t\t\t\t\t\tonChange={handleOnChangeDescription}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{description}\r\n\t\t\t\t\t</textarea>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Letters from './components/Letters';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function TrimLessBackLit() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'letters',\r\n\t\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\t\tdepth: '',\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tthickness: '',\r\n\t\t\t\t\tbackLitFinishing: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tledLightColor: '',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tfontFilePath: '',\r\n\t\t\t\t\tfontFileName: '',\r\n\t\t\t\t\tfontFileUrl: '',\r\n\t\t\t\t\tbackLitMetalFinish: '',\r\n\t\t\t\t\tfontFile: '',\r\n\t\t\t\t\tacrylicReveal: '0',\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\ttype: 'letters',\r\n\t\ttitle: 'LETTERS 1',\r\n\t\tdepth: '',\r\n\t\tletters: '',\r\n\t\tcomments: '',\r\n\t\tfont: '',\r\n\t\tcustomFont: '',\r\n\t\twaterproof: '',\r\n\t\tthickness: '',\r\n\t\tbackLitFinishing: '',\r\n\t\tmounting: '',\r\n\t\tstudLength: '',\r\n\t\tfaceReturnColor: { name: '', color: '' },\r\n\t\tspacerStandoffDistance: '',\r\n\t\tcustomColor: '',\r\n\t\tbackLitMetalFinish: '',\r\n\t\tletterHeight: '',\r\n\t\tledLightColor: '6500K White',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tfontFilePath: '',\r\n\t\tfontFileName: '',\r\n\t\tfontFileUrl: '',\r\n\t\tfontFile: '',\r\n\t\tacrylicReveal: '0',\r\n\t\tsets: 1,\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLetterPricingTableByTitle } from '../../../../utils/Pricing';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport {\r\n\tacrylicRevealOptions,\r\n\tdepthOptions,\r\n\tfinishingOptions,\r\n\tledLightColors,\r\n\tmountingDefaultOptions,\r\n} from '../../metalChannelOptions';\r\n\r\nimport { metalFinishOptions } from '../../../metal/metalOptions';\r\n\r\nimport { QuoteContext } from '../TrimLessBackLit';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n\r\nexport default function Letters({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\r\n\tconst [color, setColor] = useState(item.faceReturnColor);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\r\n\tconst [letterPricing, setLetterPricing] = useState([]);\r\n\r\n\tconst [depth, setDepth] = useState(item.depth);\r\n\tconst [acrylicReveal, setAcrylicReveal] = useState(item.acrylicReveal);\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(\r\n\t\titem.backLitFinishing\r\n\t);\r\n\r\n\tconst [metalFinish, setMetalFinish] = useState(item.backLitMetalFinish);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState({\r\n\t\tmin: 5,\r\n\t\tmax: 40,\r\n\t});\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [ledLightColor, setLedLightColor] = useState(item.ledLightColor);\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst colorRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tdepth: depth,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tfaceReturnColor: color,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tledLightColor: ledLightColor,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tbackLitFinishing: selectedFinishing,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t\tbackLitMetalFinish: metalFinish,\r\n\t\t\t\t\tacrylicReveal: acrylicReveal,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeMounting = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeAcrylicReveal = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetAcrylicReveal(() => target);\r\n\t};\r\n\r\n\tconst handleOnChangeLedLight = (e) => setLedLightColor(e.target.value);\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tif (target === 'Metal') {\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t} else {\r\n\t\t\tsetColor({ name: 'Black', color: '#000000' });\r\n\t\t\tsetMetalFinish('');\r\n\t\t}\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst handelMetalFinishChange = (e) => {\r\n\t\tsetMetalFinish(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeDepth = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = depthOptions.filter((option) => option.value === target);\r\n\r\n\t\tsetDepth(() => selected[0]);\r\n\r\n\t\tif (parseFloat(target) === 5 && parseInt(selectedLetterHeight) < 6) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tparseFloat(target) < 6 &&\r\n\t\t\tparseFloat(target) > 1.5 &&\r\n\t\t\tparseInt(selectedLetterHeight) < 7\r\n\t\t) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t\tif (parseFloat(target) === 6 && parseInt(selectedLetterHeight) < 11) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!depth) missingFields.push('Select Metal Depth');\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing');\r\n\r\n\t\tif (selectedFinishing === 'Painted') {\r\n\t\t\tif (!color.name) missingFields.push('Select Face & Return Color');\r\n\r\n\t\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (selectedFinishing === 'Metal') {\r\n\t\t\tif (!metalFinish) missingFields.push('Select Metal Finish');\r\n\t\t}\r\n\r\n\t\tif (!waterproof) missingFields.push('Select Environment');\r\n\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (mounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!ledLightColor) missingFields.push('Select LED Light Color');\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tdepth,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\twaterproof,\r\n\t\tcolor,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tledLightColor,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tcustomColor,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tmounting,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t\tselectedFinishing,\r\n\t\tmetalFinish,\r\n\t\tacrylicReveal,\r\n\t\tsets,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (depth?.value) {\r\n\t\t\tconst table = convert_json(\r\n\t\t\t\tgetLetterPricingTableByTitle(\r\n\t\t\t\t\tdepth?.depth,\r\n\t\t\t\t\tNovaQuote.letter_pricing_tables\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\tsetLetterPricing(() => table);\r\n\r\n\t\t\tif (depth.value == 8) {\r\n\t\t\t\tif (selectedLetterHeight < 12) {\r\n\t\t\t\t\tsetSelectedLetterHeight('');\r\n\t\t\t\t}\r\n\t\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\t\tmin: 12,\r\n\t\t\t\t\tmax: 40,\r\n\t\t\t\t}));\r\n\t\t\t} else {\r\n\t\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\t\tmin: 5,\r\n\t\t\t\t\tmax: 40,\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t}\r\n\t}, [depth, selectedLetterHeight]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\tletterPricing &&\r\n\t\t\tselectedLetterHeight &&\r\n\t\t\tdepth &&\r\n\t\t\twaterproof &&\r\n\t\t\tacrylicReveal\r\n\t\t) {\r\n\t\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 5];\r\n\r\n\t\t\tif (pricingDetail) {\r\n\t\t\t\tlet mm = 0;\r\n\t\t\t\tif (acrylicReveal == '1/5\"') {\r\n\t\t\t\t\tmm = '5mm';\r\n\t\t\t\t} else if (acrylicReveal == '2/5\"') {\r\n\t\t\t\t\tmm = '10mm';\r\n\t\t\t\t} else if (acrylicReveal == '3/5\"') {\r\n\t\t\t\t\tmm = '15mm';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmm = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst baseLetterPrice = pricingDetail[mm];\r\n\r\n\t\t\t\tlet totalLetterPrice = 0;\r\n\t\t\t\tconst lettersArray = letters.trim().split('');\r\n\t\t\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\t\t\tlettersArray.forEach((letter) => {\r\n\t\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\t\t// If the character is a space, set the price to 0 and skip further checks\r\n\t\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\t\t// Check for lowercase letter\r\n\t\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing; // 80% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[A-Z]/)) {\r\n\t\t\t\t\t\t// Check for uppercase letter\r\n\t\t\t\t\t\t// Uppercase letters use 100% of base price, so no change needed\r\n\t\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\t\t// Check for small punctuation marks\r\n\t\t\t\t\t\tletterPrice *= smallPunctuations; // 30% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[^a-zA-Z]/)) {\r\n\t\t\t\t\t\t// Check for symbol (not a letter or small punctuation)\r\n\t\t\t\t\t\t// Symbols use 100% of base price, so no change needed\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Adjusting for waterproof and finishing\r\n\t\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.03;\r\n\r\n\t\t\t\t\tif (metalFinish && metalFinish.includes('Polished')) {\r\n\t\t\t\t\t\tletterPrice *= 1.3;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (metalFinish && metalFinish.includes('Electroplated')) {\r\n\t\t\t\t\t\tletterPrice *= 1.2;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttotalLetterPrice += letterPrice;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconsole.log(totalLetterPrice);\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\r\n\t\t\t\t\tlet spacer =\r\n\t\t\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotalLetterPrice += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotalLetterPrice *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(totalLetterPrice).toFixed(2));\r\n\t\t\t\tsetCadPrice((totalLetterPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tletterPricing,\r\n\t\tdepth,\r\n\t\tacrylicReveal,\r\n\t\tmetalFinish,\r\n\t\tsets,\r\n\t\tfont,\r\n\t\tmounting,\r\n\t]);\r\n\r\n\tif (selectedFinishing === 'Painted') {\r\n\t\tuseOutsideClick([colorRef, fontRef], () => {\r\n\t\t\tif (!openColor && !openFont) return;\r\n\t\t\tsetOpenColor(false);\r\n\t\t\tsetOpenFont(false);\r\n\t\t});\r\n\t} else {\r\n\t\tuseOutsideClick([fontRef], () => {\r\n\t\t\tif (!openFont) return;\r\n\t\t\tsetOpenFont(false);\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t}, [color, font]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font,\r\n\t\t\t\t\t\t\tcolor: color?.color || '#000000',\r\n\t\t\t\t\t\t\ttextShadow: '0px 0px 1px rgba(0, 0, 0, 1)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={item.font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t\tsetOpenColor={setOpenColor}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Depth\"\r\n\t\t\t\t\tvalue={depth?.value}\r\n\t\t\t\t\tonChange={handleOnChangeDepth}\r\n\t\t\t\t\toptions={depthOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option value={thickness.value} selected={thickness === depth}>\r\n\t\t\t\t\t\t\t{thickness.depth}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={item.letterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.value}\r\n\t\t\t\t\t\t\tselected={finishing.value === item.backLitFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.backLitFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedFinishing === 'Metal' && (\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\ttitle=\"Metal Finish\"\r\n\t\t\t\t\t\tonChange={handelMetalFinishChange}\r\n\t\t\t\t\t\toptions={metalFinishOptions.map((finish) => (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tvalue={finish.option}\r\n\t\t\t\t\t\t\t\tselected={finish.option === metalFinish}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{finish.option}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\tvalue={item.backLitMetalFinish}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedFinishing === 'Painted' && (\r\n\t\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tFace & Return Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"LED Light Color\"\r\n\t\t\t\t\tonChange={handleOnChangeLedLight}\r\n\t\t\t\t\toptions={ledLightColors.map((color) => (\r\n\t\t\t\t\t\t<option value={color} selected={color == item.ledLightColor}>\r\n\t\t\t\t\t\t\t{color}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.ledLightColor}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Acrylic Reveal\"\r\n\t\t\t\t\tonChange={handleOnChangeAcrylicReveal}\r\n\t\t\t\t\toptions={acrylicRevealOptions.map((option) => (\r\n\t\t\t\t\t\t<option value={option} selected={option == item.acrylicReveal}>\r\n\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.acrylicReveal}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == item.waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting\"\r\n\t\t\t\t\tonChange={handleOnChangeMounting}\r\n\t\t\t\t\toptions={mountingDefaultOptions.map((mounting) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={mounting.value}\r\n\t\t\t\t\t\t\tselected={mounting.value == item.mounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{mounting.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Letters from './components/Letters';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function TrimLessFrontAndBackLit() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tconsole.log('loading saved');\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tconsole.log('setting');\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'letters',\r\n\t\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\t\tdepth: '',\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tthickness: '',\r\n\t\t\t\t\tvinylWhite: { name: '', color: '', code: '' },\r\n\t\t\t\t\tfrontAcrylicCover: 'White',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\treturnColor: { name: 'Black', color: '#000000' },\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tledLightColor: '6500K White',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\ttype: 'letters',\r\n\t\ttitle: 'LETTERS 1',\r\n\t\tdepth: '',\r\n\t\tletters: '',\r\n\t\tcomments: '',\r\n\t\tfont: '',\r\n\t\tcustomFont: '',\r\n\t\twaterproof: '',\r\n\t\tthickness: '',\r\n\t\tfrontAcrylicCover: 'White',\r\n\t\tvinylWhite: { name: '', color: '', code: '' },\r\n\t\tmounting: '',\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\treturnColor: { name: 'Black', color: '#000000' },\r\n\t\tcustomColor: '',\r\n\t\tletterHeight: '',\r\n\t\tledLightColor: '6500K White',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tfontFilePath: '',\r\n\t\tfontFileName: '',\r\n\t\tfontFileUrl: '',\r\n\t\tfontFile: '',\r\n\t\tsets: 1,\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full flex flex-col\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport {\r\n\tcolorOptions,\r\n\ttranslucentGraphicFilms,\r\n\twhiteOptions,\r\n} from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport {\r\n\tfrontBackdepthOptions,\r\n\tledLightColors,\r\n\tmountingDefaultOptions,\r\n} from '../../metalChannelOptions';\r\n\r\nimport { QuoteContext } from '../TrimLessFrontAndBackLit';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n\r\nexport default function Letters({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\r\n\tconst [color, setColor] = useState(item.returnColor);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\r\n\tconst [depth, setDepth] = useState(item.depth);\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState({\r\n\t\tmin: 6,\r\n\t\tmax: 40,\r\n\t});\r\n\r\n\tconst [openAcrylicCover, setOpenAcrylicCover] = useState(false);\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst [vinylWhite, setVinylWhite] = useState(item.vinylWhite);\r\n\tconst [frontAcrylicCover, setFrontAcrylicCover] = useState(\r\n\t\titem.frontAcrylicCover\r\n\t);\r\n\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [ledLightColor, setLedLightColor] = useState(item.ledLightColor);\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst colorRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\tconst acrylicColorRef = useRef(null);\r\n\r\n\tconst letterPricing =\r\n\t\tNovaQuote.letter_pricing_table?.pricing_table.length > 0\r\n\t\t\t? convert_json(NovaQuote.letter_pricing_table.pricing_table)\r\n\t\t\t: [];\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tdepth: depth,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\treturnColor: color,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tledLightColor: ledLightColor,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t\tfrontAcrylicCover: frontAcrylicCover,\r\n\t\t\t\t\tvinylWhite: vinylWhite,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeMounting = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeLedLight = (e) => setLedLightColor(e.target.value);\r\n\r\n\tconst handleOnChangeWhite = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetFrontAcrylicCover(target);\r\n\t\tif (target !== '3M Vinyl') {\r\n\t\t\tsetVinylWhite({\r\n\t\t\t\tname: '',\r\n\t\t\t\tcolor: '',\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeDepth = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = frontBackdepthOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\r\n\t\tsetDepth(() => selected[0]);\r\n\r\n\t\tif (parseFloat(target) > 5) {\r\n\t\t\tif (parseInt(selectedLetterHeight) < 15) {\r\n\t\t\t\tsetSelectedLetterHeight('');\r\n\t\t\t}\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: 12,\r\n\t\t\t\tmax: 40,\r\n\t\t\t}));\r\n\t\t} else {\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: 6,\r\n\t\t\t\tmax: 40,\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (letterPricing.length > 0 && selectedLetterHeight && depth) {\r\n\t\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 6];\r\n\t\t\tconst baseLetterPrice = pricingDetail[depth.depth];\r\n\r\n\t\t\tlet totalLetterPrice = 0;\r\n\t\t\tconst lettersArray = letters.trim().split('');\r\n\t\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\t\tif (\r\n\t\t\t\tlettersArray.length > 0 &&\r\n\t\t\t\tselectedLetterHeight &&\r\n\t\t\t\twaterproof &&\r\n\t\t\t\tdepth\r\n\t\t\t) {\r\n\t\t\t\tlettersArray.forEach((letter) => {\r\n\t\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\t\t// If the character is a space, set the price to 0 and skip further checks\r\n\t\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\t\t// Check for lowercase letter\r\n\t\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing; // 80% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[A-Z]/)) {\r\n\t\t\t\t\t\t// Check for uppercase letter\r\n\t\t\t\t\t\t// Uppercase letters use 100% of base price, so no change needed\r\n\t\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\t\t// Check for small punctuation marks\r\n\t\t\t\t\t\tletterPrice *= smallPunctuations; // 30% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[^a-zA-Z]/)) {\r\n\t\t\t\t\t\t// Check for symbol (not a letter or small punctuation)\r\n\t\t\t\t\t\t// Symbols use 100% of base price, so no change needed\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Adjusting for waterproof and finishing\r\n\t\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.03;\r\n\r\n\t\t\t\t\tletterPrice *= vinylWhite?.name ? 1.1 : 1;\r\n\r\n\t\t\t\t\ttotalLetterPrice += letterPrice;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\r\n\t\t\t\t\tlet spacer =\r\n\t\t\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotalLetterPrice += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotalLetterPrice *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(totalLetterPrice).toFixed(2));\r\n\t\t\t\tsetCadPrice((totalLetterPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tvinylWhite,\r\n\t\tmounting,\r\n\t\tsets,\r\n\t\tfont,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [depth, lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!depth) missingFields.push('Select Metal Depth');\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\r\n\t\tif (!color.name) missingFields.push('Select Color');\r\n\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\r\n\t\tif (!waterproof) missingFields.push('Select Environment');\r\n\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (mounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\t\tif (!ledLightColor) missingFields.push('Select LED Light Color');\r\n\t\tif (!frontAcrylicCover) missingFields.push('Select Front Acrylic Cover');\r\n\r\n\t\tif (frontAcrylicCover === '3M Vinyl') {\r\n\t\t\tif (!vinylWhite?.name) missingFields.push('Select 3M 3630 Vinyl');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tdepth,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\twaterproof,\r\n\t\tcolor,\r\n\t\tfrontAcrylicCover,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tledLightColor,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tcustomColor,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tmounting,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t\tfrontAcrylicCover,\r\n\t\tvinylWhite,\r\n\t\tsets,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (depth?.value) {\r\n\t\t\tconst newHeightOptions = letterPricing?.filter((item) => {\r\n\t\t\t\tconst value = item[depth?.depth];\r\n\t\t\t\treturn (\r\n\t\t\t\t\tvalue !== '' &&\r\n\t\t\t\t\tvalue !== null &&\r\n\t\t\t\t\tvalue !== undefined &&\r\n\t\t\t\t\tvalue !== false &&\r\n\t\t\t\t\t!isNaN(value)\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\tif (newHeightOptions.length > 0) {\r\n\t\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\t\tmin: newHeightOptions[0].Depth,\r\n\t\t\t\t\tmax: newHeightOptions[newHeightOptions.length - 1].Depth,\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t}\r\n\t}, [depth]);\r\n\r\n\tuseOutsideClick([colorRef, fontRef, acrylicColorRef], () => {\r\n\t\tif (!openColor && !openFont && !openAcrylicCover) return;\r\n\t\tsetOpenColor(false);\r\n\t\tsetOpenFont(false);\r\n\t\tsetOpenAcrylicCover(false);\r\n\t});\r\n\r\n\tif (true) {\r\n\t\tuseOutsideClick([colorRef, fontRef], () => {\r\n\t\t\tif (!openColor && !openFont) return;\r\n\t\t\tsetOpenColor(false);\r\n\t\t\tsetOpenFont(false);\r\n\t\t});\r\n\t} else {\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t}, [color, font]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font === 'Custom font' ? '' : font,\r\n\t\t\t\t\t\t\tcolor: color.color,\r\n\t\t\t\t\t\t\ttextShadow: '0px 0px 1px rgba(0, 0, 0, 1)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={item.font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t\tsetOpenColor={() => {\r\n\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\tsetOpenAcrylicCover(false);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Depth\"\r\n\t\t\t\t\tvalue={depth?.value}\r\n\t\t\t\t\tonChange={handleOnChangeDepth}\r\n\t\t\t\t\toptions={frontBackdepthOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option value={thickness.value} selected={thickness === depth}>\r\n\t\t\t\t\t\t\t{thickness.depth}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={item.letterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tReturn Color\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOpenColor((prev) => !prev);\r\n\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t\tsetOpenAcrylicCover(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"LED Light Color\"\r\n\t\t\t\t\tonChange={handleOnChangeLedLight}\r\n\t\t\t\t\toptions={ledLightColors.map((color) => (\r\n\t\t\t\t\t\t<option value={color} selected={color == item.ledLightColor}>\r\n\t\t\t\t\t\t\t{color}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.ledLightColor}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Front Acrylic Cover\"\r\n\t\t\t\t\tonChange={handleOnChangeWhite}\r\n\t\t\t\t\toptions={whiteOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option == item.frontAcrylicCover}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.frontAcrylicCover}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{frontAcrylicCover === '3M Vinyl' && (\r\n\t\t\t\t\t<div className=\"px-[1px] relative\" ref={acrylicColorRef}>\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\t3M VINYL\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\t\tvinylWhite.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetOpenAcrylicCover((prev) => !prev);\r\n\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: vinylWhite.color }}\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t{vinylWhite.name === '' ? 'CHOOSE OPTION' : vinylWhite.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{openAcrylicCover && (\r\n\t\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t\t{translucentGraphicFilms.map((color) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetVinylWhite(color);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetOpenAcrylicCover(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == item.waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting\"\r\n\t\t\t\t\tonChange={handleOnChangeMounting}\r\n\t\t\t\t\toptions={mountingDefaultOptions.map((mounting) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={mounting.value}\r\n\t\t\t\t\t\t\tselected={mounting.value == item.mounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{mounting.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Letters from './components/Letters';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function TrimLessFrontLit() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'letters',\r\n\t\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\t\tdepth: '',\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tthickness: '',\r\n\t\t\t\t\tfrontAcrylicCover: 'White',\r\n\t\t\t\t\tvinylWhite: { name: '', color: '', code: '' },\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\treturnColor: { name: 'Black', color: '#000000' },\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tledLightColor: '',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\ttype: 'letters',\r\n\t\ttitle: 'LETTERS 1',\r\n\t\tdepth: '',\r\n\t\tletters: '',\r\n\t\tcomments: '',\r\n\t\tfont: '',\r\n\t\tcustomFont: '',\r\n\t\twaterproof: '',\r\n\t\tthickness: '',\r\n\t\tvinylWhite: { name: '', color: '', code: '' },\r\n\t\tfrontAcrylicCover: 'White',\r\n\t\tmounting: '',\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\treturnColor: { name: 'Black', color: '#000000' },\r\n\t\tcustomColor: '',\r\n\t\tletterHeight: '',\r\n\t\tledLightColor: '6500K White',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tfontFilePath: '',\r\n\t\tfontFileName: '',\r\n\t\tfontFileUrl: '',\r\n\t\tfontFile: '',\r\n\t\tsets: 1,\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport {\r\n\tcolorOptions,\r\n\ttranslucentGraphicFilms,\r\n\twhiteOptions,\r\n} from '../../../../utils/ColorOptions';\r\n\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport {\r\n\tdepthOptions,\r\n\tledLightColors,\r\n\tmountingDefaultOptions,\r\n} from '../../metalChannelOptions';\r\n\r\nimport { QuoteContext } from '../TrimLessFrontLit';\r\n\r\nconst NovaOptions = NovaQuote.quote_options;\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n\r\nexport default function Letters({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\r\n\tconst [color, setColor] = useState(item.returnColor);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\r\n\tconst [depth, setDepth] = useState(item.depth);\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState({\r\n\t\tmin: 5,\r\n\t\tmax: 40,\r\n\t});\r\n\r\n\tconst [openAcrylicCover, setOpenAcrylicCover] = useState(false);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst [vinylWhite, setVinylWhite] = useState(item.vinylWhite);\r\n\tconst [frontAcrylicCover, setFrontAcrylicCover] = useState(\r\n\t\titem.frontAcrylicCover\r\n\t);\r\n\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [ledLightColor, setLedLightColor] = useState(item.ledLightColor);\r\n\r\n\tconst colorRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\tconst acrylicColorRef = useRef(null);\r\n\r\n\tconst letterPricing =\r\n\t\tNovaQuote.letter_pricing_table?.pricing_table.length > 0\r\n\t\t\t? convert_json(NovaQuote.letter_pricing_table.pricing_table)\r\n\t\t\t: [];\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tdepth: depth,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\treturnColor: color,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tledLightColor: ledLightColor,\r\n\t\t\t\t\tfrontAcrylicCover: frontAcrylicCover,\r\n\t\t\t\t\tvinylWhite: vinylWhite,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeMounting = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeLedLight = (e) => setLedLightColor(e.target.value);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeWhite = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetFrontAcrylicCover(target);\r\n\t\tif (target !== '3M Vinyl') {\r\n\t\t\tsetVinylWhite({\r\n\t\t\t\tname: '',\r\n\t\t\t\tcolor: '',\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeDepth = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = depthOptions.filter((option) => option.value === target);\r\n\r\n\t\tsetDepth(() => selected[0]);\r\n\r\n\t\tif (parseFloat(target) === 5 && parseInt(selectedLetterHeight) < 6) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tparseFloat(target) < 6 &&\r\n\t\t\tparseFloat(target) > 1.5 &&\r\n\t\t\tparseInt(selectedLetterHeight) < 7\r\n\t\t) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t\tif (parseFloat(target) === 6 && parseInt(selectedLetterHeight) < 11) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (letterPricing.length > 0 && selectedLetterHeight && depth) {\r\n\t\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 5];\r\n\t\t\tconst baseLetterPrice = pricingDetail[depth.value];\r\n\r\n\t\t\tlet totalLetterPrice = 0;\r\n\t\t\tconst lettersArray = letters.trim().split('');\r\n\t\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\t\tif (\r\n\t\t\t\tlettersArray.length > 0 &&\r\n\t\t\t\tselectedLetterHeight &&\r\n\t\t\t\twaterproof &&\r\n\t\t\t\tdepth\r\n\t\t\t) {\r\n\t\t\t\tlettersArray.forEach((letter) => {\r\n\t\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\t\t// If the character is a space, set the price to 0 and skip further checks\r\n\t\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\t\t// Check for lowercase letter\r\n\t\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing; // 80% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[A-Z]/)) {\r\n\t\t\t\t\t\t// Check for uppercase letter\r\n\t\t\t\t\t\t// Uppercase letters use 100% of base price, so no change needed\r\n\t\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\t\t// Check for small punctuation marks\r\n\t\t\t\t\t\tletterPrice *= smallPunctuations; // 30% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[^a-zA-Z]/)) {\r\n\t\t\t\t\t\t// Check for symbol (not a letter or small punctuation)\r\n\t\t\t\t\t\t// Symbols use 100% of base price, so no change needed\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Adjusting for waterproof and finishing\r\n\t\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.03;\r\n\r\n\t\t\t\t\tletterPrice *= vinylWhite?.name ? 1.1 : 1;\r\n\r\n\t\t\t\t\ttotalLetterPrice += letterPrice;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\r\n\t\t\t\t\tlet spacer =\r\n\t\t\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotalLetterPrice += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotalLetterPrice *= sets;\r\n\r\n\t\t\t\tconsole.log(sets);\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(totalLetterPrice).toFixed(2));\r\n\t\t\t\tsetCadPrice((totalLetterPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tvinylWhite,\r\n\t\tsets,\r\n\t\tmounting,\r\n\t\tfont,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!depth) missingFields.push('Select Metal Depth');\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\r\n\t\tif (!color.name) missingFields.push('Select Color');\r\n\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\r\n\t\tif (!waterproof) missingFields.push('Select Environment');\r\n\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (mounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!ledLightColor) missingFields.push('Select LED Light Color');\r\n\r\n\t\tif (!frontAcrylicCover) missingFields.push('Select Front Acrylic Cover');\r\n\r\n\t\tif (frontAcrylicCover === '3M Vinyl') {\r\n\t\t\tif (!vinylWhite?.name) missingFields.push('Select 3M Vinyl');\r\n\t\t}\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tdepth,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\twaterproof,\r\n\t\tcolor,\r\n\t\tfrontAcrylicCover,\r\n\t\tvinylWhite,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tledLightColor,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tcustomColor,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tmounting,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newHeightOptions = letterPricing?.filter((item) => {\r\n\t\t\tconst value = item[depth?.value];\r\n\t\t\treturn (\r\n\t\t\t\tvalue !== '' &&\r\n\t\t\t\tvalue !== null &&\r\n\t\t\t\tvalue !== undefined &&\r\n\t\t\t\tvalue !== false &&\r\n\t\t\t\t!isNaN(value)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (newHeightOptions.length > 0) {\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: newHeightOptions[0].Depth,\r\n\t\t\t\tmax: newHeightOptions[newHeightOptions.length - 1].Depth,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [depth]);\r\n\r\n\tuseOutsideClick([colorRef, fontRef, acrylicColorRef], () => {\r\n\t\tif (!openColor && !openFont && !openAcrylicCover) return;\r\n\t\tsetOpenColor(false);\r\n\t\tsetOpenFont(false);\r\n\t\tsetOpenAcrylicCover(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t}, [color, font]);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font === 'Custom font' ? '' : font,\r\n\t\t\t\t\t\t\tcolor: color.color,\r\n\t\t\t\t\t\t\ttextShadow: '0px 0px 1px rgba(0, 0, 0, 1)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={item.font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t\tsetOpenColor={() => {\r\n\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\tsetOpenAcrylicCover(false);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Depth\"\r\n\t\t\t\t\tvalue={depth?.value}\r\n\t\t\t\t\tonChange={handleOnChangeDepth}\r\n\t\t\t\t\toptions={depthOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option value={thickness.value} selected={thickness === depth}>\r\n\t\t\t\t\t\t\t{thickness.depth}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={item.letterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tReturn Color\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOpenColor((prev) => !prev);\r\n\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t\tsetOpenAcrylicCover(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"LED Light Color\"\r\n\t\t\t\t\tonChange={handleOnChangeLedLight}\r\n\t\t\t\t\toptions={ledLightColors.map((color) => (\r\n\t\t\t\t\t\t<option value={color} selected={color == item.ledLightColor}>\r\n\t\t\t\t\t\t\t{color}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.ledLightColor}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Front Acrylic Cover\"\r\n\t\t\t\t\tonChange={handleOnChangeWhite}\r\n\t\t\t\t\toptions={whiteOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option == item.frontAcrylicCover}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.frontAcrylicCover}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{frontAcrylicCover === '3M Vinyl' && (\r\n\t\t\t\t\t<div className=\"px-[1px] relative\" ref={acrylicColorRef}>\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\t3M VINYL\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\t\tvinylWhite.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetOpenAcrylicCover((prev) => !prev);\r\n\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: vinylWhite.color }}\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t{vinylWhite.name === '' ? 'CHOOSE OPTION' : vinylWhite.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{openAcrylicCover && (\r\n\t\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t\t{translucentGraphicFilms.map((color) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetVinylWhite(color);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetOpenAcrylicCover(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == item.waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting\"\r\n\t\t\t\t\tonChange={handleOnChangeMounting}\r\n\t\t\t\t\toptions={mountingDefaultOptions.map((mounting) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={mounting.value}\r\n\t\t\t\t\t\t\tselected={mounting.value == item.mounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{mounting.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","const mountingDefaultOptions = [\r\n\t{\r\n\t\tvalue: 'Stud Mount',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Stud with spacer',\r\n\t},\r\n];\r\n\r\nconst finishingOptions = [\r\n\t{\r\n\t\tvalue: 'Painted',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Metal',\r\n\t},\r\n];\r\n\r\nconst depthOptions = [\r\n\t{\r\n\t\tdepth: '1.4\"',\r\n\t\tvalue: '3.5',\r\n\t},\r\n\t{\r\n\t\tdepth: '2\"',\r\n\t\tvalue: '5',\r\n\t},\r\n\t{\r\n\t\tdepth: '3.2\"',\r\n\t\tvalue: '8',\r\n\t},\r\n];\r\n\r\nconst frontBackdepthOptions = [\r\n\t{\r\n\t\tdepth: '2\"',\r\n\t\tvalue: '5',\r\n\t},\r\n\t{\r\n\t\tdepth: '3.2\"',\r\n\t\tvalue: '8',\r\n\t},\r\n];\r\n\r\nconst ledLightColors = [\r\n\t'6500K White',\r\n\t'3000K Warm White',\r\n\t'Red',\r\n\t'Green',\r\n\t'Blue',\r\n];\r\n\r\nconst acrylicRevealOptions = ['0', '1/5\"', '2/5\"', '3/5\"'];\r\n\r\nexport {\r\n\tacrylicRevealOptions,\r\n\tdepthOptions,\r\n\tfinishingOptions,\r\n\tfrontBackdepthOptions,\r\n\tledLightColors,\r\n\tmountingDefaultOptions,\r\n};\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Letters from './components/Letters';\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function FabricatedStainless() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'letters',\r\n\t\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tmetalDepth: '',\r\n\t\t\t\t\tcolor: { name: '', color: '' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tmetalFinish: '',\r\n\t\t\t\t\tstainLessMetalFinish: '',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\tmetal: '',\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tcomments: '',\r\n\t\tmounting: '',\r\n\t\tmetalDepth: '',\r\n\t\twaterproof: '',\r\n\t\tmetalFinish: '',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tcolor: { name: '', color: '' },\r\n\t\tcustomColor: '',\r\n\t\tmetal: '',\r\n\t\tstainLessMetalFinish: '',\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tproduct: NovaQuote.product,\r\n\t\tsets: 1,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tthickness_options: '',\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.type === 'letters' ? (\r\n\t\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\n\r\nimport {\r\n\tfabricatedMetalInstallationOptions,\r\n\tfabricatedThicknessOptions,\r\n\tfinishOptions,\r\n\tmetalFinishOptions,\r\n\tmetalOptions,\r\n} from '../../metalOptions';\r\n\r\nimport { QuoteContext } from '../FabricatedStainless';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n//const AcrylicLetterPricing = JSON.parse(NovaOptions.letter_x_logo_pricing);\r\n\r\nexport default function Letters({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\r\n\tconst [metal, setMetal] = useState(item.metal);\r\n\tconst [stainLessMetalFinish, setStainLessMetalFinish] = useState(\r\n\t\titem.stainLessMetalFinish\r\n\t);\r\n\r\n\tconst [color, setColor] = useState(item.color);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(item.metalDepth);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.metalFinish);\r\n\tconst [customFont, setCustomFont] = useState(item.customFont);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState({\r\n\t\tmin: 2,\r\n\t\tmax: 43,\r\n\t});\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst colorRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\r\n\tconst letterPricing =\r\n\t\tNovaQuote.letter_pricing_table?.pricing_table.length > 0\r\n\t\t\t? convert_json(NovaQuote.letter_pricing_table.pricing_table)\r\n\t\t\t: [];\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\tmetalDepth: selectedThickness,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tmetalFinish: selectedFinishing,\r\n\t\t\t\t\tmetal: metal,\r\n\t\t\t\t\tstainLessMetalFinish: stainLessMetalFinish,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeInstallation = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = fabricatedThicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t\tif (parseFloat(target) === 2 && parseInt(selectedLetterHeight) < 5) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tparseFloat(target) < 6 &&\r\n\t\t\tparseFloat(target) > 1.5 &&\r\n\t\t\tparseInt(selectedLetterHeight) < 7\r\n\t\t) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t\tif (parseFloat(target) === 6 && parseInt(selectedLetterHeight) < 11) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tif (value === '') {\r\n\t\t\tsetStainLessMetalFinish('');\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t}\r\n\t\tif ('Metal Finish' === value) {\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t}\r\n\r\n\t\tif ('Painted Finish' === value) {\r\n\t\t\tsetStainLessMetalFinish('');\r\n\t\t}\r\n\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst handelMetalFinishChange = (e) => {\r\n\t\tsetStainLessMetalFinish(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (letterPricing.length > 0 && selectedLetterHeight && selectedThickness) {\r\n\t\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 2];\r\n\t\t\tconst baseLetterPrice = pricingDetail[selectedThickness.value];\r\n\r\n\t\t\tlet totalLetterPrice = 0;\r\n\t\t\tconst lettersArray = letters.trim().split('');\r\n\t\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\t\tif (\r\n\t\t\t\tlettersArray.length > 0 &&\r\n\t\t\t\tselectedLetterHeight &&\r\n\t\t\t\twaterproof &&\r\n\t\t\t\tselectedThickness\r\n\t\t\t) {\r\n\t\t\t\tlettersArray.forEach((letter) => {\r\n\t\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\t\t// If the character is a space, set the price to 0 and skip further checks\r\n\t\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\t\t// Check for lowercase letter\r\n\t\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing; // 80% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[A-Z]/)) {\r\n\t\t\t\t\t\t// Check for uppercase letter\r\n\t\t\t\t\t\t// Uppercase letters use 100% of base price, so no change needed\r\n\t\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\t\t// Check for small punctuation marks\r\n\t\t\t\t\t\tletterPrice *= smallPunctuations; // 30% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[^a-zA-Z]/)) {\r\n\t\t\t\t\t\t// Check for symbol (not a letter or small punctuation)\r\n\t\t\t\t\t\t// Symbols use 100% of base price, so no change needed\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Adjusting for waterproof and finishing\r\n\t\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.1;\r\n\r\n\t\t\t\t\tletterPrice *= metal === '316 Stainless Steel' ? 1.3 : 1;\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tstainLessMetalFinish &&\r\n\t\t\t\t\t\tstainLessMetalFinish.includes('Polished')\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tletterPrice *= 1.1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tstainLessMetalFinish &&\r\n\t\t\t\t\t\tstainLessMetalFinish.includes('Electroplated')\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tletterPrice *= 1.2;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (mounting === 'PVC Backing') {\r\n\t\t\t\t\t\tletterPrice *= 1.05;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttotalLetterPrice += parseFloat(letterPrice.toFixed(2));\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\r\n\t\t\t\t\tlet spacer =\r\n\t\t\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotalLetterPrice += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotalLetterPrice *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(totalLetterPrice).toFixed(2));\r\n\t\t\t\tsetCadPrice((totalLetterPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tselectedThickness,\r\n\t\tselectedFinishing,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tmetal,\r\n\t\tstainLessMetalFinish,\r\n\t\tmounting,\r\n\t\tsets,\r\n\t\tfont,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!metal) missingFields.push('Metal Option');\r\n\t\tif (!selectedThickness) missingFields.push('Select Metal Thickness');\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing Options');\r\n\t\tif (selectedFinishing === 'Painted Finish') {\r\n\t\t\tif (!color.name) missingFields.push('Select Color');\r\n\r\n\t\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (selectedFinishing === 'Metal Finish') {\r\n\t\t\tif (!stainLessMetalFinish)\r\n\t\t\t\tmissingFields.push('Select Metal Finishing Options');\r\n\t\t}\r\n\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (mounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\tselectedThickness,\r\n\t\tmounting,\r\n\t\twaterproof,\r\n\t\tcolor,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tmetal,\r\n\t\tselectedFinishing,\r\n\t\tstainLessMetalFinish,\r\n\t\tcustomColor,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newHeightOptions = letterPricing?.filter((item) => {\r\n\t\t\tconst value = item[selectedThickness?.value];\r\n\t\t\treturn (\r\n\t\t\t\tvalue !== '' &&\r\n\t\t\t\tvalue !== null &&\r\n\t\t\t\tvalue !== undefined &&\r\n\t\t\t\tvalue !== false &&\r\n\t\t\t\t!isNaN(value)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (newHeightOptions.length > 0) {\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: newHeightOptions[0].Height,\r\n\t\t\t\tmax: newHeightOptions[newHeightOptions.length - 1].Height,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tif (selectedFinishing === 'Painted Finish') {\r\n\t\tuseOutsideClick([colorRef, fontRef], () => {\r\n\t\t\tif (!openColor && !openFont) return;\r\n\t\t\tsetOpenColor(false);\r\n\t\t\tsetOpenFont(false);\r\n\t\t});\r\n\t} else {\r\n\t\tuseOutsideClick([fontRef], () => {\r\n\t\t\tif (!openFont) return;\r\n\t\t\tsetOpenFont(false);\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t}, [color, font]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font === 'Custom font' ? '' : font,\r\n\t\t\t\t\t\t\tcolor: color.color,\r\n\t\t\t\t\t\t\ttextShadow: '0px 0px 1px rgba(0, 0, 0, 1)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t\tsetOpenColor={setOpenColor}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Option\"\r\n\t\t\t\t\tonChange={(e) => setMetal(e.target.value)}\r\n\t\t\t\t\toptions={metalOptions.map((metal) => (\r\n\t\t\t\t\t\t<option value={metal.option} selected={metal.option === metal}>\r\n\t\t\t\t\t\t\t{metal.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={metal}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Depth\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={fabricatedThicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={selectedLetterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.option}\r\n\t\t\t\t\t\t\tselected={finishing.option === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedFinishing === 'Metal Finish' && (\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\ttitle=\"Metal Finish\"\r\n\t\t\t\t\t\tonChange={handelMetalFinishChange}\r\n\t\t\t\t\t\toptions={metalFinishOptions.map((metalFinish) => (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tvalue={metalFinish.option}\r\n\t\t\t\t\t\t\t\tselected={metalFinish.option === stainLessMetalFinish}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{metalFinish.option}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\tvalue={stainLessMetalFinish}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedFinishing === 'Painted Finish' && (\r\n\t\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tPainted Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`flex px-2 items-center select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeInstallation}\r\n\t\t\t\t\toptions={fabricatedMetalInstallationOptions.map((option) => (\r\n\t\t\t\t\t\t<option value={option.option} selected={option.option === mounting}>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"SPACER DISTANCE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport {\r\n\tfabricatedMetalInstallationOptions,\r\n\tfabricatedThicknessOptions,\r\n\tfinishOptions,\r\n\tmetalFinishOptions,\r\n\tmetalOptions,\r\n} from '../../metalOptions';\r\n\r\nimport { QuoteContext } from '../FabricatedStainless';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedMounting, setSelectedMounting] = useState(item.mounting);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(item.metalDepth);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\tconst [color, setColor] = useState(item.color);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.metalFinish);\r\n\r\n\tconst [metal, setMetal] = useState(item.metal);\r\n\tconst [stainLessMetalFinish, setStainLessMetalFinish] = useState(\r\n\t\titem.stainLessMetalFinish\r\n\t);\r\n\r\n\tconst maxWidthHeightOptions = Array.from(\r\n\t\t{\r\n\t\t\tlength: 41,\r\n\t\t},\r\n\t\t(_, index) => {\r\n\t\t\tconst val = 3 + index;\r\n\t\t\treturn (\r\n\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t{val}\"\r\n\t\t\t\t</option>\r\n\t\t\t);\r\n\t\t}\r\n\t);\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [comments, setComments] = useState('');\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst colorRef = useRef(null);\r\n\r\n\tfunction handleComments(e) {\r\n\t\tsetComments(e.target.value);\r\n\t}\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handelMetalFinishChange = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tsetStainLessMetalFinish(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = fabricatedThicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tconsole.log(selected[0]);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t};\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tif (value === '') {\r\n\t\t\tsetStainLessMetalFinish('');\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t}\r\n\t\tif ('Metal Finish' === value) {\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t}\r\n\r\n\t\tif ('Painted Finish' === value) {\r\n\t\t\tsetStainLessMetalFinish('');\r\n\t\t}\r\n\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeInstallation = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tmetalDepth: selectedThickness,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tmetalFinish: selectedFinishing,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tmetal: metal,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tstainLessMetalFinish: stainLessMetalFinish,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetComments(item.comments);\r\n\t}, []);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!metal) missingFields.push('Metal Option');\r\n\t\tif (!selectedThickness) missingFields.push('Select Metal Depth');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing Options');\r\n\t\tif (selectedFinishing === 'Painted Finish') {\r\n\t\t\tif (!color.name) missingFields.push('Select Color');\r\n\r\n\t\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (selectedFinishing === 'Metal Finish') {\r\n\t\t\tif (!stainLessMetalFinish)\r\n\t\t\t\tmissingFields.push('Select Metal Finishing Options');\r\n\t\t}\r\n\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (mounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tcomments,\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tselectedFinishing,\r\n\t\tstainLessMetalFinish,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tmounting,\r\n\t\tcolor,\r\n\t\tcustomColor,\r\n\t\tmetal,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 3][height] : 0;\r\n\r\n\t\t\t\tconsole.log(logoPricingTable[width - 3][height]);\r\n\r\n\t\t\t\tlet multiplier = 1;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.05;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = parseFloat((computed * multiplier).toFixed(2));\r\n\r\n\t\t\t\ttotal *= metal === '316 Stainless Steel' ? 1.3 : 1;\r\n\r\n\t\t\t\tif (stainLessMetalFinish && stainLessMetalFinish.includes('Polished')) {\r\n\t\t\t\t\ttotal *= 1.1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tstainLessMetalFinish &&\r\n\t\t\t\t\tstainLessMetalFinish.includes('Electroplated')\r\n\t\t\t\t) {\r\n\t\t\t\t\ttotal *= 1.2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal = parseFloat(total.toFixed(2));\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total.toFixed(2)));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tmetal,\r\n\t\tstainLessMetalFinish,\r\n\t\tmounting,\r\n\t\tsets,\r\n\t]);\r\n\r\n\tuseOutsideClick([colorRef], () => {\r\n\t\tif (!openColor) return;\r\n\t\tsetOpenColor(false);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Option\"\r\n\t\t\t\t\tonChange={(e) => setMetal(e.target.value)}\r\n\t\t\t\t\toptions={metalOptions.map((metal) => (\r\n\t\t\t\t\t\t<option value={metal.option} selected={metal.option === metal}>\r\n\t\t\t\t\t\t\t{metal.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={metal}\r\n\t\t\t\t/>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Depth\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={fabricatedThicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthHeightOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthHeightOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.option}\r\n\t\t\t\t\t\t\tselected={finishing.option === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedFinishing === 'Metal Finish' && (\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\ttitle=\"Metal Finish\"\r\n\t\t\t\t\t\tonChange={handelMetalFinishChange}\r\n\t\t\t\t\t\toptions={metalFinishOptions.map((metalFinish) => (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tvalue={metalFinish.option}\r\n\t\t\t\t\t\t\t\tselected={metalFinish.option === stainLessMetalFinish}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{metalFinish.option}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\tvalue={stainLessMetalFinish}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedFinishing === 'Painted Finish' && (\r\n\t\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tPainted Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`flex px-2 items-center select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeInstallation}\r\n\t\t\t\t\toptions={fabricatedMetalInstallationOptions.map((option) => (\r\n\t\t\t\t\t\t<option value={option.option} selected={option.option === mounting}>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Letters from './components/Letters';\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function LaserCutAluminum() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'letters',\r\n\t\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tmetalThickness: '',\r\n\t\t\t\t\tmetalColor: { name: '', color: '' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePath: '',\r\n\t\t\t\t\tfileName: '',\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tfileUrl: '',\r\n\t\t\t\t\tfile: '',\r\n\t\t\t\t\tfinishing: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tmetalCustomColor: '',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tcomments: '',\r\n\t\tmounting: '',\r\n\t\tmetalThickness: '',\r\n\t\twaterproof: '',\r\n\t\tfinishing: '',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tproduct: NovaQuote.product,\r\n\t\tcustomFont: '',\r\n\t\tmetalCustomColor: '',\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tsets: 1,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tthickness_options: '',\r\n\t\t\t\t\tmetalColor: { name: '', color: '' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tmetalColor: { name: '', color: '' },\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.type === 'letters' ? (\r\n\t\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport {\r\n\tmetalFinishOptions,\r\n\tmetalInstallationOptions,\r\n\tmetalThicknessOptions,\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport { QuoteContext } from '../LaserCutAluminum';\r\n\r\nconst NovaOptions = NovaQuote.quote_options;\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n//const AcrylicLetterPricing = JSON.parse(NovaOptions.letter_x_logo_pricing);\r\n\r\nexport default function Letters({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\tconst [color, setColor] = useState(item.metalColor);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.metalThickness\r\n\t);\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [customFont, setCustomFont] = useState(item.customFont);\r\n\tconst [customColor, setCustomColor] = useState(item.metalCustomColor);\r\n\tconst [metalMountingOptions, setMetalMountingOptions] = useState(\r\n\t\tmetalInstallationOptions\r\n\t);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState(\r\n\t\tNovaOptions.letters_height\r\n\t);\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst colorRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\r\n\tconst letterPricing =\r\n\t\tNovaQuote.letter_pricing_table?.pricing_table.length > 0\r\n\t\t\t? convert_json(NovaQuote.letter_pricing_table.pricing_table)\r\n\t\t\t: [];\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\tmetalThickness: selectedThickness,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tmetalColor: color,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tcustomFont: customFont,\r\n\t\t\t\t\tmetalCustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeInstallation = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = metalThicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t\tif (parseInt(target) === 3 && parseInt(selectedLetterHeight) > 24) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t\tif (parseInt(target) > 11 && parseInt(selectedLetterHeight) === 1) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tif ('Brushed' === value) {\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t}\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\tletterPricing.length > 0 &&\r\n\t\t\tselectedLetterHeight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof\r\n\t\t) {\r\n\t\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 1];\r\n\t\t\tconst baseLetterPrice = pricingDetail[selectedThickness.value];\r\n\r\n\t\t\tlet totalLetterPrice = 0;\r\n\t\t\tconst lettersArray = letters.trim().split('');\r\n\t\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\t\tlettersArray.forEach((letter) => {\r\n\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\t// If the character is a space, set the price to 0 and skip further checks\r\n\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\t// Check for lowercase letter\r\n\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing; // 80% of the base price\r\n\t\t\t\t} else if (letter.match(/[A-Z]/)) {\r\n\t\t\t\t\t// Check for uppercase letter\r\n\t\t\t\t\t// Uppercase letters use 100% of base price, so no change needed\r\n\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\t// Check for small punctuation marks\r\n\t\t\t\t\tletterPrice *= smallPunctuations; // 30% of the base price\r\n\t\t\t\t} else if (letter.match(/[^a-zA-Z]/)) {\r\n\t\t\t\t\t// Check for symbol (not a letter or small punctuation)\r\n\t\t\t\t\t// Symbols use 100% of base price, so no change needed\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjusting for waterproof and finishing\r\n\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.02;\r\n\t\t\t\tletterPrice *= selectedFinishing === 'Gloss' ? 1.1 : 1;\r\n\r\n\t\t\t\ttotalLetterPrice += letterPrice;\r\n\t\t\t});\r\n\r\n\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\r\n\t\t\t\tlet spacer =\r\n\t\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\ttotalLetterPrice += spacer;\r\n\t\t\t}\r\n\r\n\t\t\ttotalLetterPrice *= sets;\r\n\r\n\t\t\tsetUsdPrice(parseFloat(totalLetterPrice).toFixed(2));\r\n\t\t\tsetCadPrice((totalLetterPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tselectedThickness,\r\n\t\tselectedFinishing,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tsets,\r\n\t\tfont,\r\n\t\tmounting,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tletters,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\tselectedThickness,\r\n\t\tmounting,\r\n\t\twaterproof,\r\n\t\tcolor,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tselectedFinishing,\r\n\t\tcustomFont,\r\n\t\tsets,\r\n\t\tcustomColor,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\t\tif (!selectedThickness) missingFields.push('Select Acrylic Thickness');\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing Options');\r\n\t\tif (selectedFinishing === 'Painted') {\r\n\t\t\tif (!color.name) missingFields.push('Select Color');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tselectedFinishing === 'Painted' &&\r\n\t\t\tcolor?.name === 'Custom Color' &&\r\n\t\t\t!customColor\r\n\t\t) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (mounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tfont,\r\n\t\tcolor,\r\n\t\tselectedThickness,\r\n\t\tmounting,\r\n\t\twaterproof,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tfontFileUrl,\r\n\t\tselectedFinishing,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t\tcustomFont,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newHeightOptions = letterPricing?.filter((item) => {\r\n\t\t\tconst value = item[selectedThickness?.value];\r\n\t\t\treturn (\r\n\t\t\t\tvalue !== '' &&\r\n\t\t\t\tvalue !== null &&\r\n\t\t\t\tvalue !== undefined &&\r\n\t\t\t\tvalue !== false &&\r\n\t\t\t\t!isNaN(value)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (newHeightOptions.length > 0) {\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: newHeightOptions[0].Height,\r\n\t\t\t\tmax: newHeightOptions[newHeightOptions.length - 1].Height,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tif (selectedFinishing === 'Painted') {\r\n\t\tuseOutsideClick([colorRef, fontRef], () => {\r\n\t\t\tif (!openColor && !openFont) return;\r\n\t\t\tsetOpenColor(false);\r\n\t\t\tsetOpenFont(false);\r\n\t\t});\r\n\t} else {\r\n\t\tuseOutsideClick([fontRef], () => {\r\n\t\t\tif (!openFont) return;\r\n\t\t\tsetOpenFont(false);\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t}, [color, font]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = metalMountingOptions;\r\n\r\n\t\tif (selectedThickness?.value === '3') {\r\n\t\t\tif (mounting === 'Stud with spacer' || mounting === 'Stud Mount') {\r\n\t\t\t\tsetMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.option !== 'Stud Mount' && option.option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tnewMountingOptions = metalInstallationOptions;\r\n\t\t}\r\n\r\n\t\tsetMetalMountingOptions(newMountingOptions);\r\n\t}, [selectedThickness, mounting, setMetalMountingOptions]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font,\r\n\t\t\t\t\t\t\tcolor: color?.color,\r\n\t\t\t\t\t\t\ttextShadow: '0px 0px 1px rgba(0, 0, 0, 1)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenColor={setOpenColor}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={metalThicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={selectedLetterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={metalFinishOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.option}\r\n\t\t\t\t\t\t\tselected={finishing.option === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedFinishing === 'Painted' && (\r\n\t\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tColor\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`flex px-2 items-center select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t\t\tsetOpenColor((prev) => !prev);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeInstallation}\r\n\t\t\t\t\toptions={metalMountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option value={option.option} selected={option.option === mounting}>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport {\r\n\tmetalFinishOptions,\r\n\tmetalInstallationOptions,\r\n\tmetalThicknessOptions,\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport { QuoteContext } from '../LaserCutAluminum';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedMounting, setSelectedMounting] = useState(item.mounting);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.metalThickness\r\n\t);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\tconst [color, setColor] = useState(item.metalColor);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [customColor, setCustomColor] = useState(item.metalCustomColor);\r\n\r\n\tconst maxWidthHeightOptions = Array.from(\r\n\t\t{\r\n\t\t\tlength: 43,\r\n\t\t},\r\n\t\t(_, index) => {\r\n\t\t\tconst val = 1 + index;\r\n\t\t\treturn (\r\n\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t{val}\"\r\n\t\t\t\t</option>\r\n\t\t\t);\r\n\t\t}\r\n\t);\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [comments, setComments] = useState('');\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst [metalMountingOptions, setMetalMountingOptions] = useState(\r\n\t\tmetalInstallationOptions\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst colorRef = useRef(null);\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tfunction handleComments(e) {\r\n\t\tsetComments(e.target.value);\r\n\t}\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = metalThicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t};\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tif ('Brushed' === value) {\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t}\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeInstallation = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tmetalThickness: selectedThickness,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tmetalColor: color,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tmetalCustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetComments(item.comments);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tcomments,\r\n\t\tselectedThickness,\r\n\t\tselectedMounting,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tselectedFinishing,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tmounting,\r\n\t\tcolor,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!selectedThickness) missingFields.push('Select Acrylic Thickness');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing');\r\n\t\tif (selectedFinishing === 'Painted') {\r\n\t\t\tif (!color.name) missingFields.push('Select Color');\r\n\t\t}\r\n\t\tif (\r\n\t\t\tselectedFinishing === 'Painted' &&\r\n\t\t\tcolor?.name === 'Custom Color' &&\r\n\t\t\t!customColor\r\n\t\t) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\t\tif (mounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}mm`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 1][height] : 0;\r\n\r\n\t\t\t\tlet multiplier = 0;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.02;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = parseFloat((computed * multiplier).toFixed(2));\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total.toFixed(2)));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tsets,\r\n\t\tmounting,\r\n\t]);\r\n\r\n\tuseOutsideClick([colorRef], () => {\r\n\t\tif (!openColor) return;\r\n\t\tsetOpenColor(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t}, [color]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = metalMountingOptions;\r\n\r\n\t\tif (selectedThickness?.value === '3') {\r\n\t\t\tif (mounting === 'Stud with spacer' || mounting === 'Stud Mount') {\r\n\t\t\t\tsetMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.option !== 'Stud Mount' && option.option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tnewMountingOptions = metalInstallationOptions;\r\n\t\t}\r\n\r\n\t\tsetMetalMountingOptions(newMountingOptions);\r\n\t}, [selectedThickness, mounting, setMetalMountingOptions]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Thickness\"\r\n\t\t\t\t\tvalue={item.metalThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={metalThicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthHeightOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthHeightOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={(e) => setWaterproof(e.target.value)}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={metalFinishOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.option}\r\n\t\t\t\t\t\t\tselected={finishing.option === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedFinishing === 'Painted' && (\r\n\t\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tColor\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`flex px-2 items-center select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeInstallation}\r\n\t\t\t\t\toptions={metalMountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option value={option.option} selected={option.option === mounting}>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{selectedFinishing === 'Painted' && color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Letters from './components/Letters';\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function FabricatedStainless() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'letters',\r\n\t\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tmetalThickness: '',\r\n\t\t\t\t\tcolor: { name: '', color: '' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tmetalFinish: '',\r\n\t\t\t\t\tstainlessSteelPolished: '',\r\n\t\t\t\t\tstainLessMetalFinish: '',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\tmetal: '',\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t} else {\r\n\t\t\t\twindow.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tcomments: '',\r\n\t\tmounting: '',\r\n\t\tmetalThickness: '',\r\n\t\twaterproof: '',\r\n\t\tmetalFinish: '',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tcolor: { name: '', color: '' },\r\n\t\tcustomColor: '',\r\n\t\tmetal: '',\r\n\t\tstainLessMetalFinish: '',\r\n\t\tstainlessSteelPolished: '',\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tsets: 1,\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tthickness_options: '',\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.type === 'letters' ? (\r\n\t\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\n\r\nimport {\r\n\tfinishOptions,\r\n\tmetalFinishOptions,\r\n\tmetalInstallationOptions,\r\n\tmetalOptions,\r\n\tmetalThicknessOptions,\r\n\tstainlessSteelPolishedOptions,\r\n} from '../../metalOptions';\r\n\r\nimport { QuoteContext } from '../LaserCutStainless';\r\n\r\nconst NovaOptions = NovaQuote.quote_options;\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n//const AcrylicLetterPricing = JSON.parse(NovaOptions.letter_x_logo_pricing);\r\n\r\nexport default function Letters({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\r\n\tconst [metal, setMetal] = useState(item.metal);\r\n\tconst [stainLessMetalFinish, setStainLessMetalFinish] = useState(\r\n\t\titem.stainLessMetalFinish\r\n\t);\r\n\tconst [stainlessSteelPolished, setStainlessSteelPolished] = useState(\r\n\t\titem.stainlessSteelPolished\r\n\t);\r\n\r\n\tconst [color, setColor] = useState(item.color);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.metalThickness\r\n\t);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.metalFinish);\r\n\tconst [customFont, setCustomFont] = useState(item.customFont);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState(\r\n\t\tNovaOptions.letters_height\r\n\t);\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst [metalMountingOptions, setMetalMountingOptions] = useState(\r\n\t\tmetalInstallationOptions\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst colorRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\r\n\tconst letterPricing =\r\n\t\tNovaQuote.letter_pricing_table?.pricing_table.length > 0\r\n\t\t\t? convert_json(NovaQuote.letter_pricing_table.pricing_table)\r\n\t\t\t: [];\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\tmetalThickness: selectedThickness,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tmetalFinish: selectedFinishing,\r\n\t\t\t\t\tstainlessSteelPolished: stainlessSteelPolished,\r\n\t\t\t\t\tmetal: metal,\r\n\t\t\t\t\tstainLessMetalFinish: stainLessMetalFinish,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeInstallation = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = metalThicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t\tif (parseInt(target) === 4 && parseInt(selectedLetterHeight) > 24) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t\tif (parseInt(target) > 11 && parseInt(selectedLetterHeight) === 1) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tif (value === '') {\r\n\t\t\tsetStainLessMetalFinish('');\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t\tsetStainlessSteelPolished('');\r\n\t\t}\r\n\t\tif ('Metal Finish' === value) {\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t}\r\n\r\n\t\tif ('Painted Finish' === value) {\r\n\t\t\tsetStainLessMetalFinish('');\r\n\t\t}\r\n\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst handelMetalFinishChange = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tif ('Stainless Steel Polished' !== value) {\r\n\t\t\tsetStainlessSteelPolished('');\r\n\t\t}\r\n\t\tsetStainLessMetalFinish(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (letterPricing.length > 0 && selectedLetterHeight && selectedThickness) {\r\n\t\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 1];\r\n\t\t\tconst baseLetterPrice = pricingDetail[selectedThickness.value];\r\n\r\n\t\t\tlet totalLetterPrice = 0;\r\n\t\t\tconst lettersArray = letters.trim().split('');\r\n\t\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\t\tif (\r\n\t\t\t\tlettersArray.length > 0 &&\r\n\t\t\t\tselectedLetterHeight &&\r\n\t\t\t\twaterproof &&\r\n\t\t\t\tselectedThickness\r\n\t\t\t) {\r\n\t\t\t\tlettersArray.forEach((letter) => {\r\n\t\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\t\t// If the character is a space, set the price to 0 and skip further checks\r\n\t\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\t\t// Check for lowercase letter\r\n\t\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing; // 80% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[A-Z]/)) {\r\n\t\t\t\t\t\t// Check for uppercase letter\r\n\t\t\t\t\t\t// Uppercase letters use 100% of base price, so no change needed\r\n\t\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\t\t// Check for small punctuation marks\r\n\t\t\t\t\t\tletterPrice *= smallPunctuations; // 30% of the base price\r\n\t\t\t\t\t} else if (letter.match(/[^a-zA-Z]/)) {\r\n\t\t\t\t\t\t// Check for symbol (not a letter or small punctuation)\r\n\t\t\t\t\t\t// Symbols use 100% of base price, so no change needed\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Adjusting for waterproof and finishing\r\n\t\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.02;\r\n\r\n\t\t\t\t\tletterPrice *= metal === '316 Stainless Steel' ? 1.3 : 1;\r\n\r\n\t\t\t\t\tif (stainlessSteelPolished) {\r\n\t\t\t\t\t\tif ('Standard (Face)' === stainlessSteelPolished) {\r\n\t\t\t\t\t\t\tletterPrice *= 1.3;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ('Premium (Face & Side)' === stainlessSteelPolished) {\r\n\t\t\t\t\t\t\tletterPrice *= 1.7;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tstainLessMetalFinish &&\r\n\t\t\t\t\t\tstainLessMetalFinish !== 'Stainless Steel Brushed' &&\r\n\t\t\t\t\t\tstainLessMetalFinish !== 'Stainless Steel Polished'\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tletterPrice *= 1.2;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttotalLetterPrice += letterPrice;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\r\n\t\t\t\t\tlet spacer =\r\n\t\t\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotalLetterPrice += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotalLetterPrice *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(totalLetterPrice).toFixed(2));\r\n\t\t\t\tsetCadPrice((totalLetterPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tselectedThickness,\r\n\t\tselectedFinishing,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tmetal,\r\n\t\tstainLessMetalFinish,\r\n\t\tstainlessSteelPolished,\r\n\t\tsets,\r\n\t\tmounting,\r\n\t\tfont,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!metal) missingFields.push('Metal Option');\r\n\t\tif (!selectedThickness) missingFields.push('Select Metal Thickness');\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing Options');\r\n\t\tif (selectedFinishing === 'Painted Finish') {\r\n\t\t\tif (!color.name) missingFields.push('Select Color');\r\n\r\n\t\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (selectedFinishing === 'Metal Finish') {\r\n\t\t\tif (!stainLessMetalFinish)\r\n\t\t\t\tmissingFields.push('Select Metal Finishing Options');\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tstainLessMetalFinish &&\r\n\t\t\tstainLessMetalFinish === 'Stainless Steel Polished'\r\n\t\t) {\r\n\t\t\tif (!stainlessSteelPolished) missingFields.push('Select Steel Polished');\r\n\t\t}\r\n\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select Installation');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (mounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\tselectedThickness,\r\n\t\tmounting,\r\n\t\twaterproof,\r\n\t\tcolor,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tmetal,\r\n\t\tselectedFinishing,\r\n\t\tstainLessMetalFinish,\r\n\t\tstainlessSteelPolished,\r\n\t\tcustomColor,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newHeightOptions = letterPricing?.filter((item) => {\r\n\t\t\tconst value = item[selectedThickness?.value];\r\n\t\t\treturn (\r\n\t\t\t\tvalue !== '' &&\r\n\t\t\t\tvalue !== null &&\r\n\t\t\t\tvalue !== undefined &&\r\n\t\t\t\tvalue !== false &&\r\n\t\t\t\t!isNaN(value)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (newHeightOptions.length > 0) {\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: newHeightOptions[0].Height,\r\n\t\t\t\tmax: newHeightOptions[newHeightOptions.length - 1].Height,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tif (selectedFinishing === 'Painted Finish') {\r\n\t\tuseOutsideClick([colorRef, fontRef], () => {\r\n\t\t\tif (!openColor && !openFont) return;\r\n\t\t\tsetOpenColor(false);\r\n\t\t\tsetOpenFont(false);\r\n\t\t});\r\n\t} else {\r\n\t\tuseOutsideClick([fontRef], () => {\r\n\t\t\tif (!openFont) return;\r\n\t\t\tsetOpenFont(false);\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t}, [color, font]);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = metalInstallationOptions;\r\n\t\tif (selectedThickness?.value === '4') {\r\n\t\t\tif (mounting === 'Stud with spacer' || mounting === 'Stud Mount') {\r\n\t\t\t\tsetMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t\tnewMountingOptions = metalInstallationOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.option !== 'Stud Mount' && option.option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tnewMountingOptions = metalInstallationOptions;\r\n\t\t}\r\n\r\n\t\tsetMetalMountingOptions(newMountingOptions);\r\n\t}, [selectedThickness, mounting, setMetalMountingOptions]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font === 'Custom font' ? '' : font,\r\n\t\t\t\t\t\t\tcolor: color.color,\r\n\t\t\t\t\t\t\ttextShadow: '0px 0px 1px rgba(0, 0, 0, 1)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={item.font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t\tsetOpenColor={setOpenColor}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Option\"\r\n\t\t\t\t\tonChange={(e) => setMetal(e.target.value)}\r\n\t\t\t\t\toptions={metalOptions.map((metal) => (\r\n\t\t\t\t\t\t<option value={metal.option} selected={metal.option === metal}>\r\n\t\t\t\t\t\t\t{metal.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={metal}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={metalThicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={selectedLetterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.option}\r\n\t\t\t\t\t\t\tselected={finishing.option === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedFinishing === 'Metal Finish' && (\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\ttitle=\"Metal Finish\"\r\n\t\t\t\t\t\tonChange={handelMetalFinishChange}\r\n\t\t\t\t\t\toptions={metalFinishOptions.map((metalFinish) => (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tvalue={metalFinish.option}\r\n\t\t\t\t\t\t\t\tselected={metalFinish.option === stainLessMetalFinish}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{metalFinish.option}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\tvalue={stainLessMetalFinish}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{stainLessMetalFinish === 'Stainless Steel Polished' && (\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\ttitle=\"Steel Polish\"\r\n\t\t\t\t\t\tonChange={(e) => setStainlessSteelPolished(e.target.value)}\r\n\t\t\t\t\t\toptions={stainlessSteelPolishedOptions.map((steelPolished) => (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tvalue={steelPolished.option}\r\n\t\t\t\t\t\t\t\tselected={steelPolished.option === stainlessSteelPolished}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{steelPolished.option}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\tvalue={stainlessSteelPolished}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedFinishing === 'Painted Finish' && (\r\n\t\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tPainted Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`flex px-2 items-center select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetOpenFont(false);\r\n\t\t\t\t\t\t\t\tsetOpenColor((prev) => !prev);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeInstallation}\r\n\t\t\t\t\toptions={metalMountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option value={option.option} selected={option.option === mounting}>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\nimport {\r\n\tfinishOptions,\r\n\tmetalFinishOptions,\r\n\tmetalInstallationOptions,\r\n\tmetalOptions,\r\n\tmetalThicknessOptions,\r\n\tstainlessSteelPolishedOptions,\r\n} from '../../metalOptions';\r\n\r\nimport { QuoteContext } from '../LaserCutStainless';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(\r\n\t\titem.metalThickness\r\n\t);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\tconst [color, setColor] = useState(item.color);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.metalFinish);\r\n\r\n\tconst [metal, setMetal] = useState(item.metal);\r\n\tconst [stainLessMetalFinish, setStainLessMetalFinish] = useState(\r\n\t\titem.stainLessMetalFinish\r\n\t);\r\n\tconst [stainlessSteelPolished, setStainlessSteelPolished] = useState(\r\n\t\titem.stainlessSteelPolished\r\n\t);\r\n\r\n\tconst maxWidthHeightOptions = Array.from(\r\n\t\t{\r\n\t\t\tlength: 43,\r\n\t\t},\r\n\t\t(_, index) => {\r\n\t\t\tconst val = 1 + index;\r\n\t\t\treturn (\r\n\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t{val}\"\r\n\t\t\t\t</option>\r\n\t\t\t);\r\n\t\t}\r\n\t);\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [comments, setComments] = useState('');\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [metalMountingOptions, setMetalMountingOptions] = useState(\r\n\t\tmetalInstallationOptions\r\n\t);\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst colorRef = useRef(null);\r\n\r\n\tfunction handleComments(e) {\r\n\t\tsetComments(e.target.value);\r\n\t}\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handelMetalFinishChange = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tif ('Stainless Steel Polished' !== value) {\r\n\t\t\tsetStainlessSteelPolished('');\r\n\t\t}\r\n\t\tsetStainLessMetalFinish(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = metalThicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t};\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tconst value = e.target.value;\r\n\t\tif (value === '') {\r\n\t\t\tsetStainLessMetalFinish('');\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t\tsetStainlessSteelPolished('');\r\n\t\t}\r\n\t\tif ('Metal Finish' === value) {\r\n\t\t\tsetColor({ name: '', color: '' });\r\n\t\t}\r\n\r\n\t\tif ('Painted Finish' === value) {\r\n\t\t\tsetStainLessMetalFinish('');\r\n\t\t}\r\n\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tconst handleOnChangeInstallation = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetInstallation(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tmetalThickness: selectedThickness,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tmetalFinish: selectedFinishing,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tmetal: metal,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tstainlessSteelPolished: stainlessSteelPolished,\r\n\t\t\t\t\tstainLessMetalFinish: stainLessMetalFinish,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetComments(item.comments);\r\n\t}, []);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!metal) missingFields.push('Metal Option');\r\n\t\tif (!selectedThickness) missingFields.push('Select Metal Thickness');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing Options');\r\n\t\tif (selectedFinishing === 'Painted Finish') {\r\n\t\t\tif (!color.name) missingFields.push('Select Color');\r\n\t\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (selectedFinishing === 'Metal Finish') {\r\n\t\t\tif (!stainLessMetalFinish)\r\n\t\t\t\tmissingFields.push('Select Metal Finishing Options');\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tstainLessMetalFinish &&\r\n\t\t\tstainLessMetalFinish === 'Stainless Steel Polished'\r\n\t\t) {\r\n\t\t\tif (!stainlessSteelPolished) missingFields.push('Select Steel Polished');\r\n\t\t}\r\n\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select Installation');\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (mounting === 'Stud Mount') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tcomments,\r\n\t\tselectedThickness,\r\n\t\tmounting,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tselectedFinishing,\r\n\t\tstainLessMetalFinish,\r\n\t\tstainlessSteelPolished,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tmounting,\r\n\t\tcolor,\r\n\t\tcustomColor,\r\n\t\tmetal,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}mm`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 1][height] : 0;\r\n\r\n\t\t\t\tlet multiplier = 1;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.02;\r\n\t\t\t\t\tmultiplier = parseFloat(multiplier).toFixed(2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = parseFloat((computed * multiplier).toFixed(2));\r\n\r\n\t\t\t\ttotal *= metal === '316 Stainless Steel' ? 1.3 : 1;\r\n\t\t\t\ttotal = parseFloat(total.toFixed(2));\r\n\r\n\t\t\t\tif (stainlessSteelPolished) {\r\n\t\t\t\t\tif ('Standard (Face)' === stainlessSteelPolished) {\r\n\t\t\t\t\t\ttotal *= 1.3;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ('Premium (Face & Side)' === stainlessSteelPolished) {\r\n\t\t\t\t\t\ttotal *= 1.7;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttotal = parseFloat(total.toFixed(2));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tstainLessMetalFinish &&\r\n\t\t\t\t\tstainLessMetalFinish !== 'Stainless Steel Brushed' &&\r\n\t\t\t\t\tstainLessMetalFinish !== 'Stainless Steel Polished'\r\n\t\t\t\t) {\r\n\t\t\t\t\ttotal *= 1.2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal = parseFloat(total.toFixed(2));\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total.toFixed(2)));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tmetal,\r\n\t\tstainLessMetalFinish,\r\n\t\tstainlessSteelPolished,\r\n\t\tsets,\r\n\t\tmounting,\r\n\t]);\r\n\r\n\tuseOutsideClick([colorRef], () => {\r\n\t\tif (!openColor) return;\r\n\t\tsetOpenColor(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tlet newMountingOptions = metalInstallationOptions;\r\n\t\tif (selectedThickness?.value === '4') {\r\n\t\t\tif (mounting === 'Stud with spacer' || mounting === 'Stud Mount') {\r\n\t\t\t\tsetMounting('');\r\n\t\t\t\tsetStudLength('');\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t\tnewMountingOptions = metalInstallationOptions.filter(\r\n\t\t\t\t(option) =>\r\n\t\t\t\t\toption.option !== 'Stud Mount' && option.option !== 'Stud with spacer'\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tnewMountingOptions = metalInstallationOptions;\r\n\t\t}\r\n\r\n\t\tsetMetalMountingOptions(newMountingOptions);\r\n\t}, [selectedThickness, mounting, setMetalMountingOptions]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Option\"\r\n\t\t\t\t\tonChange={(e) => setMetal(e.target.value)}\r\n\t\t\t\t\toptions={metalOptions.map((metal) => (\r\n\t\t\t\t\t\t<option value={metal.option} selected={metal.option === item.metal}>\r\n\t\t\t\t\t\t\t{metal.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={metal}\r\n\t\t\t\t/>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={metalThicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthHeightOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthHeightOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.option}\r\n\t\t\t\t\t\t\tselected={finishing.option === selectedFinishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{selectedFinishing === 'Metal Finish' && (\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\ttitle=\"Metal Finish\"\r\n\t\t\t\t\t\tonChange={handelMetalFinishChange}\r\n\t\t\t\t\t\toptions={metalFinishOptions.map((metalFinish) => (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tvalue={metalFinish.option}\r\n\t\t\t\t\t\t\t\tselected={metalFinish.option === stainLessMetalFinish}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{metalFinish.option}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\tvalue={stainLessMetalFinish}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{stainLessMetalFinish === 'Stainless Steel Polished' && (\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\ttitle=\"Steel Polish\"\r\n\t\t\t\t\t\tonChange={(e) => setStainlessSteelPolished(e.target.value)}\r\n\t\t\t\t\t\toptions={stainlessSteelPolishedOptions.map((steelPolished) => (\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tvalue={steelPolished.option}\r\n\t\t\t\t\t\t\t\tselected={steelPolished.option === item.stainlessSteelPolished}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{steelPolished.option}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\tvalue={item.stainlessSteelPolished}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{selectedFinishing === 'Painted Finish' && (\r\n\t\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tPainted Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`flex px-2 items-center select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeInstallation}\r\n\t\t\t\t\toptions={metalMountingOptions.map((option) => (\r\n\t\t\t\t\t\t<option value={option.option} selected={option.option === mounting}>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","const metalOptions = [\r\n\t{\r\n\t\toption: '304 Stainless Steel',\r\n\t},\r\n\t{\r\n\t\toption: '316 Stainless Steel',\r\n\t},\r\n];\r\n\r\nconst metalThicknessOptions = [\r\n\t{\r\n\t\tthickness: '1/8\"',\r\n\t\tvalue: '4',\r\n\t},\r\n\t{\r\n\t\tthickness: '7/32\"',\r\n\t\tvalue: '6',\r\n\t},\r\n\t{\r\n\t\tthickness: '3/8\"',\r\n\t\tvalue: '9',\r\n\t},\r\n\t{\r\n\t\tthickness: '1/2\"',\r\n\t\tvalue: '12',\r\n\t},\r\n];\r\n\r\nconst fabricatedThicknessOptions = [\r\n\t{\r\n\t\tthickness: '1\"',\r\n\t\tvalue: '1',\r\n\t},\r\n\t{\r\n\t\tthickness: '1.5\"',\r\n\t\tvalue: '1.5',\r\n\t},\r\n\t{\r\n\t\tthickness: '2\"',\r\n\t\tvalue: '2',\r\n\t},\r\n\t{\r\n\t\tthickness: '3\"',\r\n\t\tvalue: '3',\r\n\t},\r\n\t{\r\n\t\tthickness: '4\"',\r\n\t\tvalue: '4',\r\n\t},\r\n\t{\r\n\t\tthickness: '5\"',\r\n\t\tvalue: '5',\r\n\t},\r\n\t{\r\n\t\tthickness: '6\"',\r\n\t\tvalue: '6',\r\n\t},\r\n];\r\n\r\nconst finishOptions = [\r\n\t{\r\n\t\toption: 'Metal Finish',\r\n\t},\r\n\t{\r\n\t\toption: 'Painted Finish',\r\n\t},\r\n];\r\n\r\nconst stainlessSteelPolishedOptions = [\r\n\t{\r\n\t\toption: 'Standard (Face)',\r\n\t},\r\n\t{\r\n\t\toption: 'Premium (Face & Side)',\r\n\t},\r\n];\r\n\r\nconst metalFinishOptions = [\r\n\t{\r\n\t\toption: 'Stainless Steel Brushed',\r\n\t},\r\n\t{\r\n\t\toption: 'Stainless Steel Polished',\r\n\t},\r\n\t{\r\n\t\toption: 'Electroplated Gold Brushed',\r\n\t},\r\n\t{\r\n\t\toption: 'Electroplated Gold Polished',\r\n\t},\r\n\t{\r\n\t\toption: 'Electroplated Black Titanium Brushed',\r\n\t},\r\n\t{\r\n\t\toption: 'Electroplated Black Titanium Polished',\r\n\t},\r\n\t{\r\n\t\toption: 'Electroplated Bronze Brushed',\r\n\t},\r\n\t{\r\n\t\toption: 'Electroplated Red Copper Brushed',\r\n\t},\r\n];\r\n\r\nconst metalFinishColors = [\r\n\t{\r\n\t\tname: 'Stainless Steel Brushed',\r\n\t\tcolor: '#caccce',\r\n\t},\r\n\t{\r\n\t\tname: 'Stainless Steel Polished',\r\n\t\tcolor: '#caccce',\r\n\t},\r\n\t{\r\n\t\tname: 'Electroplated Gold Brushed',\r\n\t\tcolor: '#ffbf00',\r\n\t},\r\n\t{\r\n\t\tname: 'Electroplated Gold Polished',\r\n\t\tcolor: '#ffbf00',\r\n\t},\r\n\t{\r\n\t\tname: 'Electroplated Black Titanium Brushed',\r\n\t\tcolor: '#14130E',\r\n\t},\r\n\t{\r\n\t\tname: 'Electroplated Black Titanium Polished',\r\n\t\tcolor: '#14130E',\r\n\t},\r\n\t{\r\n\t\tname: 'Electroplated Bronze Brushed',\r\n\t\tcolor: '#CD7F32',\r\n\t},\r\n\t{\r\n\t\tname: 'Electroplated Red Copper Brushed',\r\n\t\tcolor: '#771B0C',\r\n\t},\r\n];\r\n\r\nconst metalInstallationOptions = [\r\n\t{\r\n\t\toption: 'Plain',\r\n\t},\r\n\t{\r\n\t\toption: 'Stud Mount',\r\n\t},\r\n\t{\r\n\t\toption: 'Stud with spacer',\r\n\t},\r\n];\r\n\r\nconst fabricatedLogoInstallationOptions = [\r\n\t{\r\n\t\toption: 'Plain Mount',\r\n\t},\r\n\t{\r\n\t\toption: 'Stud Mount',\r\n\t},\r\n];\r\n\r\nconst fabricatedMetalInstallationOptions = [\r\n\t{\r\n\t\toption: 'PVC Backing',\r\n\t},\r\n\t{\r\n\t\toption: 'Stud Mount',\r\n\t},\r\n\t{\r\n\t\toption: 'Stud with spacer',\r\n\t},\r\n];\r\n\r\nexport {\r\n\tfabricatedLogoInstallationOptions,\r\n\tfabricatedMetalInstallationOptions,\r\n\tfabricatedThicknessOptions,\r\n\tfinishOptions,\r\n\tmetalFinishColors,\r\n\tmetalFinishOptions,\r\n\tmetalInstallationOptions,\r\n\tmetalOptions,\r\n\tmetalThicknessOptions,\r\n\tstainlessSteelPolishedOptions,\r\n};\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Letters from './components/Letters';\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function PVCMetalLaminate() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'letters',\r\n\t\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tthickness: '',\r\n\t\t\t\t\tmetalLaminate: '',\r\n\t\t\t\t\tpvcBaseColor: { name: 'Black', color: '#000000' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\tfinishing: 'Matte',\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tconst savedStorage = JSON.parse(localStorage.getItem(storage));\r\n\t\t\t\tif (savedStorage?.length > 0) {\r\n\t\t\t\t\tsetSignage(savedStorage);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//window.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tcomments: '',\r\n\t\tmounting: '',\r\n\t\tthickness: '',\r\n\t\twaterproof: '',\r\n\t\tfinishing: 'Matte',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tpvcBaseColor: { name: 'Black', color: '#000000' },\r\n\t\tmetalLaminate: '',\r\n\t\tcustomColor: '',\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tsets: 1,\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tthickness_options: '',\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.type === 'letters' ? (\r\n\t\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport {\r\n\tcolorOptions,\r\n\tmetalFinishColors,\r\n} from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\n\r\nimport {\r\n\tfinishingOptions,\r\n\tmountingOptions,\r\n\tthicknessOptions,\r\n} from '../../pvcOptions';\r\n\r\nimport { QuoteContext } from '../PVCMetalLaminate';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n//const AcrylicLetterPricing = JSON.parse(NovaOptions.letter_x_logo_pricing);\r\n\r\nexport default function Letters({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\tconst [pvcBaseColor, setPvcBaseColor] = useState(item.pvcBaseColor);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(item.thickness);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [color, setColor] = useState('#000000');\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [customFont, setCustomFont] = useState(item.customFont);\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\r\n\tconst [metalLaminate, setMetalLaminate] = useState(item.metalLaminate);\r\n\tconst handleChangeMetalLaminate = (e) => {\r\n\t\tconst selectedLaminate = metalFinishColors.find(\r\n\t\t\t(laminate) => laminate.name === e.target.value\r\n\t\t);\r\n\t\t// Assuming setMetalLaminate and setColor are state setter functions\r\n\t\tsetMetalLaminate(selectedLaminate.name);\r\n\t\tsetColor(selectedLaminate.color);\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [mountingSelections, setMountingSelections] = useState(mountingOptions);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState({\r\n\t\tmin: 4,\r\n\t\tmax: 39,\r\n\t});\r\n\r\n\tconst colorRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\r\n\tconst letterPricing =\r\n\t\tNovaQuote.letter_pricing_table?.pricing_table.length > 0\r\n\t\t\t? convert_json(NovaQuote.letter_pricing_table.pricing_table)\r\n\t\t\t: [];\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif ('Outdoor (Waterproof)' === waterproof) {\r\n\t\t\tif ('Double-sided tape' === mounting) {\r\n\t\t\t\tsetMounting('');\r\n\t\t\t}\r\n\t\t\tlet newOptions = mountingOptions.filter(\r\n\t\t\t\t(option) => option.value !== 'Double-sided tape'\r\n\t\t\t);\r\n\r\n\t\t\tsetMountingSelections(newOptions);\r\n\t\t} else {\r\n\t\t\tsetMountingSelections(mountingOptions);\r\n\t\t}\r\n\t}, [waterproof]);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\tthickness: selectedThickness,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tpvcBaseColor: pvcBaseColor,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tcustomFont: customFont,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t\tmetalLaminate: metalLaminate,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeMounting = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\r\n\t\tif (parseInt(target) === 40 && parseInt(selectedLetterHeight) === 4) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\tletterPricing.length > 0 &&\r\n\t\t\tselectedLetterHeight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof\r\n\t\t) {\r\n\t\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 4];\r\n\r\n\t\t\tconst baseLetterPrice = pricingDetail[selectedThickness.thickness];\r\n\r\n\t\t\tlet totalLetterPrice = 0;\r\n\t\t\tconst lettersArray = letters.trim().split('');\r\n\t\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\t\tlettersArray.forEach((letter) => {\r\n\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\t// If the character is a space, set the price to 0 and skip further checks\r\n\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\t// Check for lowercase letter\r\n\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing; // 80% of the base price\r\n\t\t\t\t} else if (letter.match(/[A-Z]/)) {\r\n\t\t\t\t\t// Check for uppercase letter\r\n\t\t\t\t\t// Uppercase letters use 100% of base price, so no change needed\r\n\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\t// Check for small punctuation marks\r\n\t\t\t\t\tletterPrice *= smallPunctuations; // 30% of the base price\r\n\t\t\t\t} else if (letter.match(/[^a-zA-Z]/)) {\r\n\t\t\t\t\t// Check for symbol (not a letter or small punctuation)\r\n\t\t\t\t\t// Symbols use 100% of base price, so no change needed\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjusting for waterproof and finishing\r\n\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.03;\r\n\t\t\t\tletterPrice *= selectedFinishing === 'Gloss' ? 1.03 : 1;\r\n\t\t\t\tletterPrice *= mounting === 'Double-sided tape' ? 1.01 : 1;\r\n\t\t\t\tletterPrice *= pvcBaseColor?.name !== 'Black' ? 1.1 : 1;\r\n\r\n\t\t\t\ttotalLetterPrice += letterPrice;\r\n\t\t\t});\r\n\r\n\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\r\n\t\t\t\tlet spacer =\r\n\t\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\r\n\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\ttotalLetterPrice += spacer;\r\n\t\t\t}\r\n\r\n\t\t\ttotalLetterPrice *= sets;\r\n\r\n\t\t\tsetUsdPrice(parseFloat(totalLetterPrice).toFixed(2));\r\n\t\t\tsetCadPrice((totalLetterPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tselectedThickness,\r\n\t\tselectedFinishing,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tmounting,\r\n\t\tfont,\r\n\t\tsets,\r\n\t\tpvcBaseColor,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add your Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\t\tif (!selectedThickness) missingFields.push('Select Thickness');\r\n\r\n\t\tif (!metalLaminate) missingFields.push('Select Metal Laminate');\r\n\r\n\t\tif (!pvcBaseColor.name) missingFields.push('Select PVC Base Color');\r\n\t\tif (pvcBaseColor?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing');\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tfont,\r\n\t\tpvcBaseColor,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfontFileUrl,\r\n\t\tselectedFinishing,\r\n\t\tcustomColor,\r\n\t\tmounting,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t\tmetalLaminate,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tletters,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tpvcBaseColor,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfilePaths,\r\n\t\tfiles,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tselectedFinishing,\r\n\t\tcustomFont,\r\n\t\tcustomColor,\r\n\t\tmounting,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t\tmetalLaminate,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newHeightOptions = letterPricing?.filter((item) => {\r\n\t\t\tconst value = item[selectedThickness?.thickness];\r\n\t\t\treturn (\r\n\t\t\t\tvalue !== '' &&\r\n\t\t\t\tvalue !== null &&\r\n\t\t\t\tvalue !== undefined &&\r\n\t\t\t\tvalue !== false &&\r\n\t\t\t\tvalue !== 0 &&\r\n\t\t\t\tvalue !== '0' &&\r\n\t\t\t\t!isNaN(value)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (newHeightOptions.length > 0) {\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: newHeightOptions[0].Height,\r\n\t\t\t\tmax: newHeightOptions[newHeightOptions.length - 1].Height,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tuseOutsideClick([colorRef, fontRef], () => {\r\n\t\tif (!openColor && !openFont) return;\r\n\t\tsetOpenColor(false);\r\n\t\tsetOpenFont(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tpvcBaseColor?.name != 'Custom Color' && setCustomColor('');\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t}, [pvcBaseColor, font]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font === 'Custom font' ? '' : font,\r\n\t\t\t\t\t\t\tcolor: color,\r\n\t\t\t\t\t\t\ttextShadow: `-1px 1px 3px ${pvcBaseColor.color}, 0 0 1px #000000`,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={item.font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t\tsetOpenColor={setOpenColor}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={item.letterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Laminate\"\r\n\t\t\t\t\tonChange={handleChangeMetalLaminate}\r\n\t\t\t\t\toptions={metalFinishColors.map((laminate) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={laminate.name}\r\n\t\t\t\t\t\t\tselected={laminate.name === item.metalLaminate}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{laminate.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={metalLaminate}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tPVC BASE COLOR\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tpvcBaseColor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tpvcBaseColor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: pvcBaseColor.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{pvcBaseColor.name === '' ? 'CHOOSE OPTION' : pvcBaseColor.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetPvcBaseColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.name}\r\n\t\t\t\t\t\t\tselected={finishing.name === item.finishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.finishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == item.waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"MOUNTING OPTIONS\"\r\n\t\t\t\t\tonChange={handleOnChangeMounting}\r\n\t\t\t\t\toptions={mountingSelections.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={option.value}\r\n\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\tselected={option.value === mounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{pvcBaseColor?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport {\r\n\tcolorOptions,\r\n\tmetalFinishColors,\r\n} from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\n\r\nimport {\r\n\tfinishingOptions,\r\n\tmountingOptions,\r\n\tthicknessOptions,\r\n} from '../../pvcOptions';\r\n\r\nimport { QuoteContext } from '../PVCMetalLaminate';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(item.thickness);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [maxWidthHeight, setMaxWidthHeight] = useState(36);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst [fileName, setFileName] = useState(item.fileName);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [pvcBaseColor, setPvcBaseColor] = useState(item.pvcBaseColor);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [metalLaminate, setMetalLaminate] = useState(item.metalLaminate);\r\n\tconst handleChangeMetalLaminate = (e) => {\r\n\t\tsetMetalLaminate(e.target.value);\r\n\t};\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [mountingSelections, setMountingSelections] = useState(mountingOptions);\r\n\r\n\tconst [maxWidthOptions, setMaxWidthOptions] = useState(\r\n\t\tArray.from(\r\n\t\t\t{\r\n\t\t\t\tlength: maxWidthHeight,\r\n\t\t\t},\r\n\t\t\t(_, index) => {\r\n\t\t\t\tconst val = 4 + index;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t</option>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t)\r\n\t);\r\n\r\n\tconst colorRef = useRef(null);\r\n\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [comments, setComments] = useState('');\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\r\n\tconst handleOnChangeMounting = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tfunction handleComments(e) {\r\n\t\tsetComments(e.target.value);\r\n\t}\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (parseInt(selectedThickness.value) > 3) {\r\n\t\t\tsetMaxWidthHeight(42);\r\n\t\t} else {\r\n\t\t\tsetMaxWidthHeight(23);\r\n\t\t\tif (height > 25) {\r\n\t\t\t\tsetHeight('');\r\n\t\t\t}\r\n\t\t\tif (width > 25) {\r\n\t\t\t\tsetWidth('');\r\n\t\t\t}\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tthickness: selectedThickness,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t\tpvcBaseColor: pvcBaseColor,\r\n\t\t\t\t\tmetalLaminate: metalLaminate,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetComments(item.comments);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tcomments,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tmounting,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tselectedFinishing,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t\tmetalLaminate,\r\n\t\tpvcBaseColor,\r\n\t]);\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 4][height] : 0;\r\n\r\n\t\t\t\tlet multiplier = 0;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.03;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = parseFloat((computed * multiplier).toFixed(2));\r\n\r\n\t\t\t\ttotal *= selectedFinishing === 'Gloss' ? 1.03 : 1;\r\n\t\t\t\ttotal *= mounting === 'Double-sided tape' ? 1.01 : 1;\r\n\t\t\t\ttotal *= pvcBaseColor?.name !== 'Black' ? 1.1 : 1;\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total.toFixed(2)));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tmounting,\r\n\t\tpvcBaseColor,\r\n\t\tsets,\r\n\t]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!selectedThickness) missingFields.push('Select Acrylic Thickness');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\r\n\t\tif (!pvcBaseColor.name) missingFields.push('Select Color');\r\n\t\tif (pvcBaseColor?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing');\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\twidth,\r\n\t\tcomments,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\tmounting,\r\n\t\twaterproof,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tselectedFinishing,\r\n\t\tpvcBaseColor,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif ('Outdoor (Waterproof)' === waterproof) {\r\n\t\t\tif ('Double-sided tape' === mounting) {\r\n\t\t\t\tsetMounting('');\r\n\t\t\t}\r\n\t\t\tlet newOptions = mountingOptions.filter(\r\n\t\t\t\t(option) => option.value !== 'Double-sided tape'\r\n\t\t\t);\r\n\r\n\t\t\tsetMountingSelections(newOptions);\r\n\t\t} else {\r\n\t\t\tsetMountingSelections(mountingOptions);\r\n\t\t}\r\n\t}, [waterproof]);\r\n\r\n\tuseOutsideClick([colorRef], () => {\r\n\t\tif (!openColor) return;\r\n\t\tsetOpenColor(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tpvcBaseColor?.name != 'Custom Color' && setCustomColor('');\r\n\t}, [pvcBaseColor]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Thickness\"\r\n\t\t\t\t\tvalue={item.thickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === item.thickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Metal Laminate\"\r\n\t\t\t\t\tonChange={handleChangeMetalLaminate}\r\n\t\t\t\t\toptions={metalFinishColors.map((laminate) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={laminate.name}\r\n\t\t\t\t\t\t\tselected={laminate.name === item.metalLaminate}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{laminate.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={metalLaminate}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tPVC BASE COLOR\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tpvcBaseColor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tpvcBaseColor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: pvcBaseColor.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{pvcBaseColor.name === '' ? 'CHOOSE OPTION' : pvcBaseColor.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetPvcBaseColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.name}\r\n\t\t\t\t\t\t\tselected={finishing.name === item.finishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={(e) => setWaterproof(e.target.value)}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == item.waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeMounting}\r\n\t\t\t\t\toptions={mountingSelections.map((option) => (\r\n\t\t\t\t\t\t<option value={option.value} selected={option.value === mounting}>\r\n\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{pvcBaseColor?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Letters from './components/Letters';\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function PVCPainted() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'letters',\r\n\t\t\t\t\ttitle: 'LETTERS 1',\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tthickness: '',\r\n\t\t\t\t\tcolor: { name: '', color: '' },\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\tfinishing: 'Matte',\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tconst savedStorage = JSON.parse(localStorage.getItem(storage));\r\n\t\t\t\tif (savedStorage?.length > 0) {\r\n\t\t\t\t\tsetSignage(savedStorage);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//window.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tcomments: '',\r\n\t\tmounting: '',\r\n\t\tthickness: '',\r\n\t\twaterproof: '',\r\n\t\tfinishing: 'Matte',\r\n\t\tusdPrice: 0,\r\n\t\tcadPrice: 0,\r\n\t\tcolor: { name: '', color: '' },\r\n\t\tcustomColor: '',\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tsets: 1,\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\t// Create new signage with incremented title number\r\n\t\t\tif (type === 'letters') {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\tletters: '',\r\n\t\t\t\t\tfont: '',\r\n\t\t\t\t\tthickness_options: '',\r\n\t\t\t\t\tletterHeight: '',\r\n\t\t\t\t\tcustomFont: '',\r\n\t\t\t\t\tcustomColor: '',\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\targs = {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\t\twidth: '',\r\n\t\t\t\t\theight: '',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.type === 'letters' ? (\r\n\t\t\t\t\t\t\t\t<Letters key={item.id} item={item} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('letters')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LETTERS\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport FontsDropdown from '../../../../FontsDropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport UploadFont from '../../../../UploadFont';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\n\r\nimport {\r\n\tfinishingOptions,\r\n\tmountingOptions,\r\n\tthicknessOptions,\r\n} from '../../pvcOptions';\r\n\r\nimport { QuoteContext } from '../PVCPainted';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nconst lowerCasePricing = parseFloat(\r\n\tNovaQuote.lowercase_pricing ? NovaQuote.lowercase_pricing : 1\r\n);\r\nconst smallPunctuations = parseFloat(\r\n\tNovaQuote.small_punctuations_pricing\r\n\t\t? NovaQuote.small_punctuations_pricing\r\n\t\t: 1\r\n);\r\n//const AcrylicLetterPricing = JSON.parse(NovaOptions.letter_x_logo_pricing);\r\n\r\nexport default function Letters({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [letters, setLetters] = useState(item.letters);\r\n\tconst [comments, setComments] = useState(item.comments);\r\n\tconst [font, setFont] = useState(item.font);\r\n\tconst [openFont, setOpenFont] = useState(false);\r\n\tconst [color, setColor] = useState(item.color);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(item.thickness);\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\r\n\tconst [fontFileName, setFontFileName] = useState(item.fontFileName);\r\n\tconst [fontFileUrl, setFontFileUrl] = useState(item.fontFileUrl);\r\n\tconst [fontFilePath, setFontFilePath] = useState(item.fontFilePath);\r\n\tconst [fontFile, setFontFile] = useState(item.fontFile);\r\n\r\n\tconst [letterHeightOptions, setLetterHeightOptions] = useState([]);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [customFont, setCustomFont] = useState(item.customFont);\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\r\n\tconst [selectedLetterHeight, setSelectedLetterHeight] = useState(\r\n\t\titem.letterHeight\r\n\t);\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\r\n\tconst [mountingSelections, setMountingSelections] = useState(mountingOptions);\r\n\r\n\tconst [lettersHeight, setLettersHeight] = useState({\r\n\t\tmin: 4,\r\n\t\tmax: 39,\r\n\t});\r\n\r\n\tconst colorRef = useRef(null);\r\n\tconst fontRef = useRef(null);\r\n\r\n\tconst letterPricing =\r\n\t\tNovaQuote.letter_pricing_table?.pricing_table.length > 0\r\n\t\t\t? convert_json(NovaQuote.letter_pricing_table.pricing_table)\r\n\t\t\t: [];\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('Attempting to preload fonts...');\r\n\t\tasync function preloadFonts() {\r\n\t\t\ttry {\r\n\t\t\t\tawait loadingFonts();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Error loading fonts:', error);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpreloadFonts();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif ('Outdoor (Waterproof)' === waterproof) {\r\n\t\t\tif ('Double-sided tape' === mounting) {\r\n\t\t\t\tsetMounting('');\r\n\t\t\t}\r\n\t\t\tlet newOptions = mountingOptions.filter(\r\n\t\t\t\t(option) => option.value !== 'Double-sided tape'\r\n\t\t\t);\r\n\r\n\t\t\tsetMountingSelections(newOptions);\r\n\t\t} else {\r\n\t\t\tsetMountingSelections(mountingOptions);\r\n\t\t}\r\n\t}, [waterproof]);\r\n\r\n\tconst loadingFonts = async () => {\r\n\t\tconst loadPromises = NovaQuote.fonts.map((font) => loadFont(font));\r\n\t\tawait Promise.all(loadPromises);\r\n\t};\r\n\r\n\tasync function loadFont({ name, src }) {\r\n\t\tconst fontFace = new FontFace(name, `url(${src})`);\r\n\r\n\t\ttry {\r\n\t\t\tawait fontFace.load();\r\n\t\t\tdocument.fonts.add(fontFace);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(`Font ${name} failed to load`);\r\n\t\t}\r\n\t}\r\n\r\n\tconst headlineRef = useRef(null);\r\n\r\n\tconst adjustFontSize = () => {\r\n\t\tconst container = headlineRef.current.parentNode;\r\n\t\tconst headline = headlineRef.current;\r\n\r\n\t\t// Reset the font-size to the maximum desired font-size\r\n\t\theadline.style.fontSize = '96px';\r\n\r\n\t\t// Check if the headline is wider than its container\r\n\t\twhile (\r\n\t\t\theadline.scrollWidth > container.offsetWidth &&\r\n\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) > 0\r\n\t\t) {\r\n\t\t\t// Reduce the font-size by 1px until it fits\r\n\t\t\theadline.style.fontSize = `${\r\n\t\t\t\tparseFloat(window.getComputedStyle(headline).fontSize) - 1\r\n\t\t\t}px`;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tletters: letters,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tfont: font,\r\n\t\t\t\t\tthickness: selectedThickness,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\tletterHeight: selectedLetterHeight,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tfontFile: fontFile,\r\n\t\t\t\t\tfontFileName: fontFileName,\r\n\t\t\t\t\tfontFilePath: fontFilePath,\r\n\t\t\t\t\tfontFileUrl: fontFileUrl,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tcustomFont: customFont,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tconst handleOnChangeLetters = (e) => setLetters(() => e.target.value);\r\n\r\n\tconst handleComments = (e) => setComments(e.target.value);\r\n\r\n\tconst handleSelectFont = (value) => setFont(value);\r\n\r\n\tconst handleOnChangeMounting = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeWaterproof = (e) => setWaterproof(e.target.value);\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\r\n\t\tif (parseInt(target) === 40 && parseInt(selectedLetterHeight) === 4) {\r\n\t\t\tsetSelectedLetterHeight('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOnChangeLetterHeight = (e) => {\r\n\t\tsetSelectedLetterHeight(e.target.value);\r\n\t};\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\tletterPricing.length > 0 &&\r\n\t\t\tselectedLetterHeight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof\r\n\t\t) {\r\n\t\t\tconst pricingDetail = letterPricing[selectedLetterHeight - 4];\r\n\r\n\t\t\tconst baseLetterPrice = pricingDetail[selectedThickness.thickness];\r\n\r\n\t\t\tlet totalLetterPrice = 0;\r\n\t\t\tconst lettersArray = letters.trim().split('');\r\n\t\t\tconst noLowerCase = NovaQuote.no_lowercase.includes(font);\r\n\r\n\t\t\tlettersArray.forEach((letter) => {\r\n\t\t\t\tlet letterPrice = baseLetterPrice;\r\n\r\n\t\t\t\tif (letter === ' ') {\r\n\t\t\t\t\t// If the character is a space, set the price to 0 and skip further checks\r\n\t\t\t\t\tletterPrice = 0;\r\n\t\t\t\t} else if (letter.match(/[a-z]/)) {\r\n\t\t\t\t\t// Check for lowercase letter\r\n\t\t\t\t\tletterPrice *= noLowerCase ? 1 : lowerCasePricing; // 80% of the base price\r\n\t\t\t\t} else if (letter.match(/[A-Z]/)) {\r\n\t\t\t\t\t// Check for uppercase letter\r\n\t\t\t\t\t// Uppercase letters use 100% of base price, so no change needed\r\n\t\t\t\t} else if (letter.match(/[`~\"*,.\\-']/)) {\r\n\t\t\t\t\t// Check for small punctuation marks\r\n\t\t\t\t\tletterPrice *= smallPunctuations; // 30% of the base price\r\n\t\t\t\t} else if (letter.match(/[^a-zA-Z]/)) {\r\n\t\t\t\t\t// Check for symbol (not a letter or small punctuation)\r\n\t\t\t\t\t// Symbols use 100% of base price, so no change needed\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjusting for waterproof and finishing\r\n\t\t\t\tletterPrice *= waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.03;\r\n\t\t\t\tletterPrice *= selectedFinishing === 'Gloss' ? 1.03 : 1;\r\n\t\t\t\tletterPrice *= mounting === 'Double-sided tape' ? 1.01 : 1;\r\n\r\n\t\t\t\ttotalLetterPrice += letterPrice;\r\n\t\t\t});\r\n\r\n\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\r\n\t\t\t\tlet spacer =\r\n\t\t\t\t\ttotalLetterPrice * 1.02 > maxVal ? maxVal : totalLetterPrice * 1.02;\r\n\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\ttotalLetterPrice += spacer;\r\n\t\t\t}\r\n\r\n\t\t\ttotalLetterPrice *= sets;\r\n\r\n\t\t\tsetUsdPrice(parseFloat(totalLetterPrice).toFixed(2));\r\n\t\t\tsetCadPrice((totalLetterPrice * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\tselectedLetterHeight,\r\n\t\tselectedThickness,\r\n\t\tselectedFinishing,\r\n\t\tletters,\r\n\t\twaterproof,\r\n\t\tlettersHeight,\r\n\t\tmounting,\r\n\t\tfont,\r\n\t\tsets,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLetterHeightOptions(() =>\r\n\t\t\tArray.from(\r\n\t\t\t\t{\r\n\t\t\t\t\tlength: parseInt(lettersHeight.max) - parseInt(lettersHeight.min) + 1,\r\n\t\t\t\t},\r\n\t\t\t\t(_, index) => {\r\n\t\t\t\t\tconst val = parseInt(lettersHeight.min) + index;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tvalue={val}\r\n\t\t\t\t\t\t\tselected={val === selectedLetterHeight}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t);\r\n\t}, [lettersHeight, letterHeightOptions]);\r\n\r\n\tuseEffect(() => {\r\n\t\tadjustFontSize();\r\n\t}, [letters]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!letters) missingFields.push('Add your Line Text');\r\n\t\tif (!font) missingFields.push('Select Font');\r\n\t\tif (font == 'Custom font' && !fontFileUrl) {\r\n\t\t\tmissingFields.push('Upload your custom font.');\r\n\t\t}\r\n\t\tif (!selectedLetterHeight) missingFields.push('Select Letter Height');\r\n\t\tif (!selectedThickness) missingFields.push('Select Thickness');\r\n\t\tif (!color.name) missingFields.push('Select Color');\r\n\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing');\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\tletters,\r\n\t\tfont,\r\n\t\tcolor,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfontFileUrl,\r\n\t\tselectedFinishing,\r\n\t\tcustomColor,\r\n\t\tmounting,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tletters,\r\n\t\tcomments,\r\n\t\tfont,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tcolor,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tselectedLetterHeight,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfilePaths,\r\n\t\tfiles,\r\n\t\tfontFileUrl,\r\n\t\tfontFileName,\r\n\t\tfontFilePath,\r\n\t\tfontFile,\r\n\t\tselectedFinishing,\r\n\t\tcustomFont,\r\n\t\tcustomColor,\r\n\t\tmounting,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst newHeightOptions = letterPricing?.filter((item) => {\r\n\t\t\tconst value = item[selectedThickness?.thickness];\r\n\t\t\treturn (\r\n\t\t\t\tvalue !== '' &&\r\n\t\t\t\tvalue !== null &&\r\n\t\t\t\tvalue !== undefined &&\r\n\t\t\t\tvalue !== false &&\r\n\t\t\t\tvalue !== 0 &&\r\n\t\t\t\tvalue !== '0' &&\r\n\t\t\t\t!isNaN(value)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tif (newHeightOptions.length > 0) {\r\n\t\t\tsetLettersHeight(() => ({\r\n\t\t\t\tmin: newHeightOptions[0].Height,\r\n\t\t\t\tmax: newHeightOptions[newHeightOptions.length - 1].Height,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tuseOutsideClick([colorRef, fontRef], () => {\r\n\t\tif (!openColor && !openFont) return;\r\n\t\tsetOpenColor(false);\r\n\t\tsetOpenFont(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t\tfont != 'Custom font' && setFontFileUrl('');\r\n\t}, [color, font]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"mt-4 p-4 border border-gray-200 w-full h-72 flex align-middle justify-center rounded-md\">\r\n\t\t\t\t<div className=\"w-full self-center\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-center text-center\"\r\n\t\t\t\t\t\tref={headlineRef}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\tfontFamily: font === 'Custom font' ? '' : font,\r\n\t\t\t\t\t\t\tcolor: color.color,\r\n\t\t\t\t\t\t\ttextShadow: '0px 0px 1px rgba(0, 0, 0, 1)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{letters ? letters : 'PREVIEW'}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"py-4\">\r\n\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\tText\r\n\t\t\t\t</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"w-full py-4 px-2 color-black border-gray-200 text-sm font-bold rounded-md h-14 placeholder:text-slate-400 \"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tonChange={handleOnChangeLetters}\r\n\t\t\t\t\tmaxLength={100}\r\n\t\t\t\t\tvalue={letters}\r\n\t\t\t\t\tplaceholder=\"YOUR TEXT HERE\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<FontsDropdown\r\n\t\t\t\t\tfont={item.font}\r\n\t\t\t\t\tfontRef={fontRef}\r\n\t\t\t\t\topenFont={openFont}\r\n\t\t\t\t\tsetOpenFont={setOpenFont}\r\n\t\t\t\t\thandleSelectFont={handleSelectFont}\r\n\t\t\t\t\tsetOpenColor={setOpenColor}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{font == 'Custom font' && (\r\n\t\t\t\t\t<UploadFont\r\n\t\t\t\t\t\tsetFontFilePath={setFontFilePath}\r\n\t\t\t\t\t\tsetFontFile={setFontFile}\r\n\t\t\t\t\t\tfontFilePath={fontFilePath}\r\n\t\t\t\t\t\tfontFileUrl={fontFileUrl}\r\n\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\tsetFontFileUrl={setFontFileUrl}\r\n\t\t\t\t\t\tsetFontFileName={setFontFileName}\r\n\t\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Thickness\"\r\n\t\t\t\t\tvalue={selectedThickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === selectedThickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Letter Height\"\r\n\t\t\t\t\tonChange={handleOnChangeLetterHeight}\r\n\t\t\t\t\toptions={letterHeightOptions}\r\n\t\t\t\t\tvalue={item.letterHeight}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tColor\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.name}\r\n\t\t\t\t\t\t\tselected={finishing.name === item.finishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.finishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={handleOnChangeWaterproof}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == item.waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting Options\"\r\n\t\t\t\t\tonChange={handleOnChangeMounting}\r\n\t\t\t\t\toptions={mountingSelections.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tkey={option.value}\r\n\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\tselected={option.value === mounting}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-xs text-[#9F9F9F] pt-4\">\r\n\t\t\t\tWe size the letters in proportion to your chosen font. Some\r\n\t\t\t\tuppercase/lowercase letters may appear shorter or taller than your\r\n\t\t\t\tselected height on the form to maintain visual harmony.\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\n\r\nimport {\r\n\tfinishingOptions,\r\n\tmountingOptions,\r\n\tthicknessOptions,\r\n} from '../../pvcOptions';\r\n\r\nimport { QuoteContext } from '../PVCPainted';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(item.thickness);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [maxWidthHeight, setMaxWidthHeight] = useState(36);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst [fileName, setFileName] = useState(item.fileName);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [color, setColor] = useState(item.color);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\tconst [mounting, setMounting] = useState(item.mounting);\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [mountingSelections, setMountingSelections] = useState(mountingOptions);\r\n\r\n\tconst [maxWidthOptions, setMaxWidthOptions] = useState(\r\n\t\tArray.from(\r\n\t\t\t{\r\n\t\t\t\tlength: maxWidthHeight,\r\n\t\t\t},\r\n\t\t\t(_, index) => {\r\n\t\t\t\tconst val = 4 + index;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t</option>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t)\r\n\t);\r\n\r\n\tconst colorRef = useRef(null);\r\n\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [comments, setComments] = useState('');\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\r\n\tconst handleOnChangeMounting = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetMounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tfunction handleComments(e) {\r\n\t\tsetComments(e.target.value);\r\n\t}\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (parseInt(selectedThickness.value) > 3) {\r\n\t\t\tsetMaxWidthHeight(42);\r\n\t\t} else {\r\n\t\t\tsetMaxWidthHeight(23);\r\n\t\t\tif (height > 25) {\r\n\t\t\t\tsetHeight('');\r\n\t\t\t}\r\n\t\t\tif (width > 25) {\r\n\t\t\t\tsetWidth('');\r\n\t\t\t}\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tthickness: selectedThickness,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetComments(item.comments);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tcomments,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tmounting,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tselectedFinishing,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tcolor,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 4][height] : 0;\r\n\r\n\t\t\t\tlet multiplier = 0;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.03;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = parseFloat((computed * multiplier).toFixed(2));\r\n\r\n\t\t\t\ttotal *= selectedFinishing === 'Gloss' ? 1.03 : 1;\r\n\t\t\t\ttotal *= mounting === 'Double-sided tape' ? 1.01 : 1;\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total.toFixed(2)));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tmounting,\r\n\t\tsets,\r\n\t]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!selectedThickness) missingFields.push('Select Acrylic Thickness');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\r\n\t\tif (!color.name) missingFields.push('Select Color');\r\n\t\tif (color?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select Mounting');\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing');\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\twidth,\r\n\t\tcomments,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\tmounting,\r\n\t\twaterproof,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tselectedFinishing,\r\n\t\tcolor,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif ('Outdoor (Waterproof)' === waterproof) {\r\n\t\t\tif ('Double-sided tape' === mounting) {\r\n\t\t\t\tsetMounting('');\r\n\t\t\t}\r\n\t\t\tlet newOptions = mountingOptions.filter(\r\n\t\t\t\t(option) => option.value !== 'Double-sided tape'\r\n\t\t\t);\r\n\r\n\t\t\tsetMountingSelections(newOptions);\r\n\t\t} else {\r\n\t\t\tsetMountingSelections(mountingOptions);\r\n\t\t}\r\n\t}, [waterproof]);\r\n\r\n\tuseOutsideClick([colorRef], () => {\r\n\t\tif (!openColor) return;\r\n\t\tsetOpenColor(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tcolor?.name != 'Custom Color' && setCustomColor('');\r\n\t}, [color]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Thickness\"\r\n\t\t\t\t\tvalue={item.thickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === item.thickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tColor\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tcolor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{color.name === '' ? 'CHOOSE OPTION' : color.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={(e) => setWaterproof(e.target.value)}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == item.waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.name}\r\n\t\t\t\t\t\t\tselected={finishing.name === item.finishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Mounting\"\r\n\t\t\t\t\tonChange={handleOnChangeMounting}\r\n\t\t\t\t\toptions={mountingSelections.map((option) => (\r\n\t\t\t\t\t\t<option value={option.value} selected={option.value === mounting}>\r\n\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{color?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Sidebar from '../../../Sidebar';\r\nimport Signage from '../../../Signage';\r\nimport { PlusIcon } from '../../../svg/Icons';\r\n\r\nimport Logo from './components/Logo';\r\n\r\nexport const QuoteContext = createContext(null);\r\n\r\nexport default function PVCUv() {\r\n\tconst [signage, setSignage] = useState([]);\r\n\tconst [missing, setMissing] = useState([]);\r\n\tconst [tempFolder, setTempFolder] = useState('');\r\n\tconst tempFolderName = `temp-${Math.random().toString(36).substring(2, 9)}`;\r\n\tconst storage =\r\n\t\twindow.location.href + NovaQuote.user_id + NovaQuote.quote_div_id + 'x';\r\n\tconst localStorageQuote = localStorage.getItem(storage);\r\n\tconst savedStorage = JSON.parse(localStorageQuote);\r\n\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tfunction setDefaultSignage() {\r\n\t\tif (savedStorage?.length > 0) {\r\n\t\t\tsetSignage(savedStorage);\r\n\t\t} else {\r\n\t\t\tsetSignage([\r\n\t\t\t\t{\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttype: 'logo',\r\n\t\t\t\t\ttitle: 'LOGO 1',\r\n\t\t\t\t\tcomments: '',\r\n\t\t\t\t\tmounting: '',\r\n\t\t\t\t\twaterproof: '',\r\n\t\t\t\t\tthickness: '',\r\n\t\t\t\t\tpvcBaseColor: { name: 'Black', color: '#000000' },\r\n\t\t\t\t\tusdPrice: 0,\r\n\t\t\t\t\tcadPrice: 0,\r\n\t\t\t\t\tfilePaths: [],\r\n\t\t\t\t\tfileNames: [],\r\n\t\t\t\t\tfileUrls: [],\r\n\t\t\t\t\tfiles: [],\r\n\t\t\t\t\tfinishing: 'Matte',\r\n\t\t\t\t\tstudLength: '',\r\n\t\t\t\t\tspacerStandoffDistance: '',\r\n\t\t\t\t\tsets: 1,\r\n\t\t\t\t\tproduct: NovaQuote.product,\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting === '1') {\r\n\t\t\tconst currentSignage = JSON.parse(NovaQuote.signage);\r\n\r\n\t\t\tif (currentSignage) {\r\n\t\t\t\tconst savedStorage = JSON.parse(localStorage.getItem(storage));\r\n\t\t\t\tif (savedStorage?.length > 0) {\r\n\t\t\t\t\tsetSignage(savedStorage);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSignage(currentSignage);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//window.location.href = window.location.pathname;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetDefaultSignage();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst defaultArgs = {\r\n\t\tid: uuidv4(),\r\n\t\tcomments: '',\r\n\t\tmounting: '',\r\n\t\tthickness: '',\r\n\t\twaterproof: '',\r\n\t\tfinishing: 'Matte',\r\n\t\tusdPrice: 0,\r\n\t\tpvcBaseColor: { name: 'Black', color: '#000000' },\r\n\t\tcadPrice: 0,\r\n\t\tfilePaths: [],\r\n\t\tfileNames: [],\r\n\t\tfileUrls: [],\r\n\t\tfiles: [],\r\n\t\tstudLength: '',\r\n\t\tspacerStandoffDistance: '',\r\n\t\tsets: 1,\r\n\t\tproduct: NovaQuote.product,\r\n\t};\r\n\r\n\tfunction addSignage(type) {\r\n\t\tsetSignage((prevSignage) => {\r\n\t\t\t// Count how many signages of this type already exist\r\n\t\t\tconst count = prevSignage.filter((sign) => sign.type === type).length;\r\n\t\t\tlet args;\r\n\t\t\targs = {\r\n\t\t\t\ttype: type,\r\n\t\t\t\ttitle: `${type} ${count + 1}`.toUpperCase(),\r\n\t\t\t\twidth: '',\r\n\t\t\t\theight: '',\r\n\t\t\t};\r\n\t\t\tconst newSignage = {\r\n\t\t\t\t...defaultArgs,\r\n\t\t\t\t...args,\r\n\t\t\t};\r\n\r\n\t\t\t// Append the new signage to the array\r\n\t\t\treturn [...prevSignage, newSignage];\r\n\t\t});\r\n\t}\r\n\r\n\t/* useEffect(() => {\r\n\t\tlocalStorage.setItem(storage + '-x', JSON.stringify(signage));\r\n\t}, [signage]); */\r\n\r\n\tuseEffect(() => {\r\n\t\tif (NovaQuote.is_editting.length === 0) {\r\n\t\t\tconst savedStorageFolder = JSON.parse(\r\n\t\t\t\tlocalStorage.getItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\r\n\t\t\tif (savedStorageFolder?.length > 0) {\r\n\t\t\t\tsetTempFolder(savedStorageFolder);\r\n\t\t\t} else {\r\n\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\twindow.location.href + NovaQuote.user_id + '-folder',\r\n\t\t\t\t\tJSON.stringify(tempFolderName)\r\n\t\t\t\t);\r\n\t\t\t\tsetTempFolder(tempFolderName);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetTempFolder(`Q-${NovaQuote.current_quote_id}`);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QuoteContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tsignage,\r\n\t\t\t\tsetSignage,\r\n\t\t\t\taddSignage,\r\n\t\t\t\tmissing,\r\n\t\t\t\tsetMissing,\r\n\t\t\t\ttempFolder,\r\n\t\t\t\tisLoading,\r\n\t\t\t\tsetIsLoading,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div className=\"md:flex gap-6\">\r\n\t\t\t\t<div className=\"md:w-3/4 w-full\">\r\n\t\t\t\t\t{signage.map((item, index) => (\r\n\t\t\t\t\t\t<Signage\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tid={item.id}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\t\t\tsetSignage={setSignage}\r\n\t\t\t\t\t\t\taddSignage={addSignage}\r\n\t\t\t\t\t\t\tsetMissing={setMissing}\r\n\t\t\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Logo key={item.id} item={item} />\r\n\t\t\t\t\t\t</Signage>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<div className=\"flex gap-2\">\r\n\t\t\t\t\t\t{signage.length < 10 && (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"flex leading-none items-center rounded-md border bg-white border-gray-200 p-4 cursor-pointer w-[193px] justify-between hover:bg-slate-600 font-title text-black hover:text-white\"\r\n\t\t\t\t\t\t\t\tonClick={() => addSignage('logo')}\r\n\t\t\t\t\t\t\t\tstyle={{ border: '1px solid #d2d2d2d2' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD LOGO\r\n\t\t\t\t\t\t\t\t<PlusIcon />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Sidebar\r\n\t\t\t\t\tsignage={signage}\r\n\t\t\t\t\trequired={missing}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tstorage={storage}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</QuoteContext.Provider>\r\n\t);\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Dropdown from '../../../../Dropdown';\r\nimport UploadFiles from '../../../../UploadFiles';\r\nimport useOutsideClick from '../../../../utils/ClickOutside';\r\nimport { colorOptions } from '../../../../utils/ColorOptions';\r\nimport convert_json from '../../../../utils/ConvertJson';\r\nimport { getLogoPricingTablebyThickness } from '../../../../utils/Pricing';\r\nimport {\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\twaterProofOptions,\r\n} from '../../../../utils/SignageOptions';\r\n\r\nimport {\r\n\tfinishingOptions,\r\n\tmountingOptions,\r\n\tthicknessOptions,\r\n} from '../../pvcOptions';\r\n\r\nimport { QuoteContext } from '../PVCUv';\r\n\r\nconst exchangeRate = 1.3;\r\n\r\nexport default function Logo({ item }) {\r\n\tconst {\r\n\t\tsignage,\r\n\t\tsetSignage,\r\n\t\tsetMissing,\r\n\t\ttempFolder,\r\n\t\tisLoading,\r\n\t\tsetIsLoading,\r\n\t} = useContext(QuoteContext);\r\n\tconst [selectedThickness, setSelectedThickness] = useState(item.thickness);\r\n\tconst [width, setWidth] = useState(item.width);\r\n\tconst [maxWidthHeight, setMaxWidthHeight] = useState(36);\r\n\tconst [usdPrice, setUsdPrice] = useState(item.usdPrice);\r\n\tconst [cadPrice, setCadPrice] = useState(item.cadPrice);\r\n\tconst [fileName, setFileName] = useState(item.fileName);\r\n\tconst [openColor, setOpenColor] = useState(false);\r\n\tconst [pvcBaseColor, setPvcBaseColor] = useState(item.pvcBaseColor);\r\n\tconst [customColor, setCustomColor] = useState(item.customColor);\r\n\tconst [mounting, setmounting] = useState(item.mounting);\r\n\r\n\tconst [sets, setSets] = useState(item.sets);\r\n\tconst handleOnChangeSets = (e) => {\r\n\t\tsetSets(e.target.value);\r\n\t};\r\n\r\n\tconst [studLength, setStudLength] = useState(item.studLength);\r\n\r\n\tconst [spacerStandoffOptions, setSpacerStandoffOptions] = useState(\r\n\t\tspacerStandoffDefaultOptions\r\n\t);\r\n\tconst [spacerStandoffDistance, setSpacerStandoffDistance] = useState(\r\n\t\titem.spacerStandoffDistance\r\n\t);\r\n\r\n\tconst handleonChangeSpacerDistance = (e) => {\r\n\t\tsetSpacerStandoffDistance(e.target.value);\r\n\t};\r\n\r\n\tconst handleonChangeStudLength = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetStudLength(target); // Directly set the value without a callback\r\n\r\n\t\tif (target === '1.5\"') {\r\n\t\t\tsetSpacerStandoffOptions([{ value: '0.5\"' }, { value: '1\"' }]);\r\n\t\t\tif (!['0.5\"', '1\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if not one of the valid options\r\n\t\t\t}\r\n\t\t} else if (['3.2\"', '4\"'].includes(target)) {\r\n\t\t\tsetSpacerStandoffOptions([\r\n\t\t\t\t{ value: '0.5\"' },\r\n\t\t\t\t{ value: '1\"' },\r\n\t\t\t\t{ value: '1.5\"' },\r\n\t\t\t\t{ value: '2\"' },\r\n\t\t\t]);\r\n\t\t\tif (['3\"', '4\"'].includes(spacerStandoffDistance)) {\r\n\t\t\t\tsetSpacerStandoffDistance(''); // Reset if the distance is invalid for these options\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSpacerStandoffOptions(spacerStandoffDefaultOptions); // Reset to default if none of the conditions are met\r\n\t\t}\r\n\r\n\t\tif (target === '') {\r\n\t\t\tsetSpacerStandoffDistance(''); // Always reset if the target is empty\r\n\t\t}\r\n\t};\r\n\r\n\tconst [fileNames, setFileNames] = useState(item.fileNames);\r\n\tconst [fileUrls, setFileUrls] = useState(item.fileUrls);\r\n\tconst [filePaths, setFilePaths] = useState(item.filePaths);\r\n\tconst [files, setFiles] = useState(item.files);\r\n\tconst [selectedFinishing, setSelectedFinishing] = useState(item.finishing);\r\n\tconst [mountingSelections, setmountingSelections] = useState(mountingOptions);\r\n\r\n\tconst [maxWidthOptions, setMaxWidthOptions] = useState(\r\n\t\tArray.from(\r\n\t\t\t{\r\n\t\t\t\tlength: maxWidthHeight,\r\n\t\t\t},\r\n\t\t\t(_, index) => {\r\n\t\t\t\tconst val = 4 + index;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<option key={index} value={val}>\r\n\t\t\t\t\t\t{val}\"\r\n\t\t\t\t\t</option>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t)\r\n\t);\r\n\r\n\tconst colorRef = useRef(null);\r\n\r\n\tconst [height, setHeight] = useState(item.height);\r\n\tconst [comments, setComments] = useState('');\r\n\tconst [waterproof, setWaterproof] = useState(item.waterproof);\r\n\r\n\tconst handleOnChangemounting = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tsetmounting(target);\r\n\r\n\t\tif (target === 'Stud with spacer' || target === 'Stud Mount') {\r\n\t\t\tif (target === 'Stud Mount') {\r\n\t\t\t\tsetSpacerStandoffDistance('');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetStudLength('');\r\n\t\t\tsetSpacerStandoffDistance('');\r\n\t\t}\r\n\t};\r\n\r\n\tfunction handleComments(e) {\r\n\t\tsetComments(e.target.value);\r\n\t}\r\n\r\n\tconst handleOnChangeThickness = (e) => {\r\n\t\tconst target = e.target.value;\r\n\t\tconst selected = thicknessOptions.filter(\r\n\t\t\t(option) => option.value === target\r\n\t\t);\r\n\t\tsetSelectedThickness(() => selected[0]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (parseInt(selectedThickness.value) > 3) {\r\n\t\t\tsetMaxWidthHeight(42);\r\n\t\t} else {\r\n\t\t\tsetMaxWidthHeight(23);\r\n\t\t\tif (height > 25) {\r\n\t\t\t\tsetHeight('');\r\n\t\t\t}\r\n\t\t\tif (width > 25) {\r\n\t\t\t\tsetWidth('');\r\n\t\t\t}\r\n\t\t}\r\n\t}, [selectedThickness]);\r\n\r\n\tconst handleChangeFinishing = (e) => {\r\n\t\tsetSelectedFinishing(e.target.value);\r\n\t};\r\n\r\n\tfunction updateSignage() {\r\n\t\tconst updatedSignage = signage.map((sign) => {\r\n\t\t\tif (sign.id === item.id) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...sign,\r\n\t\t\t\t\tcomments: comments,\r\n\t\t\t\t\tthickness: selectedThickness,\r\n\t\t\t\t\tmounting: mounting,\r\n\t\t\t\t\twaterproof: waterproof,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t\tusdPrice: usdPrice,\r\n\t\t\t\t\tcadPrice: cadPrice,\r\n\t\t\t\t\tfinishing: selectedFinishing,\r\n\t\t\t\t\tfiles: files,\r\n\t\t\t\t\tfileNames: fileNames,\r\n\t\t\t\t\tfilePaths: filePaths,\r\n\t\t\t\t\tfileUrls: fileUrls,\r\n\t\t\t\t\tpvcBaseColor: pvcBaseColor,\r\n\t\t\t\t\tcustomColor: customColor,\r\n\t\t\t\t\tsets: sets,\r\n\t\t\t\t\tstudLength: studLength,\r\n\t\t\t\t\tspacerStandoffDistance: spacerStandoffDistance,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn sign;\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetSignage(() => updatedSignage);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetComments(item.comments);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateSignage();\r\n\t}, [\r\n\t\tcomments,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\twidth,\r\n\t\theight,\r\n\t\tmounting,\r\n\t\tusdPrice,\r\n\t\tcadPrice,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tselectedFinishing,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tpvcBaseColor,\r\n\t\tcustomColor,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tconst logoPricingObject = NovaQuote.logo_pricing_tables;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\twidth &&\r\n\t\t\theight &&\r\n\t\t\tselectedThickness &&\r\n\t\t\twaterproof &&\r\n\t\t\tlogoPricingObject !== null\r\n\t\t) {\r\n\t\t\tconst logoPricing = getLogoPricingTablebyThickness(\r\n\t\t\t\t`${selectedThickness.value}`,\r\n\t\t\t\tlogoPricingObject\r\n\t\t\t);\r\n\r\n\t\t\tif (logoPricing !== undefined) {\r\n\t\t\t\tconst logoPricingTable =\r\n\t\t\t\t\tlogoPricing !== undefined ? convert_json(logoPricing) : [];\r\n\t\t\t\tconst computed =\r\n\t\t\t\t\tlogoPricingTable.length > 0 ? logoPricingTable[width - 4][height] : 0;\r\n\r\n\t\t\t\tlet multiplier = 0;\r\n\t\t\t\tif (waterproof) {\r\n\t\t\t\t\tmultiplier = waterproof === 'Indoor (Not Waterproof)' ? 1 : 1.03;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet total = parseFloat((computed * multiplier).toFixed(2));\r\n\r\n\t\t\t\ttotal *= selectedFinishing === 'Gloss' ? 1.03 : 1;\r\n\t\t\t\ttotal *= mounting === 'Double-sided tape' ? 1.01 : 1;\r\n\t\t\t\ttotal *= pvcBaseColor?.name === 'Black' ? 1.2 : 1.1;\r\n\r\n\t\t\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\t\t\tlet maxVal = wcumcs_vars_data.currency === 'USD' ? 25 : 25 * 1.3;\r\n\t\t\t\t\tlet spacer = total * 1.02 > maxVal ? maxVal : total * 1.02;\r\n\r\n\t\t\t\t\tspacer = parseFloat(spacer.toFixed(2));\r\n\r\n\t\t\t\t\ttotal += spacer;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttotal *= sets;\r\n\r\n\t\t\t\tsetUsdPrice(parseFloat(total.toFixed(2)));\r\n\t\t\t\tsetCadPrice((total * parseFloat(exchangeRate)).toFixed(2));\r\n\t\t\t} else {\r\n\t\t\t\tsetUsdPrice(0);\r\n\t\t\t\tsetCadPrice(0);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetUsdPrice(0);\r\n\t\t\tsetCadPrice(0);\r\n\t\t}\r\n\t}, [\r\n\t\twidth,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\twaterproof,\r\n\t\tselectedFinishing,\r\n\t\tmounting,\r\n\t\tpvcBaseColor,\r\n\t\tmounting,\r\n\t\tsets,\r\n\t]);\r\n\r\n\tconst checkAndAddMissingFields = () => {\r\n\t\tconst missingFields = [];\r\n\r\n\t\tif (!selectedThickness) missingFields.push('Select Acrylic Thickness');\r\n\t\tif (!width) missingFields.push('Select Logo Width');\r\n\t\tif (!height) missingFields.push('Select Logo Height');\r\n\t\tif (!waterproof) missingFields.push('Select Waterproof');\r\n\t\tif (!mounting) missingFields.push('Select mounting');\r\n\r\n\t\tif (!pvcBaseColor.name) missingFields.push('Select PVC Base Color');\r\n\t\tif (pvcBaseColor?.name === 'Custom Color' && !customColor) {\r\n\t\t\tmissingFields.push('Add the Pantone color code of your custom color.');\r\n\t\t}\r\n\r\n\t\tif (mounting === 'Stud with spacer') {\r\n\t\t\tif (!studLength) missingFields.push('Select Stud Length');\r\n\r\n\t\t\tif (!spacerStandoffDistance) missingFields.push('Select Standoff Space');\r\n\t\t}\r\n\r\n\t\tif (!selectedFinishing) missingFields.push('Select Finishing');\r\n\r\n\t\tif (!fileUrls || fileUrls.length === 0)\r\n\t\t\tmissingFields.push('Upload a PDF/AI File');\r\n\r\n\t\tif (!sets) missingFields.push('Select Quantity');\r\n\r\n\t\tif (missingFields.length > 0) {\r\n\t\t\tsetMissing((prevMissing) => {\r\n\t\t\t\tconst existingIndex = prevMissing.findIndex(\r\n\t\t\t\t\t(entry) => entry.id === item.id\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (existingIndex !== -1) {\r\n\t\t\t\t\tconst updatedMissing = [...prevMissing];\r\n\t\t\t\t\tupdatedMissing[existingIndex] = {\r\n\t\t\t\t\t\t...updatedMissing[existingIndex],\r\n\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn updatedMissing;\r\n\t\t\t\t} else if (missingFields.length > 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t...prevMissing,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\ttitle: item.title,\r\n\t\t\t\t\t\t\tmissingFields: missingFields,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(prevMissing);\r\n\r\n\t\t\t\treturn prevMissing;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetMissing((current) => {\r\n\t\t\t\tconst updatedMissing = current.filter((sign) => sign.id !== item.id);\r\n\t\t\t\treturn updatedMissing;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckAndAddMissingFields();\r\n\t}, [\r\n\t\twidth,\r\n\t\tcomments,\r\n\t\theight,\r\n\t\tselectedThickness,\r\n\t\tmounting,\r\n\t\twaterproof,\r\n\t\tfileUrls,\r\n\t\tfileNames,\r\n\t\tfiles,\r\n\t\tfilePaths,\r\n\t\tselectedFinishing,\r\n\t\tsets,\r\n\t\tstudLength,\r\n\t\tspacerStandoffDistance,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif ('Outdoor (Waterproof)' === waterproof) {\r\n\t\t\tif ('Double-sided tape' === mounting) {\r\n\t\t\t\tsetmounting('');\r\n\t\t\t}\r\n\t\t\tlet newOptions = mountingOptions.filter(\r\n\t\t\t\t(option) => option.value !== 'Double-sided tape'\r\n\t\t\t);\r\n\r\n\t\t\tsetmountingSelections(newOptions);\r\n\t\t} else {\r\n\t\t\tsetmountingSelections(mountingOptions);\r\n\t\t}\r\n\t}, [waterproof]);\r\n\r\n\tuseOutsideClick([colorRef], () => {\r\n\t\tif (!openColor) return;\r\n\t\tsetOpenColor(false);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tpvcBaseColor?.name != 'Custom Color' && setCustomColor('');\r\n\t}, [pvcBaseColor]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"quote-grid mb-6\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Thickness\"\r\n\t\t\t\t\tvalue={item.thickness?.value}\r\n\t\t\t\t\tonChange={handleOnChangeThickness}\r\n\t\t\t\t\toptions={thicknessOptions.map((thickness) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={thickness.value}\r\n\t\t\t\t\t\t\tselected={thickness === item.thickness}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{thickness.thickness}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Width\"\r\n\t\t\t\t\tvalue={width}\r\n\t\t\t\t\tonChange={(e) => setWidth(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Logo Height\"\r\n\t\t\t\t\tvalue={height}\r\n\t\t\t\t\tonChange={(e) => setHeight(e.target.value)}\r\n\t\t\t\t\toptions={maxWidthOptions}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"px-[1px] relative\" ref={colorRef}>\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tPVC BASE COLOR\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex items-center px-2 select border border-gray-200 w-full rounded-md text-sm font-title uppercase h-[40px] cursor-pointer ${\r\n\t\t\t\t\t\t\tpvcBaseColor.name ? 'text-black' : 'text-[#dddddd]'\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={() => setOpenColor((prev) => !prev)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"rounded-full w-[18px] h-[18px] border mr-2\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\tpvcBaseColor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t: pvcBaseColor.color,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t{pvcBaseColor.name === '' ? 'CHOOSE OPTION' : pvcBaseColor.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{openColor && (\r\n\t\t\t\t\t\t<div className=\"absolute w-[205px] max-h-[180px] bg-white z-20 border border-gray-200 rounded-md overflow-y-auto\">\r\n\t\t\t\t\t\t\t{colorOptions.map((color) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"p-2 cursor-pointer flex items-center gap-2 hover:bg-slate-200 text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetPvcBaseColor(color);\r\n\t\t\t\t\t\t\t\t\t\t\tsetOpenColor(false);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-[18px] h-[18px] inline-block rounded-full border\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor.name == 'Custom Color'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `conic-gradient( from 90deg, violet, indigo, blue, green, yellow, orange, red, violet)`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: color.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t\t\t{color.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Finishing Options\"\r\n\t\t\t\t\tonChange={handleChangeFinishing}\r\n\t\t\t\t\toptions={finishingOptions.map((finishing) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={finishing.name}\r\n\t\t\t\t\t\t\tselected={finishing.name === item.finishing}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{finishing.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={selectedFinishing}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Environment\"\r\n\t\t\t\t\tonChange={(e) => setWaterproof(e.target.value)}\r\n\t\t\t\t\toptions={waterProofOptions.map((option) => (\r\n\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\tvalue={option.option}\r\n\t\t\t\t\t\t\tselected={option.option == item.waterproof}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{option.option}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={waterproof}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"mounting\"\r\n\t\t\t\t\tonChange={handleOnChangemounting}\r\n\t\t\t\t\toptions={mountingSelections.map((option) => (\r\n\t\t\t\t\t\t<option value={option.value} selected={option.value === mounting}>\r\n\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\tvalue={item.mounting}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"STANDOFF SPACE\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeSpacerDistance}\r\n\t\t\t\t\t\t\toptions={spacerStandoffOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.spacerStandoffDistance}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.spacerStandoffDistance}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{mounting === 'Stud Mount' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttitle=\"Stud Length\"\r\n\t\t\t\t\t\t\tonChange={handleonChangeStudLength}\r\n\t\t\t\t\t\t\toptions={studLengthOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\tselected={option.value == item.studLength}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{option.value}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\tvalue={item.studLength}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\ttitle=\"Quantity\"\r\n\t\t\t\t\tonChange={handleOnChangeSets}\r\n\t\t\t\t\toptions={setOptions}\r\n\t\t\t\t\tvalue={sets}\r\n\t\t\t\t\tonlyValue={true}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mounting === 'Stud with spacer' && (\r\n\t\t\t\t<div className=\"text-xs text-[#9F9F9F] mb-4\">\r\n\t\t\t\t\t*Note: The spacer will be black (default) or match the painted sign's\r\n\t\t\t\t\tcolor.\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"quote-grid\">\r\n\t\t\t\t{pvcBaseColor?.name == 'Custom Color' && (\r\n\t\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\t\tCustom Color\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md h-[40px] placeholder:text-slate-400\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={customColor}\r\n\t\t\t\t\t\t\tonChange={(e) => setCustomColor(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ADD THE PANTONE COLOR CODE\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"px-[1px] col-span-4\">\r\n\t\t\t\t\t<label className=\"uppercase font-title text-sm tracking-[1.4px] px-2\">\r\n\t\t\t\t\t\tCOMMENTS\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tclassName=\"w-full py-4 px-2 border-gray-200 color-black text-sm font-bold rounded-md placeholder:text-slate-400\"\r\n\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\tonChange={handleComments}\r\n\t\t\t\t\t\tplaceholder=\"ADD COMMENTS\"\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<UploadFiles\r\n\t\t\t\t\tsetFilePaths={setFilePaths}\r\n\t\t\t\t\tsetFiles={setFiles}\r\n\t\t\t\t\tfilePaths={filePaths}\r\n\t\t\t\t\tfileUrls={fileUrls}\r\n\t\t\t\t\tfileNames={fileNames}\r\n\t\t\t\t\tsetFileUrls={setFileUrls}\r\n\t\t\t\t\tsetFileNames={setFileNames}\r\n\t\t\t\t\ttempFolder={tempFolder}\r\n\t\t\t\t\tisLoading={isLoading}\r\n\t\t\t\t\tsetIsLoading={setIsLoading}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","export const finishingOptions = [\r\n\t{\r\n\t\tname: 'Matte',\r\n\t},\r\n\t{\r\n\t\tname: 'Gloss',\r\n\t},\r\n];\r\n\r\nexport const installationOptions = [\r\n\t{\r\n\t\tvalue: 'Plain',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Double-sided tape',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Pad - Combination All',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Stud Mount',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Stud with spacer',\r\n\t},\r\n];\r\n\r\nexport const mountingOptions = [\r\n\t{\r\n\t\tvalue: 'Plain',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Double-sided tape',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Pad - Combination All',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Stud Mount',\r\n\t},\r\n\t{\r\n\t\tvalue: 'Stud with spacer',\r\n\t},\r\n];\r\n\r\nexport const thicknessOptions = [\r\n\t{\r\n\t\tthickness: '1/2\"',\r\n\t\tvalue: '12mm',\r\n\t},\r\n\t{\r\n\t\tthickness: '3/4\"',\r\n\t\tvalue: '20mm',\r\n\t},\r\n\t{\r\n\t\tthickness: '1\"',\r\n\t\tvalue: '25mm',\r\n\t},\r\n\t{\r\n\t\tthickness: '1 1/2\"',\r\n\t\tvalue: '40mm',\r\n\t},\r\n];\r\n\r\nexport const metalLaminateOptions = [\r\n\t{\r\n\t\toption: 'Stainless Steel Brushed',\r\n\t},\r\n\t{\r\n\t\toption: 'Stainless Steel Polished',\r\n\t},\r\n\t{\r\n\t\toption: 'Black Titanium Brushed',\r\n\t},\r\n\t{\r\n\t\toption: 'Black Titanium Polished',\r\n\t},\r\n\t{\r\n\t\toption: 'Gold Brushed',\r\n\t},\r\n\t{\r\n\t\toption: 'Gold Polished',\r\n\t},\r\n];\r\n","export const CollapseIcon = () => (\r\n\t<svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\twidth=\"6\"\r\n\t\theight=\"11\"\r\n\t\tviewBox=\"0 0 6 11\"\r\n\t\tfill=\"none\"\r\n\t>\r\n\t\t<path\r\n\t\t\td=\"M0.933333 11L0 10.0375L3 6.94375L6 10.0375L5.06667 11L3 8.86875L0.933333 11ZM3 4.05625L0 0.9625L0.933333 0L3 2.13125L5.06667 0L6 0.9625L3 4.05625Z\"\r\n\t\t\tfill=\"black\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n\r\nexport const TrashIcon = () => (\r\n\t<svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\twidth=\"11\"\r\n\t\theight=\"13\"\r\n\t\tviewBox=\"0 0 11 13\"\r\n\t\tfill=\"none\"\r\n\t>\r\n\t\t<path\r\n\t\t\td=\"M0.6875 13V2.16667H0V0.722222H3.4375V0H7.5625V0.722222H11V2.16667H10.3125V13H0.6875ZM2.0625 11.5556H8.9375V2.16667H2.0625V11.5556ZM3.4375 10.1111H4.8125V3.61111H3.4375V10.1111ZM6.1875 10.1111H7.5625V3.61111H6.1875V10.1111Z\"\r\n\t\t\tfill=\"black\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n\r\nexport const ClearIcon = ({ loading }) => (\r\n\t<svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\tviewBox=\"0 0 16 16\"\r\n\t\tfill=\"currentColor\"\r\n\t\tclassName={`w-4 h-4 ${loading && 'animate-spin'}`}\r\n\t>\r\n\t\t<path\r\n\t\t\tfillRule=\"evenodd\"\r\n\t\t\td=\"M13.836 2.477a.75.75 0 0 1 .75.75v3.182a.75.75 0 0 1-.75.75h-3.182a.75.75 0 0 1 0-1.5h1.37l-.84-.841a4.5 4.5 0 0 0-7.08.932.75.75 0 0 1-1.3-.75 6 6 0 0 1 9.44-1.242l.842.84V3.227a.75.75 0 0 1 .75-.75Zm-.911 7.5A.75.75 0 0 1 13.199 11a6 6 0 0 1-9.44 1.241l-.84-.84v1.371a.75.75 0 0 1-1.5 0V9.591a.75.75 0 0 1 .75-.75H5.35a.75.75 0 0 1 0 1.5H3.98l.841.841a4.5 4.5 0 0 0 7.08-.932.75.75 0 0 1 1.025-.273Z\"\r\n\t\t\tclipRule=\"evenodd\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n\r\nexport const DuplicateIcon = () => (\r\n\t<svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\twidth=\"12\"\r\n\t\theight=\"14\"\r\n\t\tviewBox=\"0 0 12 14\"\r\n\t\tfill=\"none\"\r\n\t>\r\n\t\t<path\r\n\t\t\td=\"M2.82353 11.2V0H12V11.2H2.82353ZM4.23529 9.8H10.5882V1.4H4.23529V9.8ZM0 14V2.8H1.41176V12.6H9.17647V14H0Z\"\r\n\t\t\tfill=\"black\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n\r\nexport const PlusIcon = () => (\r\n\t<svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\twidth=\"14\"\r\n\t\theight=\"14\"\r\n\t\tviewBox=\"0 0 14 14\"\r\n\t\tfill=\"none\"\r\n\t>\r\n\t\t<line\r\n\t\t\tx1=\"7\"\r\n\t\t\ty1=\"1\"\r\n\t\t\tx2=\"7\"\r\n\t\t\ty2=\"13\"\r\n\t\t\tstroke=\"black\"\r\n\t\t\tstroke-width=\"2\"\r\n\t\t\tstroke-linecap=\"square\"\r\n\t\t\tstroke=\"currentColor\"\r\n\t\t/>\r\n\t\t<line\r\n\t\t\tx1=\"13\"\r\n\t\t\ty1=\"7\"\r\n\t\t\tx2=\"1\"\r\n\t\t\ty2=\"7\"\r\n\t\t\tstroke=\"black\"\r\n\t\t\tstroke-width=\"2\"\r\n\t\t\tstroke-linecap=\"square\"\r\n\t\t\tstroke=\"currentColor\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n\r\nexport const CloseIcon = () => (\r\n\t<svg\r\n\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\tfill=\"none\"\r\n\t\tviewBox=\"0 0 24 24\"\r\n\t\tstroke-width=\"1.5\"\r\n\t\tstroke=\"currentColor\"\r\n\t\tclass=\"w-6 h-6\"\r\n\t>\r\n\t\t<path\r\n\t\t\tstroke-linecap=\"round\"\r\n\t\t\tstroke-linejoin=\"round\"\r\n\t\t\td=\"M6 18L18 6M6 6l12 12\"\r\n\t\t/>\r\n\t</svg>\r\n);\r\n\r\nexport const LoadingIcon = ({ text }) => (\r\n\t<div className=\"flex justify-center items-center\">\r\n\t\t<svg\r\n\t\t\tclass=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\tfill=\"none\"\r\n\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t>\r\n\t\t\t<circle\r\n\t\t\t\tclass=\"opacity-25\"\r\n\t\t\t\tcx=\"12\"\r\n\t\t\t\tcy=\"12\"\r\n\t\t\t\tr=\"10\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tstroke-width=\"4\"\r\n\t\t\t></circle>\r\n\t\t\t<path\r\n\t\t\t\tclass=\"opacity-75\"\r\n\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n\t\t\t></path>\r\n\t\t</svg>\r\n\t\t{text}\r\n\t</div>\r\n);\r\n","import { useEffect } from 'react';\r\n\r\nexport default function useOutsideClick(refs, callback) {\r\n\tuseEffect(() => {\r\n\t\tfunction handleClickOutside(event) {\r\n\t\t\tif (\r\n\t\t\t\trefs.every((ref) => ref.current && !ref.current.contains(event.target))\r\n\t\t\t) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener('mousedown', handleClickOutside);\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('mousedown', handleClickOutside);\r\n\t\t};\r\n\t}, [refs, callback]);\r\n}\r\n","const colorOptions = [\r\n\t{\r\n\t\tname: 'Custom Color',\r\n\t\tcolor: '',\r\n\t},\r\n\t{\r\n\t\tname: 'White',\r\n\t\tcolor: '#ffffff',\r\n\t},\r\n\t{\r\n\t\tname: 'Black',\r\n\t\tcolor: '#000000',\r\n\t},\r\n\t{\r\n\t\tname: 'Dove Grey',\r\n\t\tcolor: '#6d6c6c',\r\n\t},\r\n\t{\r\n\t\tname: 'Grey',\r\n\t\tcolor: '#808080',\r\n\t},\r\n\t{\r\n\t\tname: 'Desert Sand',\r\n\t\tcolor: '#edc9af',\r\n\t},\r\n\t{\r\n\t\tname: 'Ivory',\r\n\t\tcolor: '#fffff0',\r\n\t},\r\n\t{\r\n\t\tname: 'Lemon Yellow',\r\n\t\tcolor: '#fffff0',\r\n\t},\r\n\t{\r\n\t\tname: 'Yellow',\r\n\t\tcolor: '#ffff00',\r\n\t},\r\n\t{\r\n\t\tname: 'Citrus Yellow',\r\n\t\tcolor: '#fef250',\r\n\t},\r\n\t{\r\n\t\tname: 'Sundance Yellow',\r\n\t\tcolor: '#ffae00',\r\n\t},\r\n\t{\r\n\t\tname: 'Schoolbus Yellow',\r\n\t\tcolor: '#e8a317',\r\n\t},\r\n\t{\r\n\t\tname: 'Orange',\r\n\t\tcolor: '#ffa500',\r\n\t},\r\n\t{\r\n\t\tname: 'Red-Orange',\r\n\t\tcolor: '#ff5349',\r\n\t},\r\n\t{\r\n\t\tname: 'Rampart Orange',\r\n\t\tcolor: '#ef5e54',\r\n\t},\r\n\t{\r\n\t\tname: 'Red',\r\n\t\tcolor: '#ff0000',\r\n\t},\r\n\t{\r\n\t\tname: 'Brick Red',\r\n\t\tcolor: '#cb4154',\r\n\t},\r\n\t{\r\n\t\tname: 'Black Cherry',\r\n\t\tcolor: '#5e0013',\r\n\t},\r\n\t{\r\n\t\tname: 'Maroon',\r\n\t\tcolor: '#800000',\r\n\t},\r\n\t{\r\n\t\tname: 'Magenta',\r\n\t\tcolor: '#ff00ff',\r\n\t},\r\n\t{\r\n\t\tname: 'Violet Toner',\r\n\t\tcolor: '#3d4d97',\r\n\t},\r\n\t{\r\n\t\tname: 'Purple',\r\n\t\tcolor: '#800080',\r\n\t},\r\n\t{\r\n\t\tname: 'Midnight Blue',\r\n\t\tcolor: '#191970',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Blue',\r\n\t\tcolor: '#00008b',\r\n\t},\r\n\t{\r\n\t\tname: 'Medium Blue',\r\n\t\tcolor: '#0000cd',\r\n\t},\r\n\t{\r\n\t\tname: 'Blue',\r\n\t\tcolor: '#0000ff',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Blue',\r\n\t\tcolor: '#add8e6',\r\n\t},\r\n\t{\r\n\t\tname: 'Marine Reef Blue',\r\n\t\tcolor: '#305279',\r\n\t},\r\n\t{\r\n\t\tname: 'Teal',\r\n\t\tcolor: '#008080',\r\n\t},\r\n\t{\r\n\t\tname: 'Safety Green',\r\n\t\tcolor: '#c6d219',\r\n\t},\r\n\t{\r\n\t\tname: 'Spring Green',\r\n\t\tcolor: '#00ff7f',\r\n\t},\r\n\t{\r\n\t\tname: 'Emerald Green',\r\n\t\tcolor: '#50c878',\r\n\t},\r\n\t{\r\n\t\tname: 'Federal Green',\r\n\t\tcolor: '#005d39',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Green',\r\n\t\tcolor: '#90ee90',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Green',\r\n\t\tcolor: '#013220',\r\n\t},\r\n\t{\r\n\t\tname: 'Hunter Green',\r\n\t\tcolor: '#355e3b',\r\n\t},\r\n\t{\r\n\t\tname: 'Brown',\r\n\t\tcolor: '#964b00',\r\n\t},\r\n];\r\n\r\nconst metalFinishColors = [\r\n\t{\r\n\t\tname: 'Stainless Steel Brushed',\r\n\t\tcolor: '#caccce',\r\n\t},\r\n\t{\r\n\t\tname: 'Stainless Steel Polished',\r\n\t\tcolor: '#caccce',\r\n\t},\r\n\t{\r\n\t\tname: 'Black Titanium Brushed',\r\n\t\tcolor: '#14130E',\r\n\t},\r\n\t{\r\n\t\tname: 'Black Titanium Polished',\r\n\t\tcolor: '#14130E',\r\n\t},\r\n\t{\r\n\t\tname: 'Gold Brushed',\r\n\t\tcolor: '#ffbf00',\r\n\t},\r\n\t{\r\n\t\tname: 'Gold Polished',\r\n\t\tcolor: '#ffbf00',\r\n\t},\r\n];\r\n\r\nconst whiteOptions = [\r\n\t{\r\n\t\toption: 'White',\r\n\t},\r\n\t{\r\n\t\toption: '3M Vinyl',\r\n\t},\r\n];\r\n\r\nconst translucentGraphicFilms = [\r\n\t{\r\n\t\tname: 'Ivory',\r\n\t\tcolor: '#ded1b4',\r\n\t\tcode: '3630-005',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Beige',\r\n\t\tcolor: '#c9bbae',\r\n\t\tcode: '3630-149',\r\n\t},\r\n\t{\r\n\t\tname: 'Silver',\r\n\t\tcolor: '#b5b4bc',\r\n\t\tcode: '3630-121',\r\n\t},\r\n\t{\r\n\t\tname: 'Gold Nugget',\r\n\t\tcolor: '#bf9152',\r\n\t\tcode: '3630-141',\r\n\t},\r\n\t{\r\n\t\tname: 'Gold Metallic',\r\n\t\tcolor: '#a4896d',\r\n\t\tcode: '3630-131',\r\n\t},\r\n\t{\r\n\t\tname: 'Bronze',\r\n\t\tcolor: '#b76e4b',\r\n\t\tcode: '3630-129',\r\n\t},\r\n\t{\r\n\t\tname: 'Shadow Grey',\r\n\t\tcolor: '#8b858a',\r\n\t\tcode: '3630-71',\r\n\t},\r\n\t{\r\n\t\tname: 'Silver Grey',\r\n\t\tcolor: '#858b91',\r\n\t\tcode: '3630-51',\r\n\t},\r\n\t{\r\n\t\tname: 'Slate Grey',\r\n\t\tcolor: '#4e6478',\r\n\t\tcode: '3630-61',\r\n\t},\r\n\t{\r\n\t\tname: 'Black',\r\n\t\tcolor: '#272e32',\r\n\t\tcode: '3630-22',\r\n\t},\r\n\t{\r\n\t\tname: 'Duranodic',\r\n\t\tcolor: '#444041',\r\n\t\tcode: '3630-69',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Brown',\r\n\t\tcolor: '#473434',\r\n\t\tcode: '3630-59',\r\n\t},\r\n\t{\r\n\t\tname: 'Rust Brown',\r\n\t\tcolor: '#62322d',\r\n\t\tcode: '3630-63',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Rust Brown',\r\n\t\tcolor: '#6f332a',\r\n\t\tcode: '3630-109',\r\n\t},\r\n\t{\r\n\t\tname: 'Burgundy',\r\n\t\tcolor: '#781729',\r\n\t\tcode: '3630-49',\r\n\t},\r\n\t{\r\n\t\tname: 'Raspberry',\r\n\t\tcolor: '#ae044b',\r\n\t\tcode: '3630-133',\r\n\t},\r\n\t{\r\n\t\tname: 'Vivid Rose',\r\n\t\tcolor: '#ca0f43',\r\n\t\tcode: '3630-78',\r\n\t},\r\n\t{\r\n\t\tname: 'Rose Mauve',\r\n\t\tcolor: '#d96690',\r\n\t\tcode: '3630-68',\r\n\t},\r\n\t{\r\n\t\tname: 'Cardinal Red',\r\n\t\tcolor: '#b10e22',\r\n\t\tcode: '3630-53',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Red',\r\n\t\tcolor: '#b40b22',\r\n\t\tcode: '3630-73',\r\n\t},\r\n\t{\r\n\t\tname: 'Red',\r\n\t\tcolor: '#bf1527',\r\n\t\tcode: '3630-33',\r\n\t},\r\n\t{\r\n\t\tname: 'Regal Red',\r\n\t\tcolor: '#be1632',\r\n\t\tcode: '3630-83',\r\n\t},\r\n\t{\r\n\t\tname: 'Poppy Red',\r\n\t\tcolor: '#d20d1a',\r\n\t\tcode: '3630-143',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Tomato Red',\r\n\t\tcolor: '#c90c15',\r\n\t\tcode: '3630-43',\r\n\t},\r\n\t{\r\n\t\tname: 'Orange',\r\n\t\tcolor: '#d53b14',\r\n\t\tcode: '3630-44',\r\n\t},\r\n\t{\r\n\t\tname: 'Tangerine',\r\n\t\tcolor: '#ed6c0b',\r\n\t\tcode: '3630-84',\r\n\t},\r\n\t{\r\n\t\tname: 'Kumquat Orange',\r\n\t\tcolor: '#a4896d',\r\n\t\tcode: '3630-74',\r\n\t},\r\n\t{\r\n\t\tname: 'Marigold',\r\n\t\tcolor: '#e59d00',\r\n\t\tcode: '3630-75',\r\n\t},\r\n\t{\r\n\t\tname: 'Sunflower',\r\n\t\tcolor: '#dd9603',\r\n\t\tcode: '3630-25',\r\n\t},\r\n\t{\r\n\t\tname: 'Golden Yellow',\r\n\t\tcolor: '#f0a901',\r\n\t\tcode: '3630-125',\r\n\t},\r\n\t{\r\n\t\tname: 'Yellow',\r\n\t\tcolor: '#ecbf00',\r\n\t\tcode: '3630-015',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Lemon Yellow',\r\n\t\tcolor: '#d3ce05',\r\n\t\tcode: '3630-115',\r\n\t},\r\n\t{\r\n\t\tname: 'Brilliant Green',\r\n\t\tcolor: '#43b110',\r\n\t\tcode: '3630-106',\r\n\t},\r\n\t{\r\n\t\tname: 'Lime Green',\r\n\t\tcolor: '#35b225',\r\n\t\tcode: '3630-136',\r\n\t},\r\n\t{\r\n\t\tname: 'Vivid Green',\r\n\t\tcolor: '#058342',\r\n\t\tcode: '3630-156',\r\n\t},\r\n\t{\r\n\t\tname: 'Light Kelly Green',\r\n\t\tcolor: '#009a6b',\r\n\t\tcode: '3630-146',\r\n\t},\r\n\t{\r\n\t\tname: 'Bright Jade Green',\r\n\t\tcolor: '#009b75',\r\n\t\tcode: '3630-116',\r\n\t},\r\n\t{\r\n\t\tname: 'Green',\r\n\t\tcolor: '#026031',\r\n\t\tcode: '3630-26',\r\n\t},\r\n\t{\r\n\t\tname: 'Holly Green',\r\n\t\tcolor: '#10502e',\r\n\t\tcode: '3630-76',\r\n\t},\r\n\t{\r\n\t\tname: 'Dark Emerald Green',\r\n\t\tcolor: '#09502c',\r\n\t\tcode: '3630-126',\r\n\t},\r\n\t{\r\n\t\tname: 'Torquioise',\r\n\t\tcolor: '#00898b',\r\n\t\tcode: '3630-236',\r\n\t},\r\n\t{\r\n\t\tname: 'Teal Green',\r\n\t\tcolor: '#00788b',\r\n\t\tcode: '3630-246',\r\n\t},\r\n\t{\r\n\t\tname: 'Evening Blue',\r\n\t\tcolor: '#879ac5',\r\n\t\tcode: '3630-317',\r\n\t},\r\n\t{\r\n\t\tname: 'Light European Blue',\r\n\t\tcolor: '#0978bb',\r\n\t\tcode: '3630-147',\r\n\t},\r\n\t{\r\n\t\tname: 'Olympic Blue',\r\n\t\tcolor: '#0478b6',\r\n\t\tcode: '3630-57',\r\n\t},\r\n\t{\r\n\t\tname: 'Process Blue',\r\n\t\tcolor: '#0773c2',\r\n\t\tcode: '3630-337',\r\n\t},\r\n\t{\r\n\t\tname: 'Intense Blue',\r\n\t\tcolor: '#0a5fb2',\r\n\t\tcode: '3630-127',\r\n\t},\r\n\t{\r\n\t\tname: 'Bright Blue',\r\n\t\tcolor: '#0248a1',\r\n\t\tcode: '3630-167',\r\n\t},\r\n\t{\r\n\t\tname: 'Bristol Blue',\r\n\t\tcolor: '#033998',\r\n\t\tcode: '3630-97',\r\n\t},\r\n\t{\r\n\t\tname: 'Sultan Blue',\r\n\t\tcolor: '#062285',\r\n\t\tcode: '3630-157',\r\n\t},\r\n\t{\r\n\t\tname: 'European Blue',\r\n\t\tcolor: '#152462',\r\n\t\tcode: '3630-137',\r\n\t},\r\n\t{\r\n\t\tname: 'Blue',\r\n\t\tcolor: '#0e1466',\r\n\t\tcode: '3630-36',\r\n\t},\r\n\t{\r\n\t\tname: 'Royal Blue',\r\n\t\tcolor: '#0e0173',\r\n\t\tcode: '3630-87',\r\n\t},\r\n\t{\r\n\t\tname: 'Plum Purple',\r\n\t\tcolor: '#502960',\r\n\t\tcode: '3630-128',\r\n\t},\r\n\t{\r\n\t\tname: 'Intense Magenta',\r\n\t\tcolor: '#a62579',\r\n\t\tcode: '3630-118',\r\n\t},\r\n\t{\r\n\t\tname: 'Pink',\r\n\t\tcolor: '#da6bb4',\r\n\t\tcode: '3630-108',\r\n\t},\r\n];\r\n\r\nexport {\r\n\tcolorOptions,\r\n\tmetalFinishColors,\r\n\ttranslucentGraphicFilms,\r\n\twhiteOptions,\r\n};\r\n","export default function convert_json(tableString) {\r\n\tconst rows = tableString.trim().split('\\n');\r\n\r\n\t// Use the first row as headers\r\n\tconst headers = rows[0].trim().split('\\t');\r\n\r\n\t// Map over the remaining rows to create objects\r\n\treturn rows.slice(1).map((row) => {\r\n\t\tconst values = row.split('\\t');\r\n\t\tlet obj = headers.reduce((acc, header, index) => {\r\n\t\t\t// Convert to the appropriate type; assuming all non-header values are numbers\r\n\t\t\tacc[header] = values[index]\r\n\t\t\t\t? parseFloat(values[index].replace(/,/g, ''))\r\n\t\t\t\t: null;\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t\treturn obj;\r\n\t});\r\n}\r\n","export const fontDefaultOptions = {\r\n\tpopular_fonts:\r\n\t\t'Arial,Futura,Helvetica,Garamond,Palatino,Optima,Montserrat,Patua One,Bebas Neue,Versa',\r\n\tfonts:\r\n\t\t'Antonio Bold,Arial Bold,Arial Regular,Arial Rounded,Bai Jamjeree Semibold,Bebas Neue,Boogaloo Regular,Century Schoolbook,Chateau de Garage,Coiny Regular,Comfortaa,Cooper Black,Fredoka,Futura Bold Italic,Futura Extra Black,Garamond Bold,Garamond Regular,Heavitas,Helvetica Bold,Helvetica Regular,Malvie,Montserrat,Muloka Karesh,Optima,Optima Semibold,Palatino Semibold,Patua One,Segoe Print Bold,Times New Roman,Trajan Bold,Twentieth Century,Versa,Zilla Slab Semibold',\r\n};\r\n","export function getLogoPricingTablebyThickness(thickness, logoPricingObject) {\r\n\tconst table = logoPricingObject?.find(\r\n\t\t(element) => element.logo_pricing.logo_size === thickness\r\n\t);\r\n\r\n\treturn table ? table.logo_pricing.logo_pricing_table : undefined;\r\n}\r\n\r\nexport function getLetterPricingTableByTitle(title, letterPricingObject) {\r\n\tconst table = letterPricingObject?.find(\r\n\t\t(element) => element.letter_pricing.title === title\r\n\t);\r\n\r\n\treturn table ? table.letter_pricing.letter_pricing_table : undefined;\r\n}\r\n","const processQuote = async (formData) => {\r\n\ttry {\r\n\t\tconst response = await fetch(NovaQuote.ajax_url, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tcredentials: 'same-origin',\r\n\t\t\theaders: {\r\n\t\t\t\t'Cache-Control': 'no-cache',\r\n\t\t\t},\r\n\t\t\tbody: formData,\r\n\t\t});\r\n\r\n\t\tconst data = await response.json();\r\n\t\tconsole.log(data); // Optional: to log the response data for debugging\r\n\t\treturn data;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error:', error);\r\n\t\treturn 'error'; // Return 'error' in case of an exception\r\n\t}\r\n};\r\n\r\nconst SignageCount = (signage, type) =>\r\n\tsignage.filter((sign) => sign.type === type).length;\r\n\r\nexport { SignageCount, processQuote };\r\n","const defaultFinishOptions = [\r\n\t{\r\n\t\tname: 'Matte',\r\n\t},\r\n\t{\r\n\t\tname: 'Gloss',\r\n\t},\r\n];\r\n\r\nconst thicknessOptions = [\r\n\t{\r\n\t\tthickness: '1/8\"',\r\n\t\tvalue: '3',\r\n\t},\r\n\t{\r\n\t\tthickness: '1/4\"',\r\n\t\tvalue: '6',\r\n\t},\r\n\t{\r\n\t\tthickness: '3/8\"',\r\n\t\tvalue: '9',\r\n\t},\r\n\t{\r\n\t\tthickness: '1/2\"',\r\n\t\tvalue: '12',\r\n\t},\r\n\t{\r\n\t\tthickness: '3/4\"',\r\n\t\tvalue: '19',\r\n\t},\r\n\t{\r\n\t\tthickness: '1\"',\r\n\t\tvalue: '25',\r\n\t},\r\n\t{\r\n\t\tthickness: '1.5\"',\r\n\t\tvalue: '38',\r\n\t},\r\n];\r\n\r\nconst metalThicknessOptions = [\r\n\t{\r\n\t\tthickness: '1/8\"',\r\n\t\tvalue: '3',\r\n\t},\r\n\t{\r\n\t\tthickness: '7/32\"',\r\n\t\tvalue: '6',\r\n\t},\r\n\t{\r\n\t\tthickness: '3/8\"',\r\n\t\tvalue: '9',\r\n\t},\r\n\t{\r\n\t\tthickness: '1/2\"',\r\n\t\tvalue: '12',\r\n\t},\r\n\t{\r\n\t\tthickness: '3/4\"',\r\n\t\tvalue: '20',\r\n\t},\r\n\t{\r\n\t\tthickness: '1\"',\r\n\t\tvalue: '26',\r\n\t},\r\n];\r\n\r\nconst metalFinishOptions = [\r\n\t{\r\n\t\toption: 'Brushed',\r\n\t},\r\n\t{\r\n\t\toption: 'Painted',\r\n\t},\r\n];\r\n\r\nconst waterProofOptions = [\r\n\t{\r\n\t\toption: 'Indoor (Not Waterproof)',\r\n\t},\r\n\t{\r\n\t\toption: 'Outdoor (Waterproof)',\r\n\t},\r\n];\r\n\r\nconst mountingDefaultOptions = [\r\n\t{\r\n\t\tmounting_option: 'Plain',\r\n\t},\r\n\t{\r\n\t\tmounting_option: 'Double-sided tape',\r\n\t},\r\n\t{\r\n\t\tmounting_option: 'Pad',\r\n\t},\r\n\t{\r\n\t\tmounting_option: 'Pad - Combination All',\r\n\t},\r\n\t{\r\n\t\tmounting_option: 'Stud Mount',\r\n\t},\r\n\t{\r\n\t\tmounting_option: 'Stud with spacer',\r\n\t},\r\n];\r\n\r\nconst installationDefaultOptions = [\r\n\t{\r\n\t\toption: 'Plain',\r\n\t},\r\n\t{\r\n\t\toption: 'Double-sided tape',\r\n\t},\r\n\t{\r\n\t\toption: 'Pad',\r\n\t},\r\n\t{\r\n\t\toption: 'Pad - Combination All',\r\n\t},\r\n\t{\r\n\t\toption: 'Stud Mount',\r\n\t},\r\n\t{\r\n\t\toption: 'Stud with spacer',\r\n\t},\r\n];\r\n\r\nconst metalInstallationOptions = [\r\n\t{\r\n\t\toption: 'Plain',\r\n\t},\r\n\t{\r\n\t\toption: 'Stud Mount',\r\n\t},\r\n\t{\r\n\t\toption: 'Stud with spacer',\r\n\t},\r\n];\r\n\r\nconst calculateMountingOptions = (\r\n\tselectedThickness,\r\n\tsetSelectedMounting,\r\n\tselectedMounting,\r\n\twaterproof\r\n) => {\r\n\tlet newMountingOptions = mountingDefaultOptions;\r\n\tlet updatedSelectedMounting = selectedMounting;\r\n\r\n\tif (selectedThickness && selectedThickness.value === '3') {\r\n\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t(option) =>\r\n\t\t\t\toption.mounting_option !== 'Stud Mount' &&\r\n\t\t\t\toption.mounting_option !== 'Stud with spacer'\r\n\t\t);\r\n\t}\r\n\r\n\tif (waterproof === 'Outdoor (Waterproof)') {\r\n\t\tnewMountingOptions = newMountingOptions.filter(\r\n\t\t\t(option) => option.mounting_option !== 'Double-sided tape'\r\n\t\t);\r\n\t\tif (updatedSelectedMounting === 'Double-sided tape') {\r\n\t\t\tupdatedSelectedMounting = newMountingOptions[0]?.mounting_option ?? '';\r\n\t\t}\r\n\t}\r\n\r\n\treturn { newMountingOptions, updatedSelectedMounting };\r\n};\r\n\r\nconst piecesOptions = ['30 pieces or fewer'];\r\n\r\nconst setOptions = Array.from(\r\n\t{\r\n\t\tlength: 100,\r\n\t},\r\n\t(_, index) => {\r\n\t\tconst val = 1 + index;\r\n\t\treturn (\r\n\t\t\t<option key={index} value={val}>\r\n\t\t\t\t{val}\r\n\t\t\t</option>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nconst spacerStandoffDefaultOptions = [\r\n\t{\r\n\t\tvalue: '0.5\"',\r\n\t},\r\n\t{\r\n\t\tvalue: '1\"',\r\n\t},\r\n\t{\r\n\t\tvalue: '1.5\"',\r\n\t},\r\n\t{\r\n\t\tvalue: '2\"',\r\n\t},\r\n\t{\r\n\t\tvalue: '3\"',\r\n\t},\r\n\t{\r\n\t\tvalue: '4\"',\r\n\t},\r\n];\r\n\r\nconst studLengthOptions = [\r\n\t{\r\n\t\tvalue: '1.5\"',\r\n\t},\r\n\t{\r\n\t\tvalue: '3.2\"',\r\n\t},\r\n\t{\r\n\t\tvalue: '4\"',\r\n\t},\r\n\t{\r\n\t\tvalue: '6\"',\r\n\t},\r\n];\r\n\r\nexport {\r\n\tcalculateMountingOptions,\r\n\tdefaultFinishOptions,\r\n\tinstallationDefaultOptions,\r\n\tmetalFinishOptions,\r\n\tmetalInstallationOptions,\r\n\tmetalThicknessOptions,\r\n\tmountingDefaultOptions,\r\n\tpiecesOptions,\r\n\tsetOptions,\r\n\tspacerStandoffDefaultOptions,\r\n\tstudLengthOptions,\r\n\tthicknessOptions,\r\n\twaterProofOptions,\r\n};\r\n","export const renameFolder = async (oldPath, newPath) => {\r\n\tif (!oldPath || !newPath) return false;\r\n\tconst accessToken = await getRefreshToken();\r\n\tif (!accessToken) {\r\n\t\tconsole.error('Failed to get access token');\r\n\t\treturn false; // indicate failure\r\n\t}\r\n\r\n\tconst moveUrl = 'https://api.dropboxapi.com/2/files/move_v2';\r\n\tconst moveParams = JSON.stringify({\r\n\t\tfrom_path: oldPath,\r\n\t\tto_path: newPath,\r\n\t\tautorename: false,\r\n\t});\r\n\r\n\ttry {\r\n\t\tconst moveResponse = await fetch(moveUrl, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: moveParams,\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${accessToken}`,\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tif (!moveResponse.ok) {\r\n\t\t\tconst error = await moveResponse.text(); // Get the text of the error response\r\n\t\t\tconsole.error('Failed to move folder. Response:', error);\r\n\t\t\tthrow new Error('Failed to move folder');\r\n\t\t}\r\n\r\n\t\tconst moveData = await moveResponse.json();\r\n\t\tconsole.log('Folder moved successfully:', moveData);\r\n\t\treturn true; // indicate success\r\n\t} catch (error) {\r\n\t\tconsole.error('Error moving folder:', error);\r\n\t\treturn false; // indicate failure\r\n\t}\r\n};\r\n\r\nexport const getRefreshToken = async () => {\r\n\tconst clientId = NovaQuote.dropbox_app_key;\r\n\tconst clientSecret = NovaQuote.dropbox_secret;\r\n\tconst refreshToken = NovaQuote.dropbox_refresh_token;\r\n\r\n\tconst url = 'https://api.dropboxapi.com/oauth2/token';\r\n\tconst params = new URLSearchParams({\r\n\t\tgrant_type: 'refresh_token',\r\n\t\trefresh_token: refreshToken,\r\n\t\tclient_id: clientId,\r\n\t\tclient_secret: clientSecret,\r\n\t});\r\n\r\n\ttry {\r\n\t\tconst response = await fetch(url, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: params,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tif (!response.ok) {\r\n\t\t\tconst error = await response.text();\r\n\t\t\tconsole.error('Error getting access token:', error);\r\n\t\t\tthrow new Error('Network response was not ok');\r\n\t\t}\r\n\r\n\t\tconst data = await response.json();\r\n\t\treturn data.access_token;\r\n\t} catch (error) {\r\n\t\tconsole.error('Error:', error);\r\n\t\treturn null;\r\n\t}\r\n};\r\n\r\nexport const checkAndCreateFolder = async (folderPath) => {\r\n\tconst accessToken = await getRefreshToken();\r\n\tif (!accessToken) {\r\n\t\tconsole.error('Failed to get access token');\r\n\t\treturn false; // indicate failure\r\n\t}\r\n\r\n\ttry {\r\n\t\tlet response = await fetch(\r\n\t\t\t'https://api.dropboxapi.com/2/files/get_metadata',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({ path: folderPath }),\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tif (response.ok) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tresponse = await fetch(\r\n\t\t\t'https://api.dropboxapi.com/2/files/create_folder_v2',\r\n\t\t\t{\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${accessToken}`,\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({ path: folderPath }),\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tconst data = await response.json();\r\n\r\n\t\tif (!response.ok) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\tdata.error_summary || 'Unknown error during folder creation'\r\n\t\t\t);\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('Error:', error);\r\n\t}\r\n};\r\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","var currentNonce;\nexport var setNonce = function (nonce) {\n    currentNonce = nonce;\n};\nexport var getNonce = function () {\n    if (currentNonce) {\n        return currentNonce;\n    }\n    if (typeof __webpack_nonce__ !== 'undefined') {\n        return __webpack_nonce__;\n    }\n    return undefined;\n};\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","import * as React from 'react';\nimport { styleSingleton } from 'react-style-singleton';\nimport { fullWidthClassName, zeroRightClassName, noScrollbarsClassName, removedBarSizeVariable } from './constants';\nimport { getGapWidth } from './utils';\nvar Style = styleSingleton();\n// important tip - once we measure scrollBar width and remove them\n// we could not repeat this operation\n// thus we are using style-singleton - only the first \"yet correct\" style will be applied.\nvar getStyles = function (_a, allowRelative, gapMode, important) {\n    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    return \"\\n  .\".concat(noScrollbarsClassName, \" {\\n   overflow: hidden \").concat(important, \";\\n   padding-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  body {\\n    overflow: hidden \").concat(important, \";\\n    overscroll-behavior: contain;\\n    \").concat([\n        allowRelative && \"position: relative \".concat(important, \";\"),\n        gapMode === 'margin' &&\n            \"\\n    padding-left: \".concat(left, \"px;\\n    padding-top: \").concat(top, \"px;\\n    padding-right: \").concat(right, \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n    \"),\n        gapMode === 'padding' && \"padding-right: \".concat(gap, \"px \").concat(important, \";\"),\n    ]\n        .filter(Boolean)\n        .join(''), \"\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" {\\n    right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" {\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" .\").concat(zeroRightClassName, \" {\\n    right: 0 \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" .\").concat(fullWidthClassName, \" {\\n    margin-right: 0 \").concat(important, \";\\n  }\\n  \\n  body {\\n    \").concat(removedBarSizeVariable, \": \").concat(gap, \"px;\\n  }\\n\");\n};\n/**\n * Removes page scrollbar and blocks page scroll when mounted\n */\nexport var RemoveScrollBar = function (props) {\n    var noRelative = props.noRelative, noImportant = props.noImportant, _a = props.gapMode, gapMode = _a === void 0 ? 'margin' : _a;\n    /*\n     gap will be measured on every component mount\n     however it will be used only by the \"first\" invocation\n     due to singleton nature of <Style\n     */\n    var gap = React.useMemo(function () { return getGapWidth(gapMode); }, [gapMode]);\n    return React.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? '!important' : '') });\n};\n","export var zeroRightClassName = 'right-scroll-bar-position';\nexport var fullWidthClassName = 'width-before-scroll-bar';\nexport var noScrollbarsClassName = 'with-scroll-bars-hidden';\n/**\n * Name of a CSS variable containing the amount of \"hidden\" scrollbar\n * ! might be undefined ! use will fallback!\n */\nexport var removedBarSizeVariable = '--removed-body-scroll-bar-size';\n","import { RemoveScrollBar } from './component';\nimport { zeroRightClassName, fullWidthClassName, noScrollbarsClassName, removedBarSizeVariable } from './constants';\nimport { getGapWidth } from './utils';\nexport { RemoveScrollBar, zeroRightClassName, fullWidthClassName, noScrollbarsClassName, removedBarSizeVariable, getGapWidth, };\n","export var zeroGap = {\n    left: 0,\n    top: 0,\n    right: 0,\n    gap: 0,\n};\nvar parse = function (x) { return parseInt(x || '', 10) || 0; };\nvar getOffset = function (gapMode) {\n    var cs = window.getComputedStyle(document.body);\n    var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];\n    var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];\n    var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];\n    return [parse(left), parse(top), parse(right)];\n};\nexport var getGapWidth = function (gapMode) {\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    if (typeof window === 'undefined') {\n        return zeroGap;\n    }\n    var offsets = getOffset(gapMode);\n    var documentWidth = document.documentElement.clientWidth;\n    var windowWidth = window.innerWidth;\n    return {\n        left: offsets[0],\n        top: offsets[1],\n        right: offsets[2],\n        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0]),\n    };\n};\n","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScroll } from './UI';\nimport SideCar from './sidecar';\nvar ReactRemoveScroll = React.forwardRef(function (props, ref) { return (React.createElement(RemoveScroll, __assign({}, props, { ref: ref, sideCar: SideCar }))); });\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nexport default ReactRemoveScroll;\n","import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) { return x[0] === y[0] && x[1] === y[1]; };\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\"); };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(function () { return styleSingleton(); })[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\".concat(id));\n            var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\".concat(id)); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\".concat(id));\n                allow_1.forEach(function (el) { return el.classList.remove(\"allow-interactivity-\".concat(id)); });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if ('touches' in event && event.touches.length === 2) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        // allow horizontal touch move on Range inputs. They will not cause any scroll\n        if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n            return false;\n        }\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) { return e.name === event.type && e.target === event.target && deltaCompare(e.delta, delta); })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove,\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { gapMode: \"margin\" }) : null));\n}\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { effectCar } from './medium';\nvar nothing = function () {\n    return;\n};\n/**\n * Removes scrollbar from the page and contain the scroll within the Lock\n */\nvar RemoveScroll = React.forwardRef(function (props, parentRef) {\n    var ref = React.useRef(null);\n    var _a = React.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing,\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, rest = __rest(props, [\"forwardProps\", \"children\", \"className\", \"removeScrollBar\", \"enabled\", \"shards\", \"sideCar\", \"noIsolation\", \"inert\", \"allowPinchZoom\", \"as\"]);\n    var SideCar = sideCar;\n    var containerRef = useMergeRefs([ref, parentRef]);\n    var containerProps = __assign(__assign({}, rest), callbacks);\n    return (React.createElement(React.Fragment, null,\n        enabled && (React.createElement(SideCar, { sideCar: effectCar, removeScrollBar: removeScrollBar, shards: shards, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref })),\n        forwardProps ? (React.cloneElement(React.Children.only(children), __assign(__assign({}, containerProps), { ref: containerRef }))) : (React.createElement(Container, __assign({}, containerProps, { className: className, ref: containerRef }), children))));\n});\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false,\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName,\n};\nexport { RemoveScroll };\n","var passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n                return true;\n            },\n        });\n        // @ts-ignore\n        window.addEventListener('test', options, options);\n        // @ts-ignore\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\nexport var nonPassive = passiveSupported ? { passive: false } : false;\n","var alwaysContainsScroll = function (node) {\n    // textarea will always _contain_ scroll inside self. It only can be hidden\n    return node.tagName === 'TEXTAREA';\n};\nvar elementCanBeScrolled = function (node, overflow) {\n    var styles = window.getComputedStyle(node);\n    return (\n    // not-not-scrollable\n    styles[overflow] !== 'hidden' &&\n        // contains scroll inside self\n        !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === 'visible'));\n};\nvar elementCouldBeVScrolled = function (node) { return elementCanBeScrolled(node, 'overflowY'); };\nvar elementCouldBeHScrolled = function (node) { return elementCanBeScrolled(node, 'overflowX'); };\nexport var locationCouldBeScrolled = function (axis, node) {\n    var current = node;\n    do {\n        // Skip over shadow root\n        if (typeof ShadowRoot !== 'undefined' && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), s = _a[1], d = _a[2];\n            if (s > d) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== document.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n    ];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n    ];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function (axis, direction) {\n    /**\n     * If the element's direction is rtl (right-to-left), then scrollLeft is 0 when the scrollbar is at its rightmost position,\n     * and then increasingly negative as you scroll towards the end of the content.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n     */\n    return axis === 'h' && direction === 'rtl' ? -1 : 1;\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        target = target.parentNode;\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    if (isDeltaPositive && ((noOverscroll && availableScroll === 0) || (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && availableScrollTop === 0) || (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n","import { createSidecarMedium } from 'use-sidecar';\nexport var effectCar = createSidecarMedium();\n","import { exportSidecar } from 'use-sidecar';\nimport { RemoveScrollSideCar } from './SideEffect';\nimport { effectCar } from './medium';\nexport default exportSidecar(effectCar, RemoveScrollSideCar);\n","import { styleHookSingleton } from './hook';\n/**\n * create a Component to add styles on demand\n * - styles are added when first instance is mounted\n * - styles are removed when the last instance is unmounted\n * - changing styles in runtime does nothing unless dynamic is set. But with multiple components that can lead to the undefined behavior\n */\nexport var styleSingleton = function () {\n    var useStyle = styleHookSingleton();\n    var Sheet = function (_a) {\n        var styles = _a.styles, dynamic = _a.dynamic;\n        useStyle(styles, dynamic);\n        return null;\n    };\n    return Sheet;\n};\n","import * as React from 'react';\nimport { stylesheetSingleton } from './singleton';\n/**\n * creates a hook to control style singleton\n * @see {@link styleSingleton} for a safer component version\n * @example\n * ```tsx\n * const useStyle = styleHookSingleton();\n * ///\n * useStyle('body { overflow: hidden}');\n */\nexport var styleHookSingleton = function () {\n    var sheet = stylesheetSingleton();\n    return function (styles, isDynamic) {\n        React.useEffect(function () {\n            sheet.add(styles);\n            return function () {\n                sheet.remove();\n            };\n        }, [styles && isDynamic]);\n    };\n};\n","export { styleSingleton } from './component';\nexport { stylesheetSingleton } from './singleton';\nexport { styleHookSingleton } from './hook';\n","import { getNonce } from 'get-nonce';\nfunction makeStyleTag() {\n    if (!document)\n        return null;\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute('nonce', nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    // @ts-ignore\n    if (tag.styleSheet) {\n        // @ts-ignore\n        tag.styleSheet.cssText = css;\n    }\n    else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    head.appendChild(tag);\n}\nexport var stylesheetSingleton = function () {\n    var counter = 0;\n    var stylesheet = null;\n    return {\n        add: function (style) {\n            if (counter == 0) {\n                if ((stylesheet = makeStyleTag())) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter++;\n        },\n        remove: function () {\n            counter--;\n            if (!counter && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        },\n    };\n};\n","/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nexport function assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n","import { assignRef } from './assignRef';\nimport { useCallbackRef } from './useRef';\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); //  merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nexport function useMergeRefs(refs, defaultValue) {\n    return useCallbackRef(defaultValue || null, function (newValue) { return refs.forEach(function (ref) { return assignRef(ref, newValue); }); });\n}\n","import { useState } from 'react';\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            },\n        },\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, __assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n","import { __assign } from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n      continue;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center != offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","import { rectToClientRect, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { arrow, autoPlacement, detectOverflow, flip, hide, inline, limitShift, offset, shift, size } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  return getCssDimensions(element);\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (_ref) {\n  let {\n    reference,\n    floating,\n    strategy\n  } = _ref;\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(reference, await getOffsetParentFn(floating), strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    clearTimeout(timeoutId);\n    io && io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          resizeObserver && resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo && cleanupIo();\n    resizeObserver && resizeObserver.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { autoUpdate, computePosition, platform };\n","const sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null ? void 0 : (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","function $e42e1063c40fb3ef$export$b9ecd428b558ff10(originalEventHandler, ourEventHandler, { checkForDefaultPrevented: checkForDefaultPrevented = true  } = {}) {\n    return function handleEvent(event) {\n        originalEventHandler === null || originalEventHandler === void 0 || originalEventHandler(event);\n        if (checkForDefaultPrevented === false || !event.defaultPrevented) return ourEventHandler === null || ourEventHandler === void 0 ? void 0 : ourEventHandler(event);\n    };\n}\n\n\n\n\nexport {$e42e1063c40fb3ef$export$b9ecd428b558ff10 as composeEventHandlers};\n//# sourceMappingURL=index.mjs.map\n","import {useCallback as $3vqmr$useCallback} from \"react\";\n\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */ function $6ed0406888f73fc4$var$setRef(ref, value) {\n    if (typeof ref === 'function') ref(value);\n    else if (ref !== null && ref !== undefined) ref.current = value;\n}\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */ function $6ed0406888f73fc4$export$43e446d32b3d21af(...refs) {\n    return (node)=>refs.forEach((ref)=>$6ed0406888f73fc4$var$setRef(ref, node)\n        )\n    ;\n}\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */ function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...refs) {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return $3vqmr$useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...refs), refs);\n}\n\n\n\n\nexport {$6ed0406888f73fc4$export$43e446d32b3d21af as composeRefs, $6ed0406888f73fc4$export$c7b2cbe3552a0d05 as useComposedRefs};\n//# sourceMappingURL=index.mjs.map\n","import {createContext as $3bkAK$createContext, useMemo as $3bkAK$useMemo, createElement as $3bkAK$createElement, useContext as $3bkAK$useContext} from \"react\";\n\n\nfunction $c512c27ab02ef895$export$fd42f52fd3ae1109(rootComponentName, defaultContext) {\n    const Context = /*#__PURE__*/ $3bkAK$createContext(defaultContext);\n    function Provider(props) {\n        const { children: children , ...context } = props; // Only re-memoize when prop values change\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        const value = $3bkAK$useMemo(()=>context\n        , Object.values(context));\n        return /*#__PURE__*/ $3bkAK$createElement(Context.Provider, {\n            value: value\n        }, children);\n    }\n    function useContext(consumerName) {\n        const context = $3bkAK$useContext(Context);\n        if (context) return context;\n        if (defaultContext !== undefined) return defaultContext; // if a defaultContext wasn't specified, it's a required context.\n        throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    Provider.displayName = rootComponentName + 'Provider';\n    return [\n        Provider,\n        useContext\n    ];\n}\n/* -------------------------------------------------------------------------------------------------\n * createContextScope\n * -----------------------------------------------------------------------------------------------*/ function $c512c27ab02ef895$export$50c7b4e9d9f19c1(scopeName, createContextScopeDeps = []) {\n    let defaultContexts = [];\n    /* -----------------------------------------------------------------------------------------------\n   * createContext\n   * ---------------------------------------------------------------------------------------------*/ function $c512c27ab02ef895$export$fd42f52fd3ae1109(rootComponentName, defaultContext) {\n        const BaseContext = /*#__PURE__*/ $3bkAK$createContext(defaultContext);\n        const index = defaultContexts.length;\n        defaultContexts = [\n            ...defaultContexts,\n            defaultContext\n        ];\n        function Provider(props) {\n            const { scope: scope , children: children , ...context } = props;\n            const Context = (scope === null || scope === void 0 ? void 0 : scope[scopeName][index]) || BaseContext; // Only re-memoize when prop values change\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            const value = $3bkAK$useMemo(()=>context\n            , Object.values(context));\n            return /*#__PURE__*/ $3bkAK$createElement(Context.Provider, {\n                value: value\n            }, children);\n        }\n        function useContext(consumerName, scope) {\n            const Context = (scope === null || scope === void 0 ? void 0 : scope[scopeName][index]) || BaseContext;\n            const context = $3bkAK$useContext(Context);\n            if (context) return context;\n            if (defaultContext !== undefined) return defaultContext; // if a defaultContext wasn't specified, it's a required context.\n            throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n        }\n        Provider.displayName = rootComponentName + 'Provider';\n        return [\n            Provider,\n            useContext\n        ];\n    }\n    /* -----------------------------------------------------------------------------------------------\n   * createScope\n   * ---------------------------------------------------------------------------------------------*/ const createScope = ()=>{\n        const scopeContexts = defaultContexts.map((defaultContext)=>{\n            return /*#__PURE__*/ $3bkAK$createContext(defaultContext);\n        });\n        return function useScope(scope) {\n            const contexts = (scope === null || scope === void 0 ? void 0 : scope[scopeName]) || scopeContexts;\n            return $3bkAK$useMemo(()=>({\n                    [`__scope${scopeName}`]: {\n                        ...scope,\n                        [scopeName]: contexts\n                    }\n                })\n            , [\n                scope,\n                contexts\n            ]);\n        };\n    };\n    createScope.scopeName = scopeName;\n    return [\n        $c512c27ab02ef895$export$fd42f52fd3ae1109,\n        $c512c27ab02ef895$var$composeContextScopes(createScope, ...createContextScopeDeps)\n    ];\n}\n/* -------------------------------------------------------------------------------------------------\n * composeContextScopes\n * -----------------------------------------------------------------------------------------------*/ function $c512c27ab02ef895$var$composeContextScopes(...scopes) {\n    const baseScope = scopes[0];\n    if (scopes.length === 1) return baseScope;\n    const createScope1 = ()=>{\n        const scopeHooks = scopes.map((createScope)=>({\n                useScope: createScope(),\n                scopeName: createScope.scopeName\n            })\n        );\n        return function useComposedScopes(overrideScopes) {\n            const nextScopes1 = scopeHooks.reduce((nextScopes, { useScope: useScope , scopeName: scopeName  })=>{\n                // We are calling a hook inside a callback which React warns against to avoid inconsistent\n                // renders, however, scoping doesn't have render side effects so we ignore the rule.\n                // eslint-disable-next-line react-hooks/rules-of-hooks\n                const scopeProps = useScope(overrideScopes);\n                const currentScope = scopeProps[`__scope${scopeName}`];\n                return {\n                    ...nextScopes,\n                    ...currentScope\n                };\n            }, {});\n            return $3bkAK$useMemo(()=>({\n                    [`__scope${baseScope.scopeName}`]: nextScopes1\n                })\n            , [\n                nextScopes1\n            ]);\n        };\n    };\n    createScope1.scopeName = baseScope.scopeName;\n    return createScope1;\n}\n\n\n\n\nexport {$c512c27ab02ef895$export$fd42f52fd3ae1109 as createContext, $c512c27ab02ef895$export$50c7b4e9d9f19c1 as createContextScope};\n//# sourceMappingURL=index.mjs.map\n","import $67UHm$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {useRef as $67UHm$useRef, createElement as $67UHm$createElement, useCallback as $67UHm$useCallback, forwardRef as $67UHm$forwardRef, Children as $67UHm$Children, useEffect as $67UHm$useEffect, Fragment as $67UHm$Fragment} from \"react\";\nimport {composeEventHandlers as $67UHm$composeEventHandlers} from \"@radix-ui/primitive\";\nimport {useComposedRefs as $67UHm$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {createContextScope as $67UHm$createContextScope, createContext as $67UHm$createContext} from \"@radix-ui/react-context\";\nimport {useId as $67UHm$useId} from \"@radix-ui/react-id\";\nimport {useControllableState as $67UHm$useControllableState} from \"@radix-ui/react-use-controllable-state\";\nimport {DismissableLayer as $67UHm$DismissableLayer} from \"@radix-ui/react-dismissable-layer\";\nimport {FocusScope as $67UHm$FocusScope} from \"@radix-ui/react-focus-scope\";\nimport {Portal as $67UHm$Portal} from \"@radix-ui/react-portal\";\nimport {Presence as $67UHm$Presence} from \"@radix-ui/react-presence\";\nimport {Primitive as $67UHm$Primitive} from \"@radix-ui/react-primitive\";\nimport {useFocusGuards as $67UHm$useFocusGuards} from \"@radix-ui/react-focus-guards\";\nimport {RemoveScroll as $67UHm$RemoveScroll} from \"react-remove-scroll\";\nimport {hideOthers as $67UHm$hideOthers} from \"aria-hidden\";\nimport {Slot as $67UHm$Slot} from \"@radix-ui/react-slot\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * Dialog\n * -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$DIALOG_NAME = 'Dialog';\nconst [$5d3850c4d0b4e6c7$var$createDialogContext, $5d3850c4d0b4e6c7$export$cc702773b8ea3e41] = $67UHm$createContextScope($5d3850c4d0b4e6c7$var$DIALOG_NAME);\nconst [$5d3850c4d0b4e6c7$var$DialogProvider, $5d3850c4d0b4e6c7$var$useDialogContext] = $5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$DIALOG_NAME);\nconst $5d3850c4d0b4e6c7$export$3ddf2d174ce01153 = (props)=>{\n    const { __scopeDialog: __scopeDialog , children: children , open: openProp , defaultOpen: defaultOpen , onOpenChange: onOpenChange , modal: modal = true  } = props;\n    const triggerRef = $67UHm$useRef(null);\n    const contentRef = $67UHm$useRef(null);\n    const [open = false, setOpen] = $67UHm$useControllableState({\n        prop: openProp,\n        defaultProp: defaultOpen,\n        onChange: onOpenChange\n    });\n    return /*#__PURE__*/ $67UHm$createElement($5d3850c4d0b4e6c7$var$DialogProvider, {\n        scope: __scopeDialog,\n        triggerRef: triggerRef,\n        contentRef: contentRef,\n        contentId: $67UHm$useId(),\n        titleId: $67UHm$useId(),\n        descriptionId: $67UHm$useId(),\n        open: open,\n        onOpenChange: setOpen,\n        onOpenToggle: $67UHm$useCallback(()=>setOpen((prevOpen)=>!prevOpen\n            )\n        , [\n            setOpen\n        ]),\n        modal: modal\n    }, children);\n};\n/*#__PURE__*/ Object.assign($5d3850c4d0b4e6c7$export$3ddf2d174ce01153, {\n    displayName: $5d3850c4d0b4e6c7$var$DIALOG_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * DialogTrigger\n * -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$TRIGGER_NAME = 'DialogTrigger';\nconst $5d3850c4d0b4e6c7$export$2e1e1122cf0cba88 = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const { __scopeDialog: __scopeDialog , ...triggerProps } = props;\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$TRIGGER_NAME, __scopeDialog);\n    const composedTriggerRef = $67UHm$useComposedRefs(forwardedRef, context.triggerRef);\n    return /*#__PURE__*/ $67UHm$createElement($67UHm$Primitive.button, $67UHm$babelruntimehelpersesmextends({\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": $5d3850c4d0b4e6c7$var$getState(context.open)\n    }, triggerProps, {\n        ref: composedTriggerRef,\n        onClick: $67UHm$composeEventHandlers(props.onClick, context.onOpenToggle)\n    }));\n});\n/*#__PURE__*/ Object.assign($5d3850c4d0b4e6c7$export$2e1e1122cf0cba88, {\n    displayName: $5d3850c4d0b4e6c7$var$TRIGGER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * DialogPortal\n * -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$PORTAL_NAME = 'DialogPortal';\nconst [$5d3850c4d0b4e6c7$var$PortalProvider, $5d3850c4d0b4e6c7$var$usePortalContext] = $5d3850c4d0b4e6c7$var$createDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME, {\n    forceMount: undefined\n});\nconst $5d3850c4d0b4e6c7$export$dad7c95542bacce0 = (props)=>{\n    const { __scopeDialog: __scopeDialog , forceMount: forceMount , children: children , container: container  } = props;\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$PORTAL_NAME, __scopeDialog);\n    return /*#__PURE__*/ $67UHm$createElement($5d3850c4d0b4e6c7$var$PortalProvider, {\n        scope: __scopeDialog,\n        forceMount: forceMount\n    }, $67UHm$Children.map(children, (child)=>/*#__PURE__*/ $67UHm$createElement($67UHm$Presence, {\n            present: forceMount || context.open\n        }, /*#__PURE__*/ $67UHm$createElement($67UHm$Portal, {\n            asChild: true,\n            container: container\n        }, child))\n    ));\n};\n/*#__PURE__*/ Object.assign($5d3850c4d0b4e6c7$export$dad7c95542bacce0, {\n    displayName: $5d3850c4d0b4e6c7$var$PORTAL_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * DialogOverlay\n * -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$OVERLAY_NAME = 'DialogOverlay';\nconst $5d3850c4d0b4e6c7$export$bd1d06c79be19e17 = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const portalContext = $5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME, props.__scopeDialog);\n    const { forceMount: forceMount = portalContext.forceMount , ...overlayProps } = props;\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME, props.__scopeDialog);\n    return context.modal ? /*#__PURE__*/ $67UHm$createElement($67UHm$Presence, {\n        present: forceMount || context.open\n    }, /*#__PURE__*/ $67UHm$createElement($5d3850c4d0b4e6c7$var$DialogOverlayImpl, $67UHm$babelruntimehelpersesmextends({}, overlayProps, {\n        ref: forwardedRef\n    }))) : null;\n});\n/*#__PURE__*/ Object.assign($5d3850c4d0b4e6c7$export$bd1d06c79be19e17, {\n    displayName: $5d3850c4d0b4e6c7$var$OVERLAY_NAME\n});\nconst $5d3850c4d0b4e6c7$var$DialogOverlayImpl = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const { __scopeDialog: __scopeDialog , ...overlayProps } = props;\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$OVERLAY_NAME, __scopeDialog);\n    return(/*#__PURE__*/ // Make sure `Content` is scrollable even when it doesn't live inside `RemoveScroll`\n    // ie. when `Overlay` and `Content` are siblings\n    $67UHm$createElement($67UHm$RemoveScroll, {\n        as: $67UHm$Slot,\n        allowPinchZoom: true,\n        shards: [\n            context.contentRef\n        ]\n    }, /*#__PURE__*/ $67UHm$createElement($67UHm$Primitive.div, $67UHm$babelruntimehelpersesmextends({\n        \"data-state\": $5d3850c4d0b4e6c7$var$getState(context.open)\n    }, overlayProps, {\n        ref: forwardedRef // We re-enable pointer-events prevented by `Dialog.Content` to allow scrolling the overlay.\n        ,\n        style: {\n            pointerEvents: 'auto',\n            ...overlayProps.style\n        }\n    }))));\n});\n/* -------------------------------------------------------------------------------------------------\n * DialogContent\n * -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$CONTENT_NAME = 'DialogContent';\nconst $5d3850c4d0b4e6c7$export$b6d9565de1e068cf = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const portalContext = $5d3850c4d0b4e6c7$var$usePortalContext($5d3850c4d0b4e6c7$var$CONTENT_NAME, props.__scopeDialog);\n    const { forceMount: forceMount = portalContext.forceMount , ...contentProps } = props;\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME, props.__scopeDialog);\n    return /*#__PURE__*/ $67UHm$createElement($67UHm$Presence, {\n        present: forceMount || context.open\n    }, context.modal ? /*#__PURE__*/ $67UHm$createElement($5d3850c4d0b4e6c7$var$DialogContentModal, $67UHm$babelruntimehelpersesmextends({}, contentProps, {\n        ref: forwardedRef\n    })) : /*#__PURE__*/ $67UHm$createElement($5d3850c4d0b4e6c7$var$DialogContentNonModal, $67UHm$babelruntimehelpersesmextends({}, contentProps, {\n        ref: forwardedRef\n    })));\n});\n/*#__PURE__*/ Object.assign($5d3850c4d0b4e6c7$export$b6d9565de1e068cf, {\n    displayName: $5d3850c4d0b4e6c7$var$CONTENT_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$DialogContentModal = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME, props.__scopeDialog);\n    const contentRef = $67UHm$useRef(null);\n    const composedRefs = $67UHm$useComposedRefs(forwardedRef, context.contentRef, contentRef); // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    $67UHm$useEffect(()=>{\n        const content = contentRef.current;\n        if (content) return $67UHm$hideOthers(content);\n    }, []);\n    return /*#__PURE__*/ $67UHm$createElement($5d3850c4d0b4e6c7$var$DialogContentImpl, $67UHm$babelruntimehelpersesmextends({}, props, {\n        ref: composedRefs // we make sure focus isn't trapped once `DialogContent` has been closed\n        ,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: $67UHm$composeEventHandlers(props.onCloseAutoFocus, (event)=>{\n            var _context$triggerRef$c;\n            event.preventDefault();\n            (_context$triggerRef$c = context.triggerRef.current) === null || _context$triggerRef$c === void 0 || _context$triggerRef$c.focus();\n        }),\n        onPointerDownOutside: $67UHm$composeEventHandlers(props.onPointerDownOutside, (event)=>{\n            const originalEvent = event.detail.originalEvent;\n            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n            const isRightClick = originalEvent.button === 2 || ctrlLeftClick; // If the event is a right-click, we shouldn't close because\n            // it is effectively as if we right-clicked the `Overlay`.\n            if (isRightClick) event.preventDefault();\n        }) // When focus is trapped, a `focusout` event may still happen.\n        ,\n        onFocusOutside: $67UHm$composeEventHandlers(props.onFocusOutside, (event)=>event.preventDefault()\n        )\n    }));\n});\n/* -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$DialogContentNonModal = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME, props.__scopeDialog);\n    const hasInteractedOutsideRef = $67UHm$useRef(false);\n    const hasPointerDownOutsideRef = $67UHm$useRef(false);\n    return /*#__PURE__*/ $67UHm$createElement($5d3850c4d0b4e6c7$var$DialogContentImpl, $67UHm$babelruntimehelpersesmextends({}, props, {\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event)=>{\n            var _props$onCloseAutoFoc;\n            (_props$onCloseAutoFoc = props.onCloseAutoFocus) === null || _props$onCloseAutoFoc === void 0 || _props$onCloseAutoFoc.call(props, event);\n            if (!event.defaultPrevented) {\n                var _context$triggerRef$c2;\n                if (!hasInteractedOutsideRef.current) (_context$triggerRef$c2 = context.triggerRef.current) === null || _context$triggerRef$c2 === void 0 || _context$triggerRef$c2.focus(); // Always prevent auto focus because we either focus manually or want user agent focus\n                event.preventDefault();\n            }\n            hasInteractedOutsideRef.current = false;\n            hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event)=>{\n            var _props$onInteractOuts, _context$triggerRef$c3;\n            (_props$onInteractOuts = props.onInteractOutside) === null || _props$onInteractOuts === void 0 || _props$onInteractOuts.call(props, event);\n            if (!event.defaultPrevented) {\n                hasInteractedOutsideRef.current = true;\n                if (event.detail.originalEvent.type === 'pointerdown') hasPointerDownOutsideRef.current = true;\n            } // Prevent dismissing when clicking the trigger.\n            // As the trigger is already setup to close, without doing so would\n            // cause it to close and immediately open.\n            const target = event.target;\n            const targetIsTrigger = (_context$triggerRef$c3 = context.triggerRef.current) === null || _context$triggerRef$c3 === void 0 ? void 0 : _context$triggerRef$c3.contains(target);\n            if (targetIsTrigger) event.preventDefault(); // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n            // we will get the pointer down outside event on the trigger, but then a subsequent\n            // focus outside event on the container, we ignore any focus outside event when we've\n            // already had a pointer down outside event.\n            if (event.detail.originalEvent.type === 'focusin' && hasPointerDownOutsideRef.current) event.preventDefault();\n        }\n    }));\n});\n/* -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$DialogContentImpl = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const { __scopeDialog: __scopeDialog , trapFocus: trapFocus , onOpenAutoFocus: onOpenAutoFocus , onCloseAutoFocus: onCloseAutoFocus , ...contentProps } = props;\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CONTENT_NAME, __scopeDialog);\n    const contentRef = $67UHm$useRef(null);\n    const composedRefs = $67UHm$useComposedRefs(forwardedRef, contentRef); // Make sure the whole tree has focus guards as our `Dialog` will be\n    // the last element in the DOM (beacuse of the `Portal`)\n    $67UHm$useFocusGuards();\n    return /*#__PURE__*/ $67UHm$createElement($67UHm$Fragment, null, /*#__PURE__*/ $67UHm$createElement($67UHm$FocusScope, {\n        asChild: true,\n        loop: true,\n        trapped: trapFocus,\n        onMountAutoFocus: onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus\n    }, /*#__PURE__*/ $67UHm$createElement($67UHm$DismissableLayer, $67UHm$babelruntimehelpersesmextends({\n        role: \"dialog\",\n        id: context.contentId,\n        \"aria-describedby\": context.descriptionId,\n        \"aria-labelledby\": context.titleId,\n        \"data-state\": $5d3850c4d0b4e6c7$var$getState(context.open)\n    }, contentProps, {\n        ref: composedRefs,\n        onDismiss: ()=>context.onOpenChange(false)\n    }))), false);\n});\n/* -------------------------------------------------------------------------------------------------\n * DialogTitle\n * -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$TITLE_NAME = 'DialogTitle';\nconst $5d3850c4d0b4e6c7$export$16f7638e4a34b909 = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const { __scopeDialog: __scopeDialog , ...titleProps } = props;\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$TITLE_NAME, __scopeDialog);\n    return /*#__PURE__*/ $67UHm$createElement($67UHm$Primitive.h2, $67UHm$babelruntimehelpersesmextends({\n        id: context.titleId\n    }, titleProps, {\n        ref: forwardedRef\n    }));\n});\n/*#__PURE__*/ Object.assign($5d3850c4d0b4e6c7$export$16f7638e4a34b909, {\n    displayName: $5d3850c4d0b4e6c7$var$TITLE_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * DialogDescription\n * -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$DESCRIPTION_NAME = 'DialogDescription';\nconst $5d3850c4d0b4e6c7$export$94e94c2ec2c954d5 = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const { __scopeDialog: __scopeDialog , ...descriptionProps } = props;\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$DESCRIPTION_NAME, __scopeDialog);\n    return /*#__PURE__*/ $67UHm$createElement($67UHm$Primitive.p, $67UHm$babelruntimehelpersesmextends({\n        id: context.descriptionId\n    }, descriptionProps, {\n        ref: forwardedRef\n    }));\n});\n/*#__PURE__*/ Object.assign($5d3850c4d0b4e6c7$export$94e94c2ec2c954d5, {\n    displayName: $5d3850c4d0b4e6c7$var$DESCRIPTION_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * DialogClose\n * -----------------------------------------------------------------------------------------------*/ const $5d3850c4d0b4e6c7$var$CLOSE_NAME = 'DialogClose';\nconst $5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac = /*#__PURE__*/ $67UHm$forwardRef((props, forwardedRef)=>{\n    const { __scopeDialog: __scopeDialog , ...closeProps } = props;\n    const context = $5d3850c4d0b4e6c7$var$useDialogContext($5d3850c4d0b4e6c7$var$CLOSE_NAME, __scopeDialog);\n    return /*#__PURE__*/ $67UHm$createElement($67UHm$Primitive.button, $67UHm$babelruntimehelpersesmextends({\n        type: \"button\"\n    }, closeProps, {\n        ref: forwardedRef,\n        onClick: $67UHm$composeEventHandlers(props.onClick, ()=>context.onOpenChange(false)\n        )\n    }));\n});\n/*#__PURE__*/ Object.assign($5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac, {\n    displayName: $5d3850c4d0b4e6c7$var$CLOSE_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ function $5d3850c4d0b4e6c7$var$getState(open) {\n    return open ? 'open' : 'closed';\n}\nconst $5d3850c4d0b4e6c7$var$TITLE_WARNING_NAME = 'DialogTitleWarning';\nconst [$5d3850c4d0b4e6c7$export$69b62a49393917d6, $5d3850c4d0b4e6c7$var$useWarningContext] = $67UHm$createContext($5d3850c4d0b4e6c7$var$TITLE_WARNING_NAME, {\n    contentName: $5d3850c4d0b4e6c7$var$CONTENT_NAME,\n    titleName: $5d3850c4d0b4e6c7$var$TITLE_NAME,\n    docsSlug: 'dialog'\n});\nconst $5d3850c4d0b4e6c7$var$TitleWarning = ({ titleId: titleId  })=>{\n    const titleWarningContext = $5d3850c4d0b4e6c7$var$useWarningContext($5d3850c4d0b4e6c7$var$TITLE_WARNING_NAME);\n    const MESSAGE = `\\`${titleWarningContext.contentName}\\` requires a \\`${titleWarningContext.titleName}\\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \\`${titleWarningContext.titleName}\\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${titleWarningContext.docsSlug}`;\n    $67UHm$useEffect(()=>{\n        if (titleId) {\n            const hasTitle = document.getElementById(titleId);\n            if (!hasTitle) throw new Error(MESSAGE);\n        }\n    }, [\n        MESSAGE,\n        titleId\n    ]);\n    return null;\n};\nconst $5d3850c4d0b4e6c7$var$DESCRIPTION_WARNING_NAME = 'DialogDescriptionWarning';\nconst $5d3850c4d0b4e6c7$var$DescriptionWarning = ({ contentRef: contentRef , descriptionId: descriptionId  })=>{\n    const descriptionWarningContext = $5d3850c4d0b4e6c7$var$useWarningContext($5d3850c4d0b4e6c7$var$DESCRIPTION_WARNING_NAME);\n    const MESSAGE = `Warning: Missing \\`Description\\` or \\`aria-describedby={undefined}\\` for {${descriptionWarningContext.contentName}}.`;\n    $67UHm$useEffect(()=>{\n        var _contentRef$current;\n        const describedById = (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.getAttribute('aria-describedby'); // if we have an id and the user hasn't set aria-describedby={undefined}\n        if (descriptionId && describedById) {\n            const hasDescription = document.getElementById(descriptionId);\n            if (!hasDescription) console.warn(MESSAGE);\n        }\n    }, [\n        MESSAGE,\n        contentRef,\n        descriptionId\n    ]);\n    return null;\n};\nconst $5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9 = $5d3850c4d0b4e6c7$export$3ddf2d174ce01153;\nconst $5d3850c4d0b4e6c7$export$41fb9f06171c75f4 = $5d3850c4d0b4e6c7$export$2e1e1122cf0cba88;\nconst $5d3850c4d0b4e6c7$export$602eac185826482c = $5d3850c4d0b4e6c7$export$dad7c95542bacce0;\nconst $5d3850c4d0b4e6c7$export$c6fdb837b070b4ff = $5d3850c4d0b4e6c7$export$bd1d06c79be19e17;\nconst $5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2 = $5d3850c4d0b4e6c7$export$b6d9565de1e068cf;\nconst $5d3850c4d0b4e6c7$export$f99233281efd08a0 = $5d3850c4d0b4e6c7$export$16f7638e4a34b909;\nconst $5d3850c4d0b4e6c7$export$393edc798c47379d = $5d3850c4d0b4e6c7$export$94e94c2ec2c954d5;\nconst $5d3850c4d0b4e6c7$export$f39c2d165cd861fe = $5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac;\n\n\n\n\nexport {$5d3850c4d0b4e6c7$export$cc702773b8ea3e41 as createDialogScope, $5d3850c4d0b4e6c7$export$3ddf2d174ce01153 as Dialog, $5d3850c4d0b4e6c7$export$2e1e1122cf0cba88 as DialogTrigger, $5d3850c4d0b4e6c7$export$dad7c95542bacce0 as DialogPortal, $5d3850c4d0b4e6c7$export$bd1d06c79be19e17 as DialogOverlay, $5d3850c4d0b4e6c7$export$b6d9565de1e068cf as DialogContent, $5d3850c4d0b4e6c7$export$16f7638e4a34b909 as DialogTitle, $5d3850c4d0b4e6c7$export$94e94c2ec2c954d5 as DialogDescription, $5d3850c4d0b4e6c7$export$fba2fb7cd781b7ac as DialogClose, $5d3850c4d0b4e6c7$export$be92b6f5f03c0fe9 as Root, $5d3850c4d0b4e6c7$export$41fb9f06171c75f4 as Trigger, $5d3850c4d0b4e6c7$export$602eac185826482c as Portal, $5d3850c4d0b4e6c7$export$c6fdb837b070b4ff as Overlay, $5d3850c4d0b4e6c7$export$7c6e2c02157bb7d2 as Content, $5d3850c4d0b4e6c7$export$f99233281efd08a0 as Title, $5d3850c4d0b4e6c7$export$393edc798c47379d as Description, $5d3850c4d0b4e6c7$export$f39c2d165cd861fe as Close, $5d3850c4d0b4e6c7$export$69b62a49393917d6 as WarningProvider};\n//# sourceMappingURL=index.mjs.map\n","import $kqwpH$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {createContext as $kqwpH$createContext, forwardRef as $kqwpH$forwardRef, useContext as $kqwpH$useContext, useState as $kqwpH$useState, useEffect as $kqwpH$useEffect, createElement as $kqwpH$createElement, useRef as $kqwpH$useRef} from \"react\";\nimport {composeEventHandlers as $kqwpH$composeEventHandlers} from \"@radix-ui/primitive\";\nimport {Primitive as $kqwpH$Primitive, dispatchDiscreteCustomEvent as $kqwpH$dispatchDiscreteCustomEvent} from \"@radix-ui/react-primitive\";\nimport {useComposedRefs as $kqwpH$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {useCallbackRef as $kqwpH$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\nimport {useEscapeKeydown as $kqwpH$useEscapeKeydown} from \"@radix-ui/react-use-escape-keydown\";\n\n\n\n\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayer\n * -----------------------------------------------------------------------------------------------*/ const $5cb92bef7577960e$var$DISMISSABLE_LAYER_NAME = 'DismissableLayer';\nconst $5cb92bef7577960e$var$CONTEXT_UPDATE = 'dismissableLayer.update';\nconst $5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE = 'dismissableLayer.pointerDownOutside';\nconst $5cb92bef7577960e$var$FOCUS_OUTSIDE = 'dismissableLayer.focusOutside';\nlet $5cb92bef7577960e$var$originalBodyPointerEvents;\nconst $5cb92bef7577960e$var$DismissableLayerContext = /*#__PURE__*/ $kqwpH$createContext({\n    layers: new Set(),\n    layersWithOutsidePointerEventsDisabled: new Set(),\n    branches: new Set()\n});\nconst $5cb92bef7577960e$export$177fb62ff3ec1f22 = /*#__PURE__*/ $kqwpH$forwardRef((props, forwardedRef)=>{\n    var _node$ownerDocument;\n    const { disableOutsidePointerEvents: disableOutsidePointerEvents = false , onEscapeKeyDown: onEscapeKeyDown , onPointerDownOutside: onPointerDownOutside , onFocusOutside: onFocusOutside , onInteractOutside: onInteractOutside , onDismiss: onDismiss , ...layerProps } = props;\n    const context = $kqwpH$useContext($5cb92bef7577960e$var$DismissableLayerContext);\n    const [node1, setNode] = $kqwpH$useState(null);\n    const ownerDocument = (_node$ownerDocument = node1 === null || node1 === void 0 ? void 0 : node1.ownerDocument) !== null && _node$ownerDocument !== void 0 ? _node$ownerDocument : globalThis === null || globalThis === void 0 ? void 0 : globalThis.document;\n    const [, force] = $kqwpH$useState({});\n    const composedRefs = $kqwpH$useComposedRefs(forwardedRef, (node)=>setNode(node)\n    );\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [\n        ...context.layersWithOutsidePointerEventsDisabled\n    ].slice(-1); // prettier-ignore\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled); // prettier-ignore\n    const index = node1 ? layers.indexOf(node1) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n    const pointerDownOutside = $5cb92bef7577960e$var$usePointerDownOutside((event)=>{\n        const target = event.target;\n        const isPointerDownOnBranch = [\n            ...context.branches\n        ].some((branch)=>branch.contains(target)\n        );\n        if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n        onPointerDownOutside === null || onPointerDownOutside === void 0 || onPointerDownOutside(event);\n        onInteractOutside === null || onInteractOutside === void 0 || onInteractOutside(event);\n        if (!event.defaultPrevented) onDismiss === null || onDismiss === void 0 || onDismiss();\n    }, ownerDocument);\n    const focusOutside = $5cb92bef7577960e$var$useFocusOutside((event)=>{\n        const target = event.target;\n        const isFocusInBranch = [\n            ...context.branches\n        ].some((branch)=>branch.contains(target)\n        );\n        if (isFocusInBranch) return;\n        onFocusOutside === null || onFocusOutside === void 0 || onFocusOutside(event);\n        onInteractOutside === null || onInteractOutside === void 0 || onInteractOutside(event);\n        if (!event.defaultPrevented) onDismiss === null || onDismiss === void 0 || onDismiss();\n    }, ownerDocument);\n    $kqwpH$useEscapeKeydown((event)=>{\n        const isHighestLayer = index === context.layers.size - 1;\n        if (!isHighestLayer) return;\n        onEscapeKeyDown === null || onEscapeKeyDown === void 0 || onEscapeKeyDown(event);\n        if (!event.defaultPrevented && onDismiss) {\n            event.preventDefault();\n            onDismiss();\n        }\n    }, ownerDocument);\n    $kqwpH$useEffect(()=>{\n        if (!node1) return;\n        if (disableOutsidePointerEvents) {\n            if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n                $5cb92bef7577960e$var$originalBodyPointerEvents = ownerDocument.body.style.pointerEvents;\n                ownerDocument.body.style.pointerEvents = 'none';\n            }\n            context.layersWithOutsidePointerEventsDisabled.add(node1);\n        }\n        context.layers.add(node1);\n        $5cb92bef7577960e$var$dispatchUpdate();\n        return ()=>{\n            if (disableOutsidePointerEvents && context.layersWithOutsidePointerEventsDisabled.size === 1) ownerDocument.body.style.pointerEvents = $5cb92bef7577960e$var$originalBodyPointerEvents;\n        };\n    }, [\n        node1,\n        ownerDocument,\n        disableOutsidePointerEvents,\n        context\n    ]);\n    /**\n   * We purposefully prevent combining this effect with the `disableOutsidePointerEvents` effect\n   * because a change to `disableOutsidePointerEvents` would remove this layer from the stack\n   * and add it to the end again so the layering order wouldn't be _creation order_.\n   * We only want them to be removed from context stacks when unmounted.\n   */ $kqwpH$useEffect(()=>{\n        return ()=>{\n            if (!node1) return;\n            context.layers.delete(node1);\n            context.layersWithOutsidePointerEventsDisabled.delete(node1);\n            $5cb92bef7577960e$var$dispatchUpdate();\n        };\n    }, [\n        node1,\n        context\n    ]);\n    $kqwpH$useEffect(()=>{\n        const handleUpdate = ()=>force({})\n        ;\n        document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE, handleUpdate);\n        return ()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE, handleUpdate)\n        ;\n    }, []);\n    return /*#__PURE__*/ $kqwpH$createElement($kqwpH$Primitive.div, $kqwpH$babelruntimehelpersesmextends({}, layerProps, {\n        ref: composedRefs,\n        style: {\n            pointerEvents: isBodyPointerEventsDisabled ? isPointerEventsEnabled ? 'auto' : 'none' : undefined,\n            ...props.style\n        },\n        onFocusCapture: $kqwpH$composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture),\n        onBlurCapture: $kqwpH$composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture),\n        onPointerDownCapture: $kqwpH$composeEventHandlers(props.onPointerDownCapture, pointerDownOutside.onPointerDownCapture)\n    }));\n});\n/*#__PURE__*/ Object.assign($5cb92bef7577960e$export$177fb62ff3ec1f22, {\n    displayName: $5cb92bef7577960e$var$DISMISSABLE_LAYER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayerBranch\n * -----------------------------------------------------------------------------------------------*/ const $5cb92bef7577960e$var$BRANCH_NAME = 'DismissableLayerBranch';\nconst $5cb92bef7577960e$export$4d5eb2109db14228 = /*#__PURE__*/ $kqwpH$forwardRef((props, forwardedRef)=>{\n    const context = $kqwpH$useContext($5cb92bef7577960e$var$DismissableLayerContext);\n    const ref = $kqwpH$useRef(null);\n    const composedRefs = $kqwpH$useComposedRefs(forwardedRef, ref);\n    $kqwpH$useEffect(()=>{\n        const node = ref.current;\n        if (node) {\n            context.branches.add(node);\n            return ()=>{\n                context.branches.delete(node);\n            };\n        }\n    }, [\n        context.branches\n    ]);\n    return /*#__PURE__*/ $kqwpH$createElement($kqwpH$Primitive.div, $kqwpH$babelruntimehelpersesmextends({}, props, {\n        ref: composedRefs\n    }));\n});\n/*#__PURE__*/ Object.assign($5cb92bef7577960e$export$4d5eb2109db14228, {\n    displayName: $5cb92bef7577960e$var$BRANCH_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ /**\n * Listens for `pointerdown` outside a react subtree. We use `pointerdown` rather than `pointerup`\n * to mimic layer dismissing behaviour present in OS.\n * Returns props to pass to the node we want to check for outside events.\n */ function $5cb92bef7577960e$var$usePointerDownOutside(onPointerDownOutside, ownerDocument = globalThis === null || globalThis === void 0 ? void 0 : globalThis.document) {\n    const handlePointerDownOutside = $kqwpH$useCallbackRef(onPointerDownOutside);\n    const isPointerInsideReactTreeRef = $kqwpH$useRef(false);\n    const handleClickRef = $kqwpH$useRef(()=>{});\n    $kqwpH$useEffect(()=>{\n        const handlePointerDown = (event)=>{\n            if (event.target && !isPointerInsideReactTreeRef.current) {\n                const eventDetail = {\n                    originalEvent: event\n                };\n                function handleAndDispatchPointerDownOutsideEvent() {\n                    $5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE, handlePointerDownOutside, eventDetail, {\n                        discrete: true\n                    });\n                }\n                /**\n         * On touch devices, we need to wait for a click event because browsers implement\n         * a ~350ms delay between the time the user stops touching the display and when the\n         * browser executres events. We need to ensure we don't reactivate pointer-events within\n         * this timeframe otherwise the browser may execute events that should have been prevented.\n         *\n         * Additionally, this also lets us deal automatically with cancellations when a click event\n         * isn't raised because the page was considered scrolled/drag-scrolled, long-pressed, etc.\n         *\n         * This is why we also continuously remove the previous listener, because we cannot be\n         * certain that it was raised, and therefore cleaned-up.\n         */ if (event.pointerType === 'touch') {\n                    ownerDocument.removeEventListener('click', handleClickRef.current);\n                    handleClickRef.current = handleAndDispatchPointerDownOutsideEvent;\n                    ownerDocument.addEventListener('click', handleClickRef.current, {\n                        once: true\n                    });\n                } else handleAndDispatchPointerDownOutsideEvent();\n            } else // We need to remove the event listener in case the outside click has been canceled.\n            // See: https://github.com/radix-ui/primitives/issues/2171\n            ownerDocument.removeEventListener('click', handleClickRef.current);\n            isPointerInsideReactTreeRef.current = false;\n        };\n        /**\n     * if this hook executes in a component that mounts via a `pointerdown` event, the event\n     * would bubble up to the document and trigger a `pointerDownOutside` event. We avoid\n     * this by delaying the event listener registration on the document.\n     * This is not React specific, but rather how the DOM works, ie:\n     * ```\n     * button.addEventListener('pointerdown', () => {\n     *   console.log('I will log');\n     *   document.addEventListener('pointerdown', () => {\n     *     console.log('I will also log');\n     *   })\n     * });\n     */ const timerId = window.setTimeout(()=>{\n            ownerDocument.addEventListener('pointerdown', handlePointerDown);\n        }, 0);\n        return ()=>{\n            window.clearTimeout(timerId);\n            ownerDocument.removeEventListener('pointerdown', handlePointerDown);\n            ownerDocument.removeEventListener('click', handleClickRef.current);\n        };\n    }, [\n        ownerDocument,\n        handlePointerDownOutside\n    ]);\n    return {\n        // ensures we check React component tree (not just DOM tree)\n        onPointerDownCapture: ()=>isPointerInsideReactTreeRef.current = true\n    };\n}\n/**\n * Listens for when focus happens outside a react subtree.\n * Returns props to pass to the root (node) of the subtree we want to check.\n */ function $5cb92bef7577960e$var$useFocusOutside(onFocusOutside, ownerDocument = globalThis === null || globalThis === void 0 ? void 0 : globalThis.document) {\n    const handleFocusOutside = $kqwpH$useCallbackRef(onFocusOutside);\n    const isFocusInsideReactTreeRef = $kqwpH$useRef(false);\n    $kqwpH$useEffect(()=>{\n        const handleFocus = (event)=>{\n            if (event.target && !isFocusInsideReactTreeRef.current) {\n                const eventDetail = {\n                    originalEvent: event\n                };\n                $5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n                    discrete: false\n                });\n            }\n        };\n        ownerDocument.addEventListener('focusin', handleFocus);\n        return ()=>ownerDocument.removeEventListener('focusin', handleFocus)\n        ;\n    }, [\n        ownerDocument,\n        handleFocusOutside\n    ]);\n    return {\n        onFocusCapture: ()=>isFocusInsideReactTreeRef.current = true\n        ,\n        onBlurCapture: ()=>isFocusInsideReactTreeRef.current = false\n    };\n}\nfunction $5cb92bef7577960e$var$dispatchUpdate() {\n    const event = new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);\n    document.dispatchEvent(event);\n}\nfunction $5cb92bef7577960e$var$handleAndDispatchCustomEvent(name, handler, detail, { discrete: discrete  }) {\n    const target = detail.originalEvent.target;\n    const event = new CustomEvent(name, {\n        bubbles: false,\n        cancelable: true,\n        detail: detail\n    });\n    if (handler) target.addEventListener(name, handler, {\n        once: true\n    });\n    if (discrete) $kqwpH$dispatchDiscreteCustomEvent(target, event);\n    else target.dispatchEvent(event);\n}\nconst $5cb92bef7577960e$export$be92b6f5f03c0fe9 = $5cb92bef7577960e$export$177fb62ff3ec1f22;\nconst $5cb92bef7577960e$export$aecb2ddcb55c95be = $5cb92bef7577960e$export$4d5eb2109db14228;\n\n\n\n\nexport {$5cb92bef7577960e$export$177fb62ff3ec1f22 as DismissableLayer, $5cb92bef7577960e$export$4d5eb2109db14228 as DismissableLayerBranch, $5cb92bef7577960e$export$be92b6f5f03c0fe9 as Root, $5cb92bef7577960e$export$aecb2ddcb55c95be as Branch};\n//# sourceMappingURL=index.mjs.map\n","import {useEffect as $1wErz$useEffect} from \"react\";\n\n\n/** Number of components which have requested interest to have focus guards */ let $3db38b7d1fb3fe6a$var$count = 0;\nfunction $3db38b7d1fb3fe6a$export$ac5b58043b79449b(props) {\n    $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c();\n    return props.children;\n}\n/**\n * Injects a pair of focus guards at the edges of the whole DOM tree\n * to ensure `focusin` & `focusout` events can be caught consistently.\n */ function $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c() {\n    $1wErz$useEffect(()=>{\n        var _edgeGuards$, _edgeGuards$2;\n        const edgeGuards = document.querySelectorAll('[data-radix-focus-guard]');\n        document.body.insertAdjacentElement('afterbegin', (_edgeGuards$ = edgeGuards[0]) !== null && _edgeGuards$ !== void 0 ? _edgeGuards$ : $3db38b7d1fb3fe6a$var$createFocusGuard());\n        document.body.insertAdjacentElement('beforeend', (_edgeGuards$2 = edgeGuards[1]) !== null && _edgeGuards$2 !== void 0 ? _edgeGuards$2 : $3db38b7d1fb3fe6a$var$createFocusGuard());\n        $3db38b7d1fb3fe6a$var$count++;\n        return ()=>{\n            if ($3db38b7d1fb3fe6a$var$count === 1) document.querySelectorAll('[data-radix-focus-guard]').forEach((node)=>node.remove()\n            );\n            $3db38b7d1fb3fe6a$var$count--;\n        };\n    }, []);\n}\nfunction $3db38b7d1fb3fe6a$var$createFocusGuard() {\n    const element = document.createElement('span');\n    element.setAttribute('data-radix-focus-guard', '');\n    element.tabIndex = 0;\n    element.style.cssText = 'outline: none; opacity: 0; position: fixed; pointer-events: none';\n    return element;\n}\nconst $3db38b7d1fb3fe6a$export$be92b6f5f03c0fe9 = $3db38b7d1fb3fe6a$export$ac5b58043b79449b;\n\n\n\n\nexport {$3db38b7d1fb3fe6a$export$ac5b58043b79449b as FocusGuards, $3db38b7d1fb3fe6a$export$be92b6f5f03c0fe9 as Root, $3db38b7d1fb3fe6a$export$b7ece24a22aeda8c as useFocusGuards};\n//# sourceMappingURL=index.mjs.map\n","import $45QHv$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $45QHv$forwardRef, useState as $45QHv$useState, useRef as $45QHv$useRef, useEffect as $45QHv$useEffect, useCallback as $45QHv$useCallback, createElement as $45QHv$createElement} from \"react\";\nimport {useComposedRefs as $45QHv$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {Primitive as $45QHv$Primitive} from \"@radix-ui/react-primitive\";\nimport {useCallbackRef as $45QHv$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\n\n\n\n\n\n\nconst $d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT = 'focusScope.autoFocusOnMount';\nconst $d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT = 'focusScope.autoFocusOnUnmount';\nconst $d3863c46a17e8a28$var$EVENT_OPTIONS = {\n    bubbles: false,\n    cancelable: true\n};\n/* -------------------------------------------------------------------------------------------------\n * FocusScope\n * -----------------------------------------------------------------------------------------------*/ const $d3863c46a17e8a28$var$FOCUS_SCOPE_NAME = 'FocusScope';\nconst $d3863c46a17e8a28$export$20e40289641fbbb6 = /*#__PURE__*/ $45QHv$forwardRef((props, forwardedRef)=>{\n    const { loop: loop = false , trapped: trapped = false , onMountAutoFocus: onMountAutoFocusProp , onUnmountAutoFocus: onUnmountAutoFocusProp , ...scopeProps } = props;\n    const [container1, setContainer] = $45QHv$useState(null);\n    const onMountAutoFocus = $45QHv$useCallbackRef(onMountAutoFocusProp);\n    const onUnmountAutoFocus = $45QHv$useCallbackRef(onUnmountAutoFocusProp);\n    const lastFocusedElementRef = $45QHv$useRef(null);\n    const composedRefs = $45QHv$useComposedRefs(forwardedRef, (node)=>setContainer(node)\n    );\n    const focusScope = $45QHv$useRef({\n        paused: false,\n        pause () {\n            this.paused = true;\n        },\n        resume () {\n            this.paused = false;\n        }\n    }).current; // Takes care of trapping focus if focus is moved outside programmatically for example\n    $45QHv$useEffect(()=>{\n        if (trapped) {\n            function handleFocusIn(event) {\n                if (focusScope.paused || !container1) return;\n                const target = event.target;\n                if (container1.contains(target)) lastFocusedElementRef.current = target;\n                else $d3863c46a17e8a28$var$focus(lastFocusedElementRef.current, {\n                    select: true\n                });\n            }\n            function handleFocusOut(event) {\n                if (focusScope.paused || !container1) return;\n                const relatedTarget = event.relatedTarget; // A `focusout` event with a `null` `relatedTarget` will happen in at least two cases:\n                //\n                // 1. When the user switches app/tabs/windows/the browser itself loses focus.\n                // 2. In Google Chrome, when the focused element is removed from the DOM.\n                //\n                // We let the browser do its thing here because:\n                //\n                // 1. The browser already keeps a memory of what's focused for when the page gets refocused.\n                // 2. In Google Chrome, if we try to focus the deleted focused element (as per below), it\n                //    throws the CPU to 100%, so we avoid doing anything for this reason here too.\n                if (relatedTarget === null) return; // If the focus has moved to an actual legitimate element (`relatedTarget !== null`)\n                // that is outside the container, we move focus to the last valid focused element inside.\n                if (!container1.contains(relatedTarget)) $d3863c46a17e8a28$var$focus(lastFocusedElementRef.current, {\n                    select: true\n                });\n            } // When the focused element gets removed from the DOM, browsers move focus\n            // back to the document.body. In this case, we move focus to the container\n            // to keep focus trapped correctly.\n            function handleMutations(mutations) {\n                const focusedElement = document.activeElement;\n                if (focusedElement !== document.body) return;\n                for (const mutation of mutations)if (mutation.removedNodes.length > 0) $d3863c46a17e8a28$var$focus(container1);\n            }\n            document.addEventListener('focusin', handleFocusIn);\n            document.addEventListener('focusout', handleFocusOut);\n            const mutationObserver = new MutationObserver(handleMutations);\n            if (container1) mutationObserver.observe(container1, {\n                childList: true,\n                subtree: true\n            });\n            return ()=>{\n                document.removeEventListener('focusin', handleFocusIn);\n                document.removeEventListener('focusout', handleFocusOut);\n                mutationObserver.disconnect();\n            };\n        }\n    }, [\n        trapped,\n        container1,\n        focusScope.paused\n    ]);\n    $45QHv$useEffect(()=>{\n        if (container1) {\n            $d3863c46a17e8a28$var$focusScopesStack.add(focusScope);\n            const previouslyFocusedElement = document.activeElement;\n            const hasFocusedCandidate = container1.contains(previouslyFocusedElement);\n            if (!hasFocusedCandidate) {\n                const mountEvent = new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT, $d3863c46a17e8a28$var$EVENT_OPTIONS);\n                container1.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n                container1.dispatchEvent(mountEvent);\n                if (!mountEvent.defaultPrevented) {\n                    $d3863c46a17e8a28$var$focusFirst($d3863c46a17e8a28$var$removeLinks($d3863c46a17e8a28$var$getTabbableCandidates(container1)), {\n                        select: true\n                    });\n                    if (document.activeElement === previouslyFocusedElement) $d3863c46a17e8a28$var$focus(container1);\n                }\n            }\n            return ()=>{\n                container1.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_MOUNT, onMountAutoFocus); // We hit a react bug (fixed in v17) with focusing in unmount.\n                // We need to delay the focus a little to get around it for now.\n                // See: https://github.com/facebook/react/issues/17894\n                setTimeout(()=>{\n                    const unmountEvent = new CustomEvent($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT, $d3863c46a17e8a28$var$EVENT_OPTIONS);\n                    container1.addEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n                    container1.dispatchEvent(unmountEvent);\n                    if (!unmountEvent.defaultPrevented) $d3863c46a17e8a28$var$focus(previouslyFocusedElement !== null && previouslyFocusedElement !== void 0 ? previouslyFocusedElement : document.body, {\n                        select: true\n                    });\n                     // we need to remove the listener after we `dispatchEvent`\n                    container1.removeEventListener($d3863c46a17e8a28$var$AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n                    $d3863c46a17e8a28$var$focusScopesStack.remove(focusScope);\n                }, 0);\n            };\n        }\n    }, [\n        container1,\n        onMountAutoFocus,\n        onUnmountAutoFocus,\n        focusScope\n    ]); // Takes care of looping focus (when tabbing whilst at the edges)\n    const handleKeyDown = $45QHv$useCallback((event)=>{\n        if (!loop && !trapped) return;\n        if (focusScope.paused) return;\n        const isTabKey = event.key === 'Tab' && !event.altKey && !event.ctrlKey && !event.metaKey;\n        const focusedElement = document.activeElement;\n        if (isTabKey && focusedElement) {\n            const container = event.currentTarget;\n            const [first, last] = $d3863c46a17e8a28$var$getTabbableEdges(container);\n            const hasTabbableElementsInside = first && last; // we can only wrap focus if we have tabbable edges\n            if (!hasTabbableElementsInside) {\n                if (focusedElement === container) event.preventDefault();\n            } else {\n                if (!event.shiftKey && focusedElement === last) {\n                    event.preventDefault();\n                    if (loop) $d3863c46a17e8a28$var$focus(first, {\n                        select: true\n                    });\n                } else if (event.shiftKey && focusedElement === first) {\n                    event.preventDefault();\n                    if (loop) $d3863c46a17e8a28$var$focus(last, {\n                        select: true\n                    });\n                }\n            }\n        }\n    }, [\n        loop,\n        trapped,\n        focusScope.paused\n    ]);\n    return /*#__PURE__*/ $45QHv$createElement($45QHv$Primitive.div, $45QHv$babelruntimehelpersesmextends({\n        tabIndex: -1\n    }, scopeProps, {\n        ref: composedRefs,\n        onKeyDown: handleKeyDown\n    }));\n});\n/*#__PURE__*/ Object.assign($d3863c46a17e8a28$export$20e40289641fbbb6, {\n    displayName: $d3863c46a17e8a28$var$FOCUS_SCOPE_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/ /**\n * Attempts focusing the first element in a list of candidates.\n * Stops when focus has actually moved.\n */ function $d3863c46a17e8a28$var$focusFirst(candidates, { select: select = false  } = {}) {\n    const previouslyFocusedElement = document.activeElement;\n    for (const candidate of candidates){\n        $d3863c46a17e8a28$var$focus(candidate, {\n            select: select\n        });\n        if (document.activeElement !== previouslyFocusedElement) return;\n    }\n}\n/**\n * Returns the first and last tabbable elements inside a container.\n */ function $d3863c46a17e8a28$var$getTabbableEdges(container) {\n    const candidates = $d3863c46a17e8a28$var$getTabbableCandidates(container);\n    const first = $d3863c46a17e8a28$var$findVisible(candidates, container);\n    const last = $d3863c46a17e8a28$var$findVisible(candidates.reverse(), container);\n    return [\n        first,\n        last\n    ];\n}\n/**\n * Returns a list of potential tabbable candidates.\n *\n * NOTE: This is only a close approximation. For example it doesn't take into account cases like when\n * elements are not visible. This cannot be worked out easily by just reading a property, but rather\n * necessitate runtime knowledge (computed styles, etc). We deal with these cases separately.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\n * Credit: https://github.com/discord/focus-layers/blob/master/src/util/wrapFocus.tsx#L1\n */ function $d3863c46a17e8a28$var$getTabbableCandidates(container) {\n    const nodes = [];\n    const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n        acceptNode: (node)=>{\n            const isHiddenInput = node.tagName === 'INPUT' && node.type === 'hidden';\n            if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP; // `.tabIndex` is not the same as the `tabindex` attribute. It works on the\n            // runtime's understanding of tabbability, so this automatically accounts\n            // for any kind of element that could be tabbed to.\n            return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n        }\n    });\n    while(walker.nextNode())nodes.push(walker.currentNode); // we do not take into account the order of nodes with positive `tabIndex` as it\n    // hinders accessibility to have tab order different from visual order.\n    return nodes;\n}\n/**\n * Returns the first visible element in a list.\n * NOTE: Only checks visibility up to the `container`.\n */ function $d3863c46a17e8a28$var$findVisible(elements, container) {\n    for (const element of elements){\n        // we stop checking if it's hidden at the `container` level (excluding)\n        if (!$d3863c46a17e8a28$var$isHidden(element, {\n            upTo: container\n        })) return element;\n    }\n}\nfunction $d3863c46a17e8a28$var$isHidden(node, { upTo: upTo  }) {\n    if (getComputedStyle(node).visibility === 'hidden') return true;\n    while(node){\n        // we stop at `upTo` (excluding it)\n        if (upTo !== undefined && node === upTo) return false;\n        if (getComputedStyle(node).display === 'none') return true;\n        node = node.parentElement;\n    }\n    return false;\n}\nfunction $d3863c46a17e8a28$var$isSelectableInput(element) {\n    return element instanceof HTMLInputElement && 'select' in element;\n}\nfunction $d3863c46a17e8a28$var$focus(element, { select: select = false  } = {}) {\n    // only focus if that element is focusable\n    if (element && element.focus) {\n        const previouslyFocusedElement = document.activeElement; // NOTE: we prevent scrolling on focus, to minimize jarring transitions for users\n        element.focus({\n            preventScroll: true\n        }); // only select if its not the same element, it supports selection and we need to select\n        if (element !== previouslyFocusedElement && $d3863c46a17e8a28$var$isSelectableInput(element) && select) element.select();\n    }\n}\n/* -------------------------------------------------------------------------------------------------\n * FocusScope stack\n * -----------------------------------------------------------------------------------------------*/ const $d3863c46a17e8a28$var$focusScopesStack = $d3863c46a17e8a28$var$createFocusScopesStack();\nfunction $d3863c46a17e8a28$var$createFocusScopesStack() {\n    /** A stack of focus scopes, with the active one at the top */ let stack = [];\n    return {\n        add (focusScope) {\n            // pause the currently active focus scope (at the top of the stack)\n            const activeFocusScope = stack[0];\n            if (focusScope !== activeFocusScope) activeFocusScope === null || activeFocusScope === void 0 || activeFocusScope.pause();\n             // remove in case it already exists (because we'll re-add it at the top of the stack)\n            stack = $d3863c46a17e8a28$var$arrayRemove(stack, focusScope);\n            stack.unshift(focusScope);\n        },\n        remove (focusScope) {\n            var _stack$;\n            stack = $d3863c46a17e8a28$var$arrayRemove(stack, focusScope);\n            (_stack$ = stack[0]) === null || _stack$ === void 0 || _stack$.resume();\n        }\n    };\n}\nfunction $d3863c46a17e8a28$var$arrayRemove(array, item) {\n    const updatedArray = [\n        ...array\n    ];\n    const index = updatedArray.indexOf(item);\n    if (index !== -1) updatedArray.splice(index, 1);\n    return updatedArray;\n}\nfunction $d3863c46a17e8a28$var$removeLinks(items) {\n    return items.filter((item)=>item.tagName !== 'A'\n    );\n}\nconst $d3863c46a17e8a28$export$be92b6f5f03c0fe9 = $d3863c46a17e8a28$export$20e40289641fbbb6;\n\n\n\n\nexport {$d3863c46a17e8a28$export$20e40289641fbbb6 as FocusScope, $d3863c46a17e8a28$export$be92b6f5f03c0fe9 as Root};\n//# sourceMappingURL=index.mjs.map\n","import * as $2AODx$react from \"react\";\nimport {useLayoutEffect as $2AODx$useLayoutEffect} from \"@radix-ui/react-use-layout-effect\";\n\n\n\nconst $1746a345f3d73bb7$var$useReactId = $2AODx$react['useId'.toString()] || (()=>undefined\n);\nlet $1746a345f3d73bb7$var$count = 0;\nfunction $1746a345f3d73bb7$export$f680877a34711e37(deterministicId) {\n    const [id, setId] = $2AODx$react.useState($1746a345f3d73bb7$var$useReactId()); // React versions older than 18 will have client-side ids only.\n    $2AODx$useLayoutEffect(()=>{\n        if (!deterministicId) setId((reactId)=>reactId !== null && reactId !== void 0 ? reactId : String($1746a345f3d73bb7$var$count++)\n        );\n    }, [\n        deterministicId\n    ]);\n    return deterministicId || (id ? `radix-${id}` : '');\n}\n\n\n\n\nexport {$1746a345f3d73bb7$export$f680877a34711e37 as useId};\n//# sourceMappingURL=index.mjs.map\n","import $7SXl2$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $7SXl2$forwardRef, createElement as $7SXl2$createElement} from \"react\";\nimport $7SXl2$reactdom from \"react-dom\";\nimport {Primitive as $7SXl2$Primitive} from \"@radix-ui/react-primitive\";\n\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/ const $f1701beae083dbae$var$PORTAL_NAME = 'Portal';\nconst $f1701beae083dbae$export$602eac185826482c = /*#__PURE__*/ $7SXl2$forwardRef((props, forwardedRef)=>{\n    var _globalThis$document;\n    const { container: container = globalThis === null || globalThis === void 0 ? void 0 : (_globalThis$document = globalThis.document) === null || _globalThis$document === void 0 ? void 0 : _globalThis$document.body , ...portalProps } = props;\n    return container ? /*#__PURE__*/ $7SXl2$reactdom.createPortal(/*#__PURE__*/ $7SXl2$createElement($7SXl2$Primitive.div, $7SXl2$babelruntimehelpersesmextends({}, portalProps, {\n        ref: forwardedRef\n    })), container) : null;\n});\n/*#__PURE__*/ Object.assign($f1701beae083dbae$export$602eac185826482c, {\n    displayName: $f1701beae083dbae$var$PORTAL_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const $f1701beae083dbae$export$be92b6f5f03c0fe9 = $f1701beae083dbae$export$602eac185826482c;\n\n\n\n\nexport {$f1701beae083dbae$export$602eac185826482c as Portal, $f1701beae083dbae$export$be92b6f5f03c0fe9 as Root};\n//# sourceMappingURL=index.mjs.map\n","import {Children as $iqq3r$Children, cloneElement as $iqq3r$cloneElement, useState as $iqq3r$useState, useRef as $iqq3r$useRef, useEffect as $iqq3r$useEffect, useCallback as $iqq3r$useCallback, useReducer as $iqq3r$useReducer} from \"react\";\nimport {flushSync as $iqq3r$flushSync} from \"react-dom\";\nimport {useComposedRefs as $iqq3r$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {useLayoutEffect as $iqq3r$useLayoutEffect} from \"@radix-ui/react-use-layout-effect\";\n\n\n\n\n\n\nfunction $fe963b355347cc68$export$3e6543de14f8614f(initialState, machine) {\n    return $iqq3r$useReducer((state, event)=>{\n        const nextState = machine[state][event];\n        return nextState !== null && nextState !== void 0 ? nextState : state;\n    }, initialState);\n}\n\n\nconst $921a889cee6df7e8$export$99c2b779aa4e8b8b = (props)=>{\n    const { present: present , children: children  } = props;\n    const presence = $921a889cee6df7e8$var$usePresence(present);\n    const child = typeof children === 'function' ? children({\n        present: presence.isPresent\n    }) : $iqq3r$Children.only(children);\n    const ref = $iqq3r$useComposedRefs(presence.ref, child.ref);\n    const forceMount = typeof children === 'function';\n    return forceMount || presence.isPresent ? /*#__PURE__*/ $iqq3r$cloneElement(child, {\n        ref: ref\n    }) : null;\n};\n$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName = 'Presence';\n/* -------------------------------------------------------------------------------------------------\n * usePresence\n * -----------------------------------------------------------------------------------------------*/ function $921a889cee6df7e8$var$usePresence(present) {\n    const [node1, setNode] = $iqq3r$useState();\n    const stylesRef = $iqq3r$useRef({});\n    const prevPresentRef = $iqq3r$useRef(present);\n    const prevAnimationNameRef = $iqq3r$useRef('none');\n    const initialState = present ? 'mounted' : 'unmounted';\n    const [state, send] = $fe963b355347cc68$export$3e6543de14f8614f(initialState, {\n        mounted: {\n            UNMOUNT: 'unmounted',\n            ANIMATION_OUT: 'unmountSuspended'\n        },\n        unmountSuspended: {\n            MOUNT: 'mounted',\n            ANIMATION_END: 'unmounted'\n        },\n        unmounted: {\n            MOUNT: 'mounted'\n        }\n    });\n    $iqq3r$useEffect(()=>{\n        const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n        prevAnimationNameRef.current = state === 'mounted' ? currentAnimationName : 'none';\n    }, [\n        state\n    ]);\n    $iqq3r$useLayoutEffect(()=>{\n        const styles = stylesRef.current;\n        const wasPresent = prevPresentRef.current;\n        const hasPresentChanged = wasPresent !== present;\n        if (hasPresentChanged) {\n            const prevAnimationName = prevAnimationNameRef.current;\n            const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(styles);\n            if (present) send('MOUNT');\n            else if (currentAnimationName === 'none' || (styles === null || styles === void 0 ? void 0 : styles.display) === 'none') // If there is no exit animation or the element is hidden, animations won't run\n            // so we unmount instantly\n            send('UNMOUNT');\n            else {\n                /**\n         * When `present` changes to `false`, we check changes to animation-name to\n         * determine whether an animation has started. We chose this approach (reading\n         * computed styles) because there is no `animationrun` event and `animationstart`\n         * fires after `animation-delay` has expired which would be too late.\n         */ const isAnimating = prevAnimationName !== currentAnimationName;\n                if (wasPresent && isAnimating) send('ANIMATION_OUT');\n                else send('UNMOUNT');\n            }\n            prevPresentRef.current = present;\n        }\n    }, [\n        present,\n        send\n    ]);\n    $iqq3r$useLayoutEffect(()=>{\n        if (node1) {\n            /**\n       * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n       * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n       * make sure we only trigger ANIMATION_END for the currently active animation.\n       */ const handleAnimationEnd = (event)=>{\n                const currentAnimationName = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n                const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n                if (event.target === node1 && isCurrentAnimation) // With React 18 concurrency this update is applied\n                // a frame after the animation ends, creating a flash of visible content.\n                // By manually flushing we ensure they sync within a frame, removing the flash.\n                $iqq3r$flushSync(()=>send('ANIMATION_END')\n                );\n            };\n            const handleAnimationStart = (event)=>{\n                if (event.target === node1) // if animation occurred, store its name as the previous animation.\n                prevAnimationNameRef.current = $921a889cee6df7e8$var$getAnimationName(stylesRef.current);\n            };\n            node1.addEventListener('animationstart', handleAnimationStart);\n            node1.addEventListener('animationcancel', handleAnimationEnd);\n            node1.addEventListener('animationend', handleAnimationEnd);\n            return ()=>{\n                node1.removeEventListener('animationstart', handleAnimationStart);\n                node1.removeEventListener('animationcancel', handleAnimationEnd);\n                node1.removeEventListener('animationend', handleAnimationEnd);\n            };\n        } else // Transition to the unmounted state if the node is removed prematurely.\n        // We avoid doing so during cleanup as the node may change but still exist.\n        send('ANIMATION_END');\n    }, [\n        node1,\n        send\n    ]);\n    return {\n        isPresent: [\n            'mounted',\n            'unmountSuspended'\n        ].includes(state),\n        ref: $iqq3r$useCallback((node)=>{\n            if (node) stylesRef.current = getComputedStyle(node);\n            setNode(node);\n        }, [])\n    };\n}\n/* -----------------------------------------------------------------------------------------------*/ function $921a889cee6df7e8$var$getAnimationName(styles) {\n    return (styles === null || styles === void 0 ? void 0 : styles.animationName) || 'none';\n}\n\n\n\n\nexport {$921a889cee6df7e8$export$99c2b779aa4e8b8b as Presence};\n//# sourceMappingURL=index.mjs.map\n","import $4q5Fq$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $4q5Fq$forwardRef, useEffect as $4q5Fq$useEffect, createElement as $4q5Fq$createElement} from \"react\";\nimport {flushSync as $4q5Fq$flushSync} from \"react-dom\";\nimport {Slot as $4q5Fq$Slot} from \"@radix-ui/react-slot\";\n\n\n\n\n\nconst $8927f6f2acc4f386$var$NODES = [\n    'a',\n    'button',\n    'div',\n    'form',\n    'h2',\n    'h3',\n    'img',\n    'input',\n    'label',\n    'li',\n    'nav',\n    'ol',\n    'p',\n    'span',\n    'svg',\n    'ul'\n]; // Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/ const $8927f6f2acc4f386$export$250ffa63cdc0d034 = $8927f6f2acc4f386$var$NODES.reduce((primitive, node)=>{\n    const Node = /*#__PURE__*/ $4q5Fq$forwardRef((props, forwardedRef)=>{\n        const { asChild: asChild , ...primitiveProps } = props;\n        const Comp = asChild ? $4q5Fq$Slot : node;\n        $4q5Fq$useEffect(()=>{\n            window[Symbol.for('radix-ui')] = true;\n        }, []);\n        return /*#__PURE__*/ $4q5Fq$createElement(Comp, $4q5Fq$babelruntimehelpersesmextends({}, primitiveProps, {\n            ref: forwardedRef\n        }));\n    });\n    Node.displayName = `Primitive.${node}`;\n    return {\n        ...primitive,\n        [node]: Node\n    };\n}, {});\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/ /**\n * Flush custom event dispatch\n * https://github.com/radix-ui/primitives/pull/1378\n *\n * React batches *all* event handlers since version 18, this introduces certain considerations when using custom event types.\n *\n * Internally, React prioritises events in the following order:\n *  - discrete\n *  - continuous\n *  - default\n *\n * https://github.com/facebook/react/blob/a8a4742f1c54493df00da648a3f9d26e3db9c8b5/packages/react-dom/src/events/ReactDOMEventListener.js#L294-L350\n *\n * `discrete` is an  important distinction as updates within these events are applied immediately.\n * React however, is not able to infer the priority of custom event types due to how they are detected internally.\n * Because of this, it's possible for updates from custom events to be unexpectedly batched when\n * dispatched by another `discrete` event.\n *\n * In order to ensure that updates from custom events are applied predictably, we need to manually flush the batch.\n * This utility should be used when dispatching a custom event from within another `discrete` event, this utility\n * is not nessesary when dispatching known event types, or if dispatching a custom type inside a non-discrete event.\n * For example:\n *\n * dispatching a known click \n * target.dispatchEvent(new Event(click))\n *\n * dispatching a custom type within a non-discrete event \n * onScroll={(event) => event.target.dispatchEvent(new CustomEvent(customType))}\n *\n * dispatching a custom type within a `discrete` event \n * onPointerDown={(event) => dispatchDiscreteCustomEvent(event.target, new CustomEvent(customType))}\n *\n * Note: though React classifies `focus`, `focusin` and `focusout` events as `discrete`, it's  not recommended to use\n * this utility with them. This is because it's possible for those handlers to be called implicitly during render\n * e.g. when focus is within a component as it is unmounted, or when managing focus on mount.\n */ function $8927f6f2acc4f386$export$6d1a0317bde7de7f(target, event) {\n    if (target) $4q5Fq$flushSync(()=>target.dispatchEvent(event)\n    );\n}\n/* -----------------------------------------------------------------------------------------------*/ const $8927f6f2acc4f386$export$be92b6f5f03c0fe9 = $8927f6f2acc4f386$export$250ffa63cdc0d034;\n\n\n\n\nexport {$8927f6f2acc4f386$export$250ffa63cdc0d034 as Primitive, $8927f6f2acc4f386$export$be92b6f5f03c0fe9 as Root, $8927f6f2acc4f386$export$6d1a0317bde7de7f as dispatchDiscreteCustomEvent};\n//# sourceMappingURL=index.mjs.map\n","import $9IrjX$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $9IrjX$forwardRef, Children as $9IrjX$Children, isValidElement as $9IrjX$isValidElement, createElement as $9IrjX$createElement, cloneElement as $9IrjX$cloneElement, Fragment as $9IrjX$Fragment} from \"react\";\nimport {composeRefs as $9IrjX$composeRefs} from \"@radix-ui/react-compose-refs\";\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/ const $5e63c961fc1ce211$export$8c6ed5c666ac1360 = /*#__PURE__*/ $9IrjX$forwardRef((props, forwardedRef)=>{\n    const { children: children , ...slotProps } = props;\n    const childrenArray = $9IrjX$Children.toArray(children);\n    const slottable = childrenArray.find($5e63c961fc1ce211$var$isSlottable);\n    if (slottable) {\n        // the new element to render is the one passed as a child of `Slottable`\n        const newElement = slottable.props.children;\n        const newChildren = childrenArray.map((child)=>{\n            if (child === slottable) {\n                // because the new element will be the one rendered, we are only interested\n                // in grabbing its children (`newElement.props.children`)\n                if ($9IrjX$Children.count(newElement) > 1) return $9IrjX$Children.only(null);\n                return /*#__PURE__*/ $9IrjX$isValidElement(newElement) ? newElement.props.children : null;\n            } else return child;\n        });\n        return /*#__PURE__*/ $9IrjX$createElement($5e63c961fc1ce211$var$SlotClone, $9IrjX$babelruntimehelpersesmextends({}, slotProps, {\n            ref: forwardedRef\n        }), /*#__PURE__*/ $9IrjX$isValidElement(newElement) ? /*#__PURE__*/ $9IrjX$cloneElement(newElement, undefined, newChildren) : null);\n    }\n    return /*#__PURE__*/ $9IrjX$createElement($5e63c961fc1ce211$var$SlotClone, $9IrjX$babelruntimehelpersesmextends({}, slotProps, {\n        ref: forwardedRef\n    }), children);\n});\n$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName = 'Slot';\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/ const $5e63c961fc1ce211$var$SlotClone = /*#__PURE__*/ $9IrjX$forwardRef((props, forwardedRef)=>{\n    const { children: children , ...slotProps } = props;\n    if (/*#__PURE__*/ $9IrjX$isValidElement(children)) return /*#__PURE__*/ $9IrjX$cloneElement(children, {\n        ...$5e63c961fc1ce211$var$mergeProps(slotProps, children.props),\n        ref: forwardedRef ? $9IrjX$composeRefs(forwardedRef, children.ref) : children.ref\n    });\n    return $9IrjX$Children.count(children) > 1 ? $9IrjX$Children.only(null) : null;\n});\n$5e63c961fc1ce211$var$SlotClone.displayName = 'SlotClone';\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/ const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45 = ({ children: children  })=>{\n    return /*#__PURE__*/ $9IrjX$createElement($9IrjX$Fragment, null, children);\n};\n/* ---------------------------------------------------------------------------------------------- */ function $5e63c961fc1ce211$var$isSlottable(child) {\n    return /*#__PURE__*/ $9IrjX$isValidElement(child) && child.type === $5e63c961fc1ce211$export$d9f1ccf0bdb05d45;\n}\nfunction $5e63c961fc1ce211$var$mergeProps(slotProps, childProps) {\n    // all child props should override\n    const overrideProps = {\n        ...childProps\n    };\n    for(const propName in childProps){\n        const slotPropValue = slotProps[propName];\n        const childPropValue = childProps[propName];\n        const isHandler = /^on[A-Z]/.test(propName);\n        if (isHandler) {\n            // if the handler exists on both, we compose them\n            if (slotPropValue && childPropValue) overrideProps[propName] = (...args)=>{\n                childPropValue(...args);\n                slotPropValue(...args);\n            };\n            else if (slotPropValue) overrideProps[propName] = slotPropValue;\n        } else if (propName === 'style') overrideProps[propName] = {\n            ...slotPropValue,\n            ...childPropValue\n        };\n        else if (propName === 'className') overrideProps[propName] = [\n            slotPropValue,\n            childPropValue\n        ].filter(Boolean).join(' ');\n    }\n    return {\n        ...slotProps,\n        ...overrideProps\n    };\n}\nconst $5e63c961fc1ce211$export$be92b6f5f03c0fe9 = $5e63c961fc1ce211$export$8c6ed5c666ac1360;\n\n\n\n\nexport {$5e63c961fc1ce211$export$8c6ed5c666ac1360 as Slot, $5e63c961fc1ce211$export$d9f1ccf0bdb05d45 as Slottable, $5e63c961fc1ce211$export$be92b6f5f03c0fe9 as Root};\n//# sourceMappingURL=index.mjs.map\n","import {useRef as $lwiWj$useRef, useEffect as $lwiWj$useEffect, useMemo as $lwiWj$useMemo} from \"react\";\n\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */ function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(callback) {\n    const callbackRef = $lwiWj$useRef(callback);\n    $lwiWj$useEffect(()=>{\n        callbackRef.current = callback;\n    }); // https://github.com/facebook/react/issues/19240\n    return $lwiWj$useMemo(()=>(...args)=>{\n            var _callbackRef$current;\n            return (_callbackRef$current = callbackRef.current) === null || _callbackRef$current === void 0 ? void 0 : _callbackRef$current.call(callbackRef, ...args);\n        }\n    , []);\n}\n\n\n\n\nexport {$b1b2314f5f9a1d84$export$25bec8c6f54ee79a as useCallbackRef};\n//# sourceMappingURL=index.mjs.map\n","import {useCallback as $bnPw9$useCallback, useState as $bnPw9$useState, useRef as $bnPw9$useRef, useEffect as $bnPw9$useEffect} from \"react\";\nimport {useCallbackRef as $bnPw9$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\n\n\n\nfunction $71cd76cc60e0454e$export$6f32135080cb4c3({ prop: prop , defaultProp: defaultProp , onChange: onChange = ()=>{}  }) {\n    const [uncontrolledProp, setUncontrolledProp] = $71cd76cc60e0454e$var$useUncontrolledState({\n        defaultProp: defaultProp,\n        onChange: onChange\n    });\n    const isControlled = prop !== undefined;\n    const value1 = isControlled ? prop : uncontrolledProp;\n    const handleChange = $bnPw9$useCallbackRef(onChange);\n    const setValue = $bnPw9$useCallback((nextValue)=>{\n        if (isControlled) {\n            const setter = nextValue;\n            const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n            if (value !== prop) handleChange(value);\n        } else setUncontrolledProp(nextValue);\n    }, [\n        isControlled,\n        prop,\n        setUncontrolledProp,\n        handleChange\n    ]);\n    return [\n        value1,\n        setValue\n    ];\n}\nfunction $71cd76cc60e0454e$var$useUncontrolledState({ defaultProp: defaultProp , onChange: onChange  }) {\n    const uncontrolledState = $bnPw9$useState(defaultProp);\n    const [value] = uncontrolledState;\n    const prevValueRef = $bnPw9$useRef(value);\n    const handleChange = $bnPw9$useCallbackRef(onChange);\n    $bnPw9$useEffect(()=>{\n        if (prevValueRef.current !== value) {\n            handleChange(value);\n            prevValueRef.current = value;\n        }\n    }, [\n        value,\n        prevValueRef,\n        handleChange\n    ]);\n    return uncontrolledState;\n}\n\n\n\n\nexport {$71cd76cc60e0454e$export$6f32135080cb4c3 as useControllableState};\n//# sourceMappingURL=index.mjs.map\n","import {useEffect as $hPSQ5$useEffect} from \"react\";\nimport {useCallbackRef as $hPSQ5$useCallbackRef} from \"@radix-ui/react-use-callback-ref\";\n\n\n\n/**\n * Listens for when the escape key is down\n */ function $addc16e1bbe58fd0$export$3a72a57244d6e765(onEscapeKeyDownProp, ownerDocument = globalThis === null || globalThis === void 0 ? void 0 : globalThis.document) {\n    const onEscapeKeyDown = $hPSQ5$useCallbackRef(onEscapeKeyDownProp);\n    $hPSQ5$useEffect(()=>{\n        const handleKeyDown = (event)=>{\n            if (event.key === 'Escape') onEscapeKeyDown(event);\n        };\n        ownerDocument.addEventListener('keydown', handleKeyDown);\n        return ()=>ownerDocument.removeEventListener('keydown', handleKeyDown)\n        ;\n    }, [\n        onEscapeKeyDown,\n        ownerDocument\n    ]);\n}\n\n\n\n\nexport {$addc16e1bbe58fd0$export$3a72a57244d6e765 as useEscapeKeydown};\n//# sourceMappingURL=index.mjs.map\n","import {useLayoutEffect as $dxlwH$useLayoutEffect} from \"react\";\n\n\n/**\n * On the server, React emits a warning when calling `useLayoutEffect`.\n * This is because neither `useLayoutEffect` nor `useEffect` run on the server.\n * We use this safe version which suppresses the warning by replacing it with a noop on the server.\n *\n * See: https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */ const $9f79659886946c16$export$e5c5a5f917a5871c = Boolean(globalThis === null || globalThis === void 0 ? void 0 : globalThis.document) ? $dxlwH$useLayoutEffect : ()=>{};\n\n\n\n\nexport {$9f79659886946c16$export$e5c5a5f917a5871c as useLayoutEffect};\n//# sourceMappingURL=index.mjs.map\n","/*\n* React Tooltip\n* {@link https://github.com/ReactTooltip/react-tooltip}\n* @copyright ReactTooltip Team\n* @license MIT\n*/\nimport e,{createContext as t,useState as o,useCallback as l,useMemo as r,useContext as n,useRef as c,useEffect as i,useLayoutEffect as s,useImperativeHandle as a}from\"react\";import{arrow as d,computePosition as u,offset as p,flip as v,shift as m,autoUpdate as f}from\"@floating-ui/dom\";import y from\"classnames\";const h=\"react-tooltip-core-styles\",w=\"react-tooltip-base-styles\",b={core:!1,base:!1};function S({css:e,id:t=w,type:o=\"base\",ref:l}){var r,n;if(!e||\"undefined\"==typeof document||b[o])return;if(\"core\"===o&&\"undefined\"!=typeof process&&(null===(r=null===process||void 0===process?void 0:process.env)||void 0===r?void 0:r.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if(\"base\"!==o&&\"undefined\"!=typeof process&&(null===(n=null===process||void 0===process?void 0:process.env)||void 0===n?void 0:n.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;\"core\"===o&&(t=h),l||(l={});const{insertAt:c}=l;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \\`removeStyle()\\` first`);const i=document.head||document.getElementsByTagName(\"head\")[0],s=document.createElement(\"style\");s.id=t,s.type=\"text/css\",\"top\"===c&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),b[o]=!0}function E({type:e=\"base\",id:t=w}={}){if(!b[e])return;\"core\"===e&&(t=h);const o=document.getElementById(t);\"style\"===(null==o?void 0:o.tagName)?null==o||o.remove():console.warn(`[react-tooltip] Failed to remove 'style' element with id '${t}'. Call \\`injectStyle()\\` first`),b[e]=!1}const g=(e,t,o)=>{let l=null;return function(...r){const n=()=>{l=null,o||e.apply(this,r)};o&&!l&&(e.apply(this,r),l=setTimeout(n,t)),o||(l&&clearTimeout(l),l=setTimeout(n,t))}},_=\"DEFAULT_TOOLTIP_ID\",A={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},O=t({getTooltipData:()=>A}),T=({children:t})=>{const[n,c]=o({[_]:new Set}),[i,s]=o({[_]:{current:null}}),a=(e,...t)=>{c((o=>{var l;const r=null!==(l=o[e])&&void 0!==l?l:new Set;return t.forEach((e=>r.add(e))),{...o,[e]:new Set(r)}}))},d=(e,...t)=>{c((o=>{const l=o[e];return l?(t.forEach((e=>l.delete(e))),{...o}):o}))},u=l(((e=_)=>{var t,o;return{anchorRefs:null!==(t=n[e])&&void 0!==t?t:new Set,activeAnchor:null!==(o=i[e])&&void 0!==o?o:{current:null},attach:(...t)=>a(e,...t),detach:(...t)=>d(e,...t),setActiveAnchor:t=>((e,t)=>{s((o=>{var l;return(null===(l=o[e])||void 0===l?void 0:l.current)===t.current?o:{...o,[e]:t}}))})(e,t)}}),[n,i,a,d]),p=r((()=>({getTooltipData:u})),[u]);return e.createElement(O.Provider,{value:p},t)};function k(e=_){return n(O).getTooltipData(e)}const L=({tooltipId:t,children:o,className:l,place:r,content:n,html:s,variant:a,offset:d,wrapper:u,events:p,positionStrategy:v,delayShow:m,delayHide:f})=>{const{attach:h,detach:w}=k(t),b=c(null);return i((()=>(h(b),()=>{w(b)})),[]),e.createElement(\"span\",{ref:b,className:y(\"react-tooltip-wrapper\",l),\"data-tooltip-place\":r,\"data-tooltip-content\":n,\"data-tooltip-html\":s,\"data-tooltip-variant\":a,\"data-tooltip-offset\":d,\"data-tooltip-wrapper\":u,\"data-tooltip-events\":p,\"data-tooltip-position-strategy\":v,\"data-tooltip-delay-show\":m,\"data-tooltip-delay-hide\":f},o)},C=\"undefined\"!=typeof window?s:i,R=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return[\"overflow\",\"overflow-x\",\"overflow-y\"].some((e=>{const o=t.getPropertyValue(e);return\"auto\"===o||\"scroll\"===o}))},x=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(R(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},N=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:o=null,place:l=\"top\",offset:r=10,strategy:n=\"absolute\",middlewares:c=[p(Number(r)),v(),m({padding:5})],border:i})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:l};if(null===t)return{tooltipStyles:{},tooltipArrowStyles:{},place:l};const s=c;return o?(s.push(d({element:o,padding:5})),u(e,t,{placement:l,strategy:n,middleware:s}).then((({x:e,y:t,placement:o,middlewareData:l})=>{var r,n;const c={left:`${e}px`,top:`${t}px`,border:i},{x:s,y:a}=null!==(r=l.arrow)&&void 0!==r?r:{x:0,y:0},d=null!==(n={top:\"bottom\",right:\"left\",bottom:\"top\",left:\"right\"}[o.split(\"-\")[0]])&&void 0!==n?n:\"bottom\",u=i&&{borderBottom:i,borderRight:i};let p=0;if(i){const e=`${i}`.match(/(\\d+)px/);p=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:c,tooltipArrowStyles:{left:null!=s?`${s}px`:\"\",top:null!=a?`${a}px`:\"\",right:\"\",bottom:\"\",...u,[d]:`-${4+p}px`},place:o}}))):u(e,t,{placement:\"bottom\",strategy:n,middleware:s}).then((({x:e,y:t,placement:o})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:o})))};var $={tooltip:\"core-styles-module_tooltip__3vRRp\",fixed:\"core-styles-module_fixed__pcSol\",arrow:\"core-styles-module_arrow__cvMwQ\",noArrow:\"core-styles-module_noArrow__xock6\",clickable:\"core-styles-module_clickable__ZuTTB\",show:\"core-styles-module_show__Nt9eE\",closing:\"core-styles-module_closing__sGnxF\"},j={tooltip:\"styles-module_tooltip__mnnfp\",arrow:\"styles-module_arrow__K0L3T\",dark:\"styles-module_dark__xNqje\",light:\"styles-module_light__Z6W-X\",success:\"styles-module_success__A2AKt\",warning:\"styles-module_warning__SCK0X\",error:\"styles-module_error__JvumD\",info:\"styles-module_info__BWdHW\"};const I=({forwardRef:t,id:r,className:n,classNameArrow:s,variant:d=\"dark\",anchorId:u,anchorSelect:p,place:v=\"top\",offset:m=10,events:h=[\"hover\"],openOnClick:w=!1,positionStrategy:b=\"absolute\",middlewares:S,wrapper:E,delayShow:_=0,delayHide:A=0,float:O=!1,hidden:T=!1,noArrow:L=!1,clickable:R=!1,closeOnEsc:I=!1,closeOnScroll:B=!1,closeOnResize:z=!1,openEvents:D,closeEvents:q,globalCloseEvents:H,imperativeModeOnly:M,style:W,position:P,afterShow:F,afterHide:K,content:U,contentWrapperRef:X,isOpen:Y,setIsOpen:G,activeAnchor:V,setActiveAnchor:Z,border:J,opacity:Q,arrowColor:ee,role:te=\"tooltip\"})=>{var oe;const le=c(null),re=c(null),ne=c(null),ce=c(null),[ie,se]=o(v),[ae,de]=o({}),[ue,pe]=o({}),[ve,me]=o(!1),[fe,ye]=o(!1),[he,we]=o(null),be=c(!1),Se=c(null),{anchorRefs:Ee,setActiveAnchor:ge}=k(r),_e=c(!1),[Ae,Oe]=o([]),Te=c(!1),ke=w||h.includes(\"click\"),Le=ke||(null==D?void 0:D.click)||(null==D?void 0:D.dblclick)||(null==D?void 0:D.mousedown),Ce=D?{...D}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!D&&ke&&Object.assign(Ce,{mouseenter:!1,focus:!1,click:!0});const Re=q?{...q}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!q&&ke&&Object.assign(Re,{mouseleave:!1,blur:!1});const xe=H?{...H}:{escape:I||!1,scroll:B||!1,resize:z||!1,clickOutsideAnchor:Le||!1};M&&(Object.assign(Ce,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Re,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(xe,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),C((()=>(Te.current=!0,()=>{Te.current=!1})),[]);const Ne=e=>{Te.current&&(e&&ye(!0),setTimeout((()=>{Te.current&&(null==G||G(e),void 0===Y&&me(e))}),10))};i((()=>{if(void 0===Y)return()=>null;Y&&ye(!0);const e=setTimeout((()=>{me(Y)}),10);return()=>{clearTimeout(e)}}),[Y]),i((()=>{ve!==be.current&&(be.current=ve,ve&&(null==F||F()))}),[ve]);const $e=(e=_)=>{ne.current&&clearTimeout(ne.current),ne.current=setTimeout((()=>{Ne(!0)}),e)},je=(e=A)=>{ce.current&&clearTimeout(ce.current),ce.current=setTimeout((()=>{_e.current||Ne(!1)}),e)},Ie=e=>{var t;if(!e)return;const o=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==o?void 0:o.isConnected))return Z(null),void ge({current:null});_?$e():Ne(!0),Z(o),ge({current:o}),ce.current&&clearTimeout(ce.current)},Be=()=>{R?je(A||100):A?je():Ne(!1),ne.current&&clearTimeout(ne.current)},ze=({x:e,y:t})=>{var o;const l={getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})};N({place:null!==(o=null==he?void 0:he.place)&&void 0!==o?o:v,offset:m,elementReference:l,tooltipReference:le.current,tooltipArrowReference:re.current,strategy:b,middlewares:S,border:J}).then((e=>{Object.keys(e.tooltipStyles).length&&de(e.tooltipStyles),Object.keys(e.tooltipArrowStyles).length&&pe(e.tooltipArrowStyles),se(e.place)}))},De=e=>{if(!e)return;const t=e,o={x:t.clientX,y:t.clientY};ze(o),Se.current=o},qe=e=>{var t;if(!ve)return;const o=e.target;if(null===(t=le.current)||void 0===t?void 0:t.contains(o))return;[document.querySelector(`[id='${u}']`),...Ae].some((e=>null==e?void 0:e.contains(o)))||(Ne(!1),ne.current&&clearTimeout(ne.current))},He=g(Ie,50,!0),Me=g(Be,50,!0),We=l((()=>{var e,t;const o=null!==(e=null==he?void 0:he.position)&&void 0!==e?e:P;o?ze(o):O?Se.current&&ze(Se.current):(null==V?void 0:V.isConnected)&&N({place:null!==(t=null==he?void 0:he.place)&&void 0!==t?t:v,offset:m,elementReference:V,tooltipReference:le.current,tooltipArrowReference:re.current,strategy:b,middlewares:S,border:J}).then((e=>{Te.current&&(Object.keys(e.tooltipStyles).length&&de(e.tooltipStyles),Object.keys(e.tooltipArrowStyles).length&&pe(e.tooltipArrowStyles),se(e.place))}))}),[ve,V,U,W,v,null==he?void 0:he.place,m,b,P,null==he?void 0:he.position,O]);i((()=>{var e,t;const o=new Set(Ee);Ae.forEach((e=>{o.add({current:e})}));const l=document.querySelector(`[id='${u}']`);l&&o.add({current:l});const r=()=>{Ne(!1)},n=x(V),c=x(le.current);xe.scroll&&(window.addEventListener(\"scroll\",r),null==n||n.addEventListener(\"scroll\",r),null==c||c.addEventListener(\"scroll\",r));let i=null;xe.resize?window.addEventListener(\"resize\",r):V&&le.current&&(i=f(V,le.current,We,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const s=e=>{\"Escape\"===e.key&&Ne(!1)};xe.escape&&window.addEventListener(\"keydown\",s),xe.clickOutsideAnchor&&window.addEventListener(\"click\",qe);const a=[],d=e=>{ve||Ie(e)},p=()=>{ve&&Be()},v=[\"mouseenter\",\"mouseleave\",\"focus\",\"blur\"],m=[\"click\",\"dblclick\",\"mousedown\",\"mouseup\"];Object.entries(Ce).forEach((([e,t])=>{t&&(v.includes(e)?a.push({event:e,listener:He}):m.includes(e)&&a.push({event:e,listener:d}))})),Object.entries(Re).forEach((([e,t])=>{t&&(v.includes(e)?a.push({event:e,listener:Me}):m.includes(e)&&a.push({event:e,listener:p}))})),O&&a.push({event:\"mousemove\",listener:De});const y=()=>{_e.current=!0},h=()=>{_e.current=!1,Be()};return R&&!Le&&(null===(e=le.current)||void 0===e||e.addEventListener(\"mouseenter\",y),null===(t=le.current)||void 0===t||t.addEventListener(\"mouseleave\",h)),a.forEach((({event:e,listener:t})=>{o.forEach((o=>{var l;null===(l=o.current)||void 0===l||l.addEventListener(e,t)}))})),()=>{var e,t;xe.scroll&&(window.removeEventListener(\"scroll\",r),null==n||n.removeEventListener(\"scroll\",r),null==c||c.removeEventListener(\"scroll\",r)),xe.resize?window.removeEventListener(\"resize\",r):null==i||i(),xe.clickOutsideAnchor&&window.removeEventListener(\"click\",qe),xe.escape&&window.removeEventListener(\"keydown\",s),R&&!Le&&(null===(e=le.current)||void 0===e||e.removeEventListener(\"mouseenter\",y),null===(t=le.current)||void 0===t||t.removeEventListener(\"mouseleave\",h)),a.forEach((({event:e,listener:t})=>{o.forEach((o=>{var l;null===(l=o.current)||void 0===l||l.removeEventListener(e,t)}))}))}}),[V,We,fe,Ee,Ae,D,q,H,ke]),i((()=>{var e,t;let o=null!==(t=null!==(e=null==he?void 0:he.anchorSelect)&&void 0!==e?e:p)&&void 0!==t?t:\"\";!o&&r&&(o=`[data-tooltip-id='${r}']`);const l=new MutationObserver((e=>{const t=[],l=[];e.forEach((e=>{if(\"attributes\"===e.type&&\"data-tooltip-id\"===e.attributeName){e.target.getAttribute(\"data-tooltip-id\")===r&&t.push(e.target)}if(\"childList\"===e.type){if(V){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(o)try{l.push(...t.filter((e=>e.matches(o)))),l.push(...t.flatMap((e=>[...e.querySelectorAll(o)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,V))&&(ye(!1),Ne(!1),Z(null),ne.current&&clearTimeout(ne.current),ce.current&&clearTimeout(ce.current),!0)}))}if(o)try{const l=[...e.addedNodes].filter((e=>1===e.nodeType));t.push(...l.filter((e=>e.matches(o)))),t.push(...l.flatMap((e=>[...e.querySelectorAll(o)])))}catch(e){}}})),(t.length||l.length)&&Oe((e=>[...e.filter((e=>!l.includes(e))),...t]))}));return l.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[\"data-tooltip-id\"]}),()=>{l.disconnect()}}),[r,p,null==he?void 0:he.anchorSelect,V]),i((()=>{We()}),[We]),i((()=>{if(!(null==X?void 0:X.current))return()=>null;const e=new ResizeObserver((()=>{We()}));return e.observe(X.current),()=>{e.disconnect()}}),[U,null==X?void 0:X.current]),i((()=>{var e;const t=document.querySelector(`[id='${u}']`),o=[...Ae,t];V&&o.includes(V)||Z(null!==(e=Ae[0])&&void 0!==e?e:t)}),[u,Ae,V]),i((()=>()=>{ne.current&&clearTimeout(ne.current),ce.current&&clearTimeout(ce.current)}),[]),i((()=>{var e;let t=null!==(e=null==he?void 0:he.anchorSelect)&&void 0!==e?e:p;if(!t&&r&&(t=`[data-tooltip-id='${r}']`),t)try{const e=Array.from(document.querySelectorAll(t));Oe(e)}catch(e){Oe([])}}),[r,p,null==he?void 0:he.anchorSelect]);const Pe=null!==(oe=null==he?void 0:he.content)&&void 0!==oe?oe:U,Fe=ve&&Object.keys(ae).length>0;return a(t,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] \"${e.anchorSelect}\" is not a valid CSS selector`)}we(null!=e?e:null),(null==e?void 0:e.delay)?$e(e.delay):Ne(!0)},close:e=>{(null==e?void 0:e.delay)?je(e.delay):Ne(!1)},activeAnchor:V,place:ie,isOpen:Boolean(fe&&!T&&Pe&&Fe)}))),fe&&!T&&Pe?e.createElement(E,{id:r,role:te,className:y(\"react-tooltip\",$.tooltip,j.tooltip,j[d],n,`react-tooltip__place-${ie}`,$[Fe?\"show\":\"closing\"],Fe?\"react-tooltip__show\":\"react-tooltip__closing\",\"fixed\"===b&&$.fixed,R&&$.clickable),onTransitionEnd:e=>{ve||\"opacity\"!==e.propertyName||(ye(!1),we(null),null==K||K())},style:{...W,...ae,opacity:void 0!==Q&&Fe?Q:void 0},ref:le},Pe,e.createElement(E,{className:y(\"react-tooltip-arrow\",$.arrow,j.arrow,s,L&&$.noArrow),style:{...ue,background:ee?`linear-gradient(to right bottom, transparent 50%, ${ee} 50%)`:void 0},ref:re})):null},B=({content:t})=>e.createElement(\"span\",{dangerouslySetInnerHTML:{__html:t}}),z=(e,t)=>!(\"CSS\"in window&&\"supports\"in window.CSS)||window.CSS.supports(e,t),D=e.forwardRef((({id:t,anchorId:l,anchorSelect:r,content:n,html:s,render:a,className:d,classNameArrow:u,variant:p=\"dark\",place:v=\"top\",offset:m=10,wrapper:f=\"div\",children:y=null,events:h=[\"hover\"],openOnClick:w=!1,positionStrategy:b=\"absolute\",middlewares:S,delayShow:E=0,delayHide:g=0,float:_=!1,hidden:A=!1,noArrow:O=!1,clickable:T=!1,closeOnEsc:L=!1,closeOnScroll:C=!1,closeOnResize:R=!1,openEvents:x,closeEvents:N,globalCloseEvents:$,imperativeModeOnly:j=!1,style:D,position:q,isOpen:H,disableStyleInjection:M=!1,border:W,opacity:P,arrowColor:F,setIsOpen:K,afterShow:U,afterHide:X,role:Y=\"tooltip\"},G)=>{const[V,Z]=o(n),[J,Q]=o(s),[ee,te]=o(v),[oe,le]=o(p),[re,ne]=o(m),[ce,ie]=o(E),[se,ae]=o(g),[de,ue]=o(_),[pe,ve]=o(A),[me,fe]=o(f),[ye,he]=o(h),[we,be]=o(b),[Se,Ee]=o(null),ge=c(M),{anchorRefs:_e,activeAnchor:Ae}=k(t),Oe=e=>null==e?void 0:e.getAttributeNames().reduce(((t,o)=>{var l;if(o.startsWith(\"data-tooltip-\")){t[o.replace(/^data-tooltip-/,\"\")]=null!==(l=null==e?void 0:e.getAttribute(o))&&void 0!==l?l:null}return t}),{}),Te=e=>{const t={place:e=>{var t;te(null!==(t=e)&&void 0!==t?t:v)},content:e=>{Z(null!=e?e:n)},html:e=>{Q(null!=e?e:s)},variant:e=>{var t;le(null!==(t=e)&&void 0!==t?t:p)},offset:e=>{ne(null===e?m:Number(e))},wrapper:e=>{var t;fe(null!==(t=e)&&void 0!==t?t:f)},events:e=>{const t=null==e?void 0:e.split(\" \");he(null!=t?t:h)},\"position-strategy\":e=>{var t;be(null!==(t=e)&&void 0!==t?t:b)},\"delay-show\":e=>{ie(null===e?E:Number(e))},\"delay-hide\":e=>{ae(null===e?g:Number(e))},float:e=>{ue(null===e?_:\"true\"===e)},hidden:e=>{ve(null===e?A:\"true\"===e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((([e,o])=>{var l;null===(l=t[e])||void 0===l||l.call(t,o)}))};i((()=>{Z(n)}),[n]),i((()=>{Q(s)}),[s]),i((()=>{te(v)}),[v]),i((()=>{le(p)}),[p]),i((()=>{ne(m)}),[m]),i((()=>{ie(E)}),[E]),i((()=>{ae(g)}),[g]),i((()=>{ue(_)}),[_]),i((()=>{ve(A)}),[A]),i((()=>{be(b)}),[b]),i((()=>{ge.current!==M&&console.warn(\"[react-tooltip] Do not change `disableStyleInjection` dynamically.\")}),[M]),i((()=>{\"undefined\"!=typeof window&&window.dispatchEvent(new CustomEvent(\"react-tooltip-inject-styles\",{detail:{disableCore:\"core\"===M,disableBase:M}}))}),[]),i((()=>{var e;const o=new Set(_e);let n=r;if(!n&&t&&(n=`[data-tooltip-id='${t}']`),n)try{document.querySelectorAll(n).forEach((e=>{o.add({current:e})}))}catch(e){console.warn(`[react-tooltip] \"${n}\" is not a valid CSS selector`)}const c=document.querySelector(`[id='${l}']`);if(c&&o.add({current:c}),!o.size)return()=>null;const i=null!==(e=null!=Se?Se:c)&&void 0!==e?e:Ae.current,s=new MutationObserver((e=>{e.forEach((e=>{var t;if(!i||\"attributes\"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith(\"data-tooltip-\")))return;const o=Oe(i);Te(o)}))})),a={attributes:!0,childList:!1,subtree:!1};if(i){const e=Oe(i);Te(e),s.observe(i,a)}return()=>{s.disconnect()}}),[_e,Ae,Se,l,r]),i((()=>{(null==D?void 0:D.border)&&console.warn(\"[react-tooltip] Do not set `style.border`. Use `border` prop instead.\"),W&&!z(\"border\",`${W}`)&&console.warn(`[react-tooltip] \"${W}\" is not a valid \\`border\\`.`),(null==D?void 0:D.opacity)&&console.warn(\"[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead.\"),P&&!z(\"opacity\",`${P}`)&&console.warn(`[react-tooltip] \"${P}\" is not a valid \\`opacity\\`.`)}),[]);let ke=y;const Le=c(null);if(a){const t=a({content:null!=V?V:null,activeAnchor:Se});ke=t?e.createElement(\"div\",{ref:Le,className:\"react-tooltip-content-wrapper\"},t):null}else V&&(ke=V);J&&(ke=e.createElement(B,{content:J}));const Ce={forwardRef:G,id:t,anchorId:l,anchorSelect:r,className:d,classNameArrow:u,content:ke,contentWrapperRef:Le,place:ee,variant:oe,offset:re,wrapper:me,events:ye,openOnClick:w,positionStrategy:we,middlewares:S,delayShow:ce,delayHide:se,float:de,hidden:pe,noArrow:O,clickable:T,closeOnEsc:L,closeOnScroll:C,closeOnResize:R,openEvents:x,closeEvents:N,globalCloseEvents:$,imperativeModeOnly:j,style:D,position:q,isOpen:H,border:W,opacity:P,arrowColor:F,setIsOpen:K,afterShow:U,afterHide:X,activeAnchor:Se,setActiveAnchor:e=>Ee(e),role:Y};return e.createElement(I,{...Ce})}));\"undefined\"!=typeof window&&window.addEventListener(\"react-tooltip-inject-styles\",(e=>{e.detail.disableCore||S({css:`:root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}`,type:\"core\"}),e.detail.disableBase||S({css:`\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:\"base\"})}));export{D as Tooltip,T as TooltipProvider,L as TooltipWrapper,E as removeStyle};\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'react-tooltip/dist/react-tooltip.css';\r\nimport './index.css';\r\nimport QuoteView from './scripts/QuoteView';\r\nimport LaserCutAcrylic from './scripts/products/acrylic/LaserCutAcrylic/LaserCutAcrylic';\r\nimport LayeredAcrylic from './scripts/products/acrylic/LayeredAcrylic/LayeredAcrylic';\r\nimport MetalLaminate from './scripts/products/acrylic/MetalLaminate/MetalLaminate';\r\nimport UvPrintedAcrylic from './scripts/products/acrylic/UvPrintedAcrylic/UvPrintedAcrylic';\r\nimport CustomProject from './scripts/products/custom/CustomProject';\r\nimport TrimLessBackLit from './scripts/products/metal-channel/TrimLessBackLit/TrimLessBackLit';\r\nimport TrimLessFrontAndBackLit from './scripts/products/metal-channel/TrimLessFrontAndBackLit/TrimLessFrontAndBackLit';\r\nimport TrimLessFrontLit from './scripts/products/metal-channel/TrimLessFrontLit/TrimLessFrontLit';\r\nimport FabricatedStainless from './scripts/products/metal/FabricatedStainless/FabricatedStainless';\r\nimport LaserCutAluminum from './scripts/products/metal/LaserCutAluminum/LaserCutAluminum';\r\nimport LaserCutStainless from './scripts/products/metal/LaserCutStainless/LaserCutStainless';\r\nimport PVCMetalLaminate from './scripts/products/pvc/PVCMetalLaminate/PVCMetalLaminate';\r\nimport PVCPainted from './scripts/products/pvc/PVCPainted/PVCPainted';\r\nimport PVCUv from './scripts/products/pvc/PVCUv/PVCUv';\r\n\r\nif (document.querySelector('#laserCutAcrylic')) {\r\n\tReactDOM.render(\r\n\t\t<LaserCutAcrylic />,\r\n\t\tdocument.querySelector('#laserCutAcrylic')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#pvcMetalLaminate')) {\r\n\tReactDOM.render(\r\n\t\t<PVCMetalLaminate />,\r\n\t\tdocument.querySelector('#pvcMetalLaminate')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#pvcPainted')) {\r\n\tReactDOM.render(<PVCPainted />, document.querySelector('#pvcPainted'));\r\n}\r\n\r\nif (document.querySelector('#pvcUv')) {\r\n\tReactDOM.render(<PVCUv />, document.querySelector('#pvcUv'));\r\n}\r\n\r\nif (document.querySelector('#layeredAcrylic')) {\r\n\tReactDOM.render(\r\n\t\t<LayeredAcrylic />,\r\n\t\tdocument.querySelector('#layeredAcrylic')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#laserCutAluminum')) {\r\n\tReactDOM.render(\r\n\t\t<LaserCutAluminum />,\r\n\t\tdocument.querySelector('#laserCutAluminum')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#uvPrintedAcrylic')) {\r\n\tReactDOM.render(\r\n\t\t<UvPrintedAcrylic />,\r\n\t\tdocument.querySelector('#uvPrintedAcrylic')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#metalLaminateAcrylic')) {\r\n\tReactDOM.render(\r\n\t\t<MetalLaminate />,\r\n\t\tdocument.querySelector('#metalLaminateAcrylic')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#laserCutStainless')) {\r\n\tReactDOM.render(\r\n\t\t<LaserCutStainless />,\r\n\t\tdocument.querySelector('#laserCutStainless')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#metalChannelTrimlessFrontLit')) {\r\n\tReactDOM.render(\r\n\t\t<TrimLessFrontLit />,\r\n\t\tdocument.querySelector('#metalChannelTrimlessFrontLit')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#metalChannelTrimlessFrontAndBackLit')) {\r\n\tReactDOM.render(\r\n\t\t<TrimLessFrontAndBackLit />,\r\n\t\tdocument.querySelector('#metalChannelTrimlessFrontAndBackLit')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#metalChannelTrimlessBackLit')) {\r\n\tReactDOM.render(\r\n\t\t<TrimLessBackLit />,\r\n\t\tdocument.querySelector('#metalChannelTrimlessBackLit')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#metalFabricatedStainless')) {\r\n\tReactDOM.render(\r\n\t\t<FabricatedStainless />,\r\n\t\tdocument.querySelector('#metalFabricatedStainless')\r\n\t);\r\n}\r\n\r\nif (document.querySelector('#quoteView')) {\r\n\tReactDOM.render(<QuoteView />, document.querySelector('#quoteView'));\r\n}\r\n\r\nif (document.querySelector('#customProject')) {\r\n\tReactDOM.render(<CustomProject />, document.querySelector('#customProject'));\r\n}\r\n"],"names":["Dialog","React","useState","CloseIcon","LoadingIcon","processQuote","DeleteQuote","error","setError","open","setOpen","label","setLabel","isDeleted","setIsDeleted","handleDeleteQuote","event","preventDefault","setIsLoading","formData","FormData","append","NovaQuote","nonce","current_quote_id","user_role","data","status","window","location","replace","mockup_account_url","alert","console","log","err","isLoading","createElement","Fragment","Root","onOpenChange","Trigger","asChild","className","Portal","Overlay","Content","Title","Description","class","fill","viewBox","xmlns","d","Close","type","onClick","disabled","Dropdown","title","onChange","options","value","style","onlyValue","selectClass","useEffect","Tooltip","EditableText","id","text","editing","setEditing","handleOnChange","e","target","handleOnCancel","CancelIcon","stroke","handleOnSave","SaveIcon","EditIcon","strokeWidth","strokeLinecap","strokeLinejoin","length","useRef","useOutsideClick","fontDefaultOptions","FontsDropdown","font","handleSelectFont","fontRef","openFont","setOpenFont","setOpenColor","handleCustomFontSelection","ref","prev","fontFamily","popular_fonts","split","map","popularfont","fonts","regFont","checkAndCreateFolder","renameFolder","ModalSave","signage","action","btnClass","required","tempFolder","storage","submitted","setSubmitted","submitting","setSubmitting","quoteID","setQuoteID","setTitle","current_quote_title","formRef","inputRef","totalUsdPrice","reduce","acc","item","parseFloat","usdPrice","htmlString","forEach","missing","missingFields","field","message","loadingStatus","handleTitleChange","toProcessingMessage","updateMessageHtml","saveDraftMessageHtml","mockup_drafts_url","handleFormSubmit","product","user_id","JSON","stringify","toFixed","wcumcs_vars_data","currency","localStorage","removeItem","href","is_editting","folderPath","business_id","newPath","generated_id","rename","prevSignage","updatedSignage","RegExp","newData","updating","projectFolder","createFolder","onSubmit","name","dangerouslySetInnerHTML","__html","quote_url","Prices","price","cadPrice","Number","toLocaleString","letters","fontFileUrl","fontFileName","metal","thickness","metalDepth","acrylicThickness","metalThickness","depth","letterHeight","backLitFinishing","backLitMetalFinish","faceReturnColor","width","height","metalFinish","stainLessMetalFinish","stainlessSteelPolished","layers","metalLaminate","pvcBaseColor","acrylicBase","printPreference","color","returnColor","baseColor","customColor","finishing","metalColor","metalCustomColor","ledLightColor","acrylicReveal","frontAcrylicCover","vinylWhite","code","waterproof","mounting","metalFinishing","studLength","spacerStandoffDistance","installation","pieces","sets","comments","trim","fileUrl","files","fileName","fileNames","fileUrls","index","description","PricesView","margin","fontSize","whiteSpace","overflow","textShadow","wordBreak","lineHeight","padding","headlineRef","adjustFontSize","current","container","parentNode","headline","scrollWidth","offsetWidth","getComputedStyle","decodeHTML","html","txt","document","innerHTML","QuoteView","NovaAccount","NovaMyAccount","quote","taxRate","tax_rate","parse","quoteRef","isDownloading","setIsDownloading","isHovered","setIsHovered","addedToCart","setAddedToCart","is_added_to_cart","Object","keys","preloadFonts","loadingFonts","loadPromises","loadFont","Promise","all","src","fontFace","FontFace","load","add","addToCart","ID","nova_quote_product","product_name","generated_product_id","product_line","fetch","ajax_url","method","credentials","headers","body","then","response","json","cartTotal","querySelector","innerText","parseInt","Event","reload","catch","quotePrice","final_price","exchangeRate","finalPrice","flatRate","standardRate","estimatedShipping","Math","max","tax","taxCompute","estimatedTotal","downloadFile","quote_status","invoice_url","padStart","published","updated_date","company_name","material","note","tax_rate_name","Sidebar","taxRateObj","taxRateName","totalCadPrice","totalPrice","estimateTotalPrice","not_author_but_admin","SidebarNoPrice","v4","uuidv4","ClearIcon","CollapseIcon","DuplicateIcon","TrashIcon","Signage","setSignage","children","setMissing","itemTitle","setItemTitle","loading","setLoading","recountSignageTitles","count","sign","currentCount","removeSignage","itemToRemove","currentSignage","filter","updatedMissing","duplicateSignage","duplicated","filePaths","fontFile","fontFilePath","updated","slice","updateSignage","clearStorage","pathname","updateMissingTitle","prevMissing","existingIndex","findIndex","entry","handleOnChangeTitle","UploadFiles","setFilePaths","setFileUrls","setFileNames","fileRef","accessToken","setAccessToken","maxFiles","handleButtonClick","click","handleChange","totalAllowedUploads","Array","from","file","handleFileUpload","getRefreshToken","clientId","dropbox_app_key","clientSecret","dropbox_secret","refreshToken","dropbox_refresh_token","url","params","URLSearchParams","grant_type","refresh_token","client_id","client_secret","ok","Error","access_token","Authorization","path","error_summary","checkForExistingSharedLink","token","filePath","direct_only","links","dropboxArgs","mode","autorename","mute","uploadResponse","uploadData","isArray","path_display","existingLink","sharedLinkResponse","settings","sharedLinkData","handleRemoveFile","currentAccessToken","_","i","accept","multiple","key","UploadFont","setFontFilePath","setFontFileUrl","setFontFile","setFontFileName","getFormattedDate","today","Date","toISOString","metadata","statusText","cx","cy","r","colorOptions","metalFinishColors","translucentGraphicFilms","createContext","PlusIcon","Letters","Logo","QuoteContext","LaserCutAcrylic","setTempFolder","tempFolderName","random","toString","substring","quote_div_id","localStorageQuote","getItem","savedStorage","setDefaultSignage","customFont","defaultArgs","addSignage","args","toUpperCase","thickness_options","newSignage","savedStorageFolder","setItem","Provider","border","useContext","convert_json","mountingDefaultOptions","setOptions","spacerStandoffDefaultOptions","studLengthOptions","thicknessOptions","waterProofOptions","NovaOptions","quote_options","NovaSingleOptions","single_quote_options","lowerCasePricing","lowercase_pricing","smallPunctuations","small_punctuations_pricing","setLetters","setComments","setFont","setColor","openColor","setWaterproof","selectedThickness","setSelectedThickness","setFiles","setFileName","setFileUrl","setFilePath","setFile","letterHeightOptions","setLetterHeightOptions","selectedFinishing","setSelectedFinishing","setCustomFont","setCustomColor","selectedLetterHeight","setSelectedLetterHeight","setUsdPrice","setCadPrice","mountingOptions","setMountingOptions","lettersHeight","setLettersHeight","letters_height","selectedMounting","setSelectedMounting","setStudLength","spacerStandoffOptions","setSpacerStandoffOptions","setSpacerStandoffDistance","setSets","colorRef","finishingOptions","finishing_options","letterPricing","letter_pricing_table","pricing_table","handleOnChangeLetters","handleComments","handleOnChangeSets","handleOnChangeMount","handleOnChangeWaterproof","handleOnChangeThickness","selected","option","handleOnChangeLetterHeight","handleChangeFinishing","handleChangePieces","setPieces","handleonChangeSpacerDistance","handleonChangeStudLength","includes","pricingDetail","baseLetterPrice","totalLetterPrice","lettersArray","noLowerCase","no_lowercase","letter","letterPrice","match","maxVal","spacer","newMountingOptions","mounting_option","min","val","checkAndAddMissingFields","push","newHeightOptions","undefined","isNaN","Height","maxLength","placeholder","background","rows","getLogoPricingTablebyThickness","calculateMountingOptions","setWidth","setHeight","maxWidthHeight","setMaxWidthHeight","maxWidthOptions","setMaxWidthOptions","logoPricingObject","logo_pricing_tables","logoPricing","logoPricingTable","computed","multiplier","total","ASSEMBLY_FEES","LayeredAcrylic","defaultFinishOptions","setDescription","setLayers","handleOnChangeDescription","layersOptions","layer","acrylicBaseOptions","METAL_ACRYLIC_PRICING","MetalLaminate","setAcrylicBase","openAcrylicColor","setOpenAcrylicColor","setMetalLaminate","acrylicRef","perLetterPrice","handleChangeMetalLaminate","selectedLaminate","find","laminate","adjustedPrice","backgroundColor","UvPrintedAcrylic","UV_PRICE","setBaseColor","setPrintPreference","printOptions","baseColorOptions","SignageCount","CustomProject","custom_id","TrimLessBackLit","getLetterPricingTableByTitle","acrylicRevealOptions","depthOptions","ledLightColors","metalFinishOptions","setLetterPricing","setDepth","setAcrylicReveal","setMetalFinish","setMounting","setLedLightColor","handleOnChangeMounting","handleOnChangeAcrylicReveal","handleOnChangeLedLight","handelMetalFinishChange","handleOnChangeDepth","table","letter_pricing_tables","mm","finish","TrimLessFrontAndBackLit","whiteOptions","frontBackdepthOptions","openAcrylicCover","setOpenAcrylicCover","setVinylWhite","setFrontAcrylicCover","acrylicColorRef","handleOnChangeWhite","Depth","TrimLessFrontLit","FabricatedStainless","fabricatedMetalInstallationOptions","fabricatedThicknessOptions","finishOptions","metalOptions","setMetal","setStainLessMetalFinish","handleOnChangeInstallation","maxWidthHeightOptions","LaserCutAluminum","metalInstallationOptions","metalThicknessOptions","metalMountingOptions","setMetalMountingOptions","stainlessSteelPolishedOptions","setStainlessSteelPolished","steelPolished","setInstallation","fabricatedLogoInstallationOptions","PVCMetalLaminate","setPvcBaseColor","mountingSelections","setMountingSelections","newOptions","PVCPainted","PVCUv","setmounting","setmountingSelections","handleOnChangemounting","installationOptions","metalLaminateOptions","fillRule","clipRule","x1","y1","x2","y2","refs","callback","handleClickOutside","every","contains","addEventListener","removeEventListener","tableString","row","values","obj","header","element","logo_pricing","logo_size","logo_pricing_table","letterPricingObject","letter_pricing","installationDefaultOptions","updatedSelectedMounting","_newMountingOptions$","piecesOptions","oldPath","moveUrl","moveParams","from_path","to_path","moveResponse","moveData","ReactDOM","LaserCutStainless","render"],"sourceRoot":""}